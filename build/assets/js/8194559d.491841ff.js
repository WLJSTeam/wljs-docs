"use strict";(self.webpackChunkwljs_docs=self.webpackChunkwljs_docs||[]).push([[5678],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=r.createContext({}),p=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(l.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,h=u["".concat(l,".").concat(d)]||u[d]||m[d]||i;return n?r.createElement(h,o(o({ref:t},c),{},{components:n})):r.createElement(h,o({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:a,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4149:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:1,title:""},o=void 0,s={unversionedId:"interpreter/intro",id:"interpreter/intro",title:"",description:"Minimal Wolfram Language Interpreter",source:"@site/docs/interpreter/intro.md",sourceDirName:"interpreter",slug:"/interpreter/intro",permalink:"/wljs-docs/docs/interpreter/intro",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/interpreter/intro.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:""},sidebar:"interpreterSidebar",next:{title:"Tutorial - Basics",permalink:"/wljs-docs/docs/category/tutorial---basics"}},l={},p=[{value:"Quick start",id:"quick-start",level:2},{value:"Using as a standalone interpreter",id:"using-as-a-standalone-interpreter",level:3},{value:"Extensions",id:"extensions",level:2},{value:"Applications",id:"applications",level:3},{value:"Partial support of the native WL expressions",id:"partial-support-of-the-native-wl-expressions",level:2}],c={toc:p},u="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{style:{"text-align":"center"}},"Minimal Wolfram Language Interpreter"),(0,a.kt)("div",{style:{"text-align":"center"}},(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},(0,a.kt)("em",{parentName:"strong"},"written in Javascript")))),(0,a.kt)("h4",{style:{"text-align":"center"}},(0,a.kt)("a",{href:"https://github.com/JerryI/wolfram-js-frontend"},"Github repository")," of the project"),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"This code is executing in your browser now")),(0,a.kt)("iframe",{style:{border:"none","border-radius":"10px",width:"100%",height:"100%","min-height":"500px"},src:"https://jerryi.github.io/wljs-interpreter/?example=boat.txt&logs=false&full=true"}),(0,a.kt)("p",null,"This project is originally a base for ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wolfram-js-frontend"},"Wolfram Language JS Frontend"),", that interprets the results produced by Wolfram Kernel (Wolfram Engine, Mathematica) using the same symbolic expressions for functions, procedures and variables allowing to have dynamic plots, graphics and many more. "),(0,a.kt)("p",null,"This approach was generalized to the standalone interpreter that works in the browser and acts like a bridge between JavaScript world and Wolfram Language expressions. In a combination with ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/JerryI/tinyweb-mathematica"},"web sockets protocol to communicate with Wolfram Kernel")," it allows making sort of interactive web-applications."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"This is not meant for the heavy computations, the average performance for a synthetic tests ",(0,a.kt)("strong",{parentName:"p"},"demonstrates ~0.25 computing power compared to the native Wolfram Kernel"),". Not all functions supported by Mathematica are implemented, see ",(0,a.kt)("a",{parentName:"p",href:"/wljs-docs/docs/interpreter/Extras/reference"},"Reference"),".")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Symbolic computing is not possible"),"\n",(0,a.kt)("em",{parentName:"p"},"Only ",(0,a.kt)("inlineCode",{parentName:"em"},"JSONExpression")," format is supported")," "),(0,a.kt)("h2",{id:"quick-start"},"Quick start"),(0,a.kt)("p",null,"To run a sandbox you need to have only ",(0,a.kt)("inlineCode",{parentName:"p"},"wolframscript"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"nodejs")," and any modern browser installed"),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Wolfram Kernel only runs HTTP server and provides the transpiling from WL language syntax to JSON representation, since ",(0,a.kt)("strong",{parentName:"p"},"there is no freeware WL parser on the internet so far"),". All computations happens inside your browser")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/JerryI/wolfram-js-frontend\ncd wljs-interpreter\nnpm i\nnpm start\nwolframscript -f transpile.wls\n")),(0,a.kt)("p",null,"A page similar to one at the top will pop up (with a boat). Then you can freely edit the code and any changes will be shown on the right."),(0,a.kt)("h3",{id:"using-as-a-standalone-interpreter"},"Using as a standalone interpreter"),(0,a.kt)("p",null,"Load as a script to the HTML page using CDN. The core components is less than 10kb"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-html"},'<script type="module" src="https://cdn.statically.io/gh/JerryI/wljs-interpreter/main/src/interpreter.js"><\/script>\n<script type="module" src="https://cdn.statically.io/gh/JerryI/wljs-interpreter/main/src/core.js"><\/script>\n')),(0,a.kt)("p",null,"To run the code it uses JSON format to represent WL expressions"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'interpretate(["Print", "\'Hello World!\'"], {})\n')),(0,a.kt)("p",null,"You have an access to global context using ",(0,a.kt)("inlineCode",{parentName:"p"},"core")," object. The list of defined functions can be seen by calling ",(0,a.kt)("inlineCode",{parentName:"p"},"core")," in the browser's console."),(0,a.kt)("p",null,"The core context can be expanded by simply putting this core in any place in the page. No class definition of imports are needed"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"window.onload = () => {\n    core.MyFunction = async (args, env) {\n        alert('Called! with ' + args[0]);\n    }\n}\n")),(0,a.kt)("p",null,"The wrapper ",(0,a.kt)("inlineCode",{parentName:"p"},"onload")," is only needed to make sure that the page with all scripts was fully loaded. Then you can call it naturally"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'interpretate(["MyFunction", "\'whatever\'"], {})\n')),(0,a.kt)("h2",{id:"extensions"},"Extensions"),(0,a.kt)("p",null,"The interpreter provides only the minimum-necessary set of functions, to bring ",(0,a.kt)("inlineCode",{parentName:"p"},"Graphics")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"Graphics3D")," (or if you are using ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wolfram-js-frontend"},"Wolfram JS Frontend")," you need set of sliders and other building blocks for GUI) you should consider to use it together with the following packages"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/JerryI/wljs-graphics-d3"},"wljs-graphics-d3")," (see Docs here)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/JerryI/Mathematica-ThreeJS-graphics-engine"},"wljs-graphics3d-threejs")," (see Docs here)")),(0,a.kt)("p",null,"Just simply include ",(0,a.kt)("inlineCode",{parentName:"p"},"dist/kernel.js")," file into the web-page as a module using CDN (JSDelivr, StaticIO). Some of ",(0,a.kt)("a",{parentName:"p",href:"#Quick%20start"},"build-in examples")," already uses those packages. NO installation needed."),(0,a.kt)("h3",{id:"applications"},"Applications"),(0,a.kt)("p",null,"The animation running on ",(0,a.kt)("a",{parentName:"p",href:"https://wolfram-language-russian-conference.github.io"},"Wolfram Conference St. Piter 2023")," website was made using this interpreter. The overall overhead for Javascript engine is relatively small, since it relies on the plain JS objects as an internal data structure."),(0,a.kt)("p",null,"In a combination with web sockets a web platform for processing and storing experimental data from THz spectrometers was made in ",(0,a.kt)("a",{parentName:"p",href:"https://www.uni-augsburg.de/en/"},"Augsburg University")," (link is not available, since this is internal application)."),(0,a.kt)("iframe",{style:{margin:"auto"},width:560,height:315,src:"https://www.youtube.com/embed/S_qANSuhVH0",title:"YouTube video player",frameBorder:0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:""}),(0,a.kt)("h2",{id:"partial-support-of-the-native-wl-expressions"},"Partial support of the native WL expressions"),(0,a.kt)("p",null,"There is no aim to recreate all Wolfram Language functions, you can think about this interpreter more like as a bridge between ",(0,a.kt)("inlineCode",{parentName:"p"},"Javascript")," ecosystem and ",(0,a.kt)("inlineCode",{parentName:"p"},"Wolfram Language"),". The interpreter can easily be expanded via packages or explicitly defined functions inside the HTML page. One can write your own symbols based on the application you have."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"To help maintain this project")," "),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://www.paypal.com/donate/?hosted_button_id=BN9LWUUUJGW54"},"kirill.vasin@uni-a.de")," ",(0,a.kt)("a",{parentName:"p",href:"https://www.paypal.com/donate/?hosted_button_id=BN9LWUUUJGW54"},"PayPal")," "),(0,a.kt)("p",null,"Thank you \ud83c\udf7a"))}m.isMDXComponent=!0}}]);