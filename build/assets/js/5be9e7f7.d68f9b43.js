"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[15317],{2859:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/5193032764637704506-c35ef1a9ba4c40692a386a5b53afa7f6.jpg"},24814:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/5193032764637704507-df53bddf34095f1252ccf20341b1b75e.jpg"},27307:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var r=t(74848),s=t(28453);const i={},o="Rendering Composition",a={id:"frontend/Development/Rendering composition",title:"Rendering Composition",description:"The WLJS Notebook integrates a wide range of Web APIs to maximize performance and render complex, decorated Wolfram expressions\u2014including nested elements such as:",source:"@site/docs/frontend/Development/Rendering composition.md",sourceDirName:"frontend/Development",slug:"/frontend/Development/Rendering composition",permalink:"/frontend/Development/Rendering composition",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1748709296e3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"New cell type and Kernel evaluation",permalink:"/frontend/Development/Plugins/Examples/New cell type and Kernel evaluation"},next:{title:"Reference",permalink:"/frontend/Reference/"}},l={},c=[];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"rendering-composition",children:"Rendering Composition"}),"\n",(0,r.jsx)(n.p,{children:"The WLJS Notebook integrates a wide range of Web APIs to maximize performance and render complex, decorated Wolfram expressions\u2014including nested elements such as:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"SVG graphics"}),"\n",(0,r.jsx)(n.li,{children:"Canvas"}),"\n",(0,r.jsx)(n.li,{children:"WebGL shaders"}),"\n",(0,r.jsx)(n.li,{children:"Basic HTML elements"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Here are a few examples showing how we compose these elements to render Wolfram expressions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mathematica",children:"Plot[{x, x^2}, {x, 0, 1}, PlotLegends -> Automatic]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(2859).A+"",width:"1190",height:"496"})}),"\n",(0,r.jsxs)(n.p,{children:["In this example, we have a typical scenario where SVG graphics are overlaid with an HTML element inset\u2014specifically, a ",(0,r.jsx)(n.a,{href:"/frontend/Reference/Formatting/SwatchLegend",children:"SwatchLegend"}),". The ",(0,r.jsx)(n.code,{children:"CodeMirror"})," elements represent truncated versions of the code editor found in every ",(0,r.jsx)(n.a,{href:"/frontend/Cell%20types/Input%20cell",children:"Input Cell"}),". While this might seem excessive, we use this setup only when the expression is not plain text and it is unclear how to render it. This universal approach allows us to embed full expressions, including nested plots, within other plots and more."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mathematica",children:'Legended[\n Grid[Partition[\n   Table[If[PrimeQ[n], Item[n, Background -> LightBlue], n], {n, 100}],\n    10], Frame -> All], SwatchLegend[{LightBlue}, {"prime numbers"}]]\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(34556).A+"",width:"1198",height:"532"})}),"\n",(0,r.jsxs)(n.p,{children:["In this example, we render a grid of 100 editors, where all ",(0,r.jsx)(n.em,{children:"prime"})," number cells have a different background color."]}),"\n",(0,r.jsxs)(n.p,{children:["Most importantly, this matrix remains a fully ",(0,r.jsx)(n.strong,{children:"editable expression"}),". You can copy and paste it into other cells without issues, even in ",(0,r.jsx)(n.code,{children:"wolframscript"}),". WLJS Notebook treats ",(0,r.jsx)(n.a,{href:"/frontend/Reference/Formatting/StandardForm",children:"StandardForm"})," as a decorated version of ",(0,r.jsx)(n.a,{href:"/frontend/Reference/Formatting/InputForm",children:"InputForm"}),", making it compatible with other editors outside the Wolfram ecosystem."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-mathematica",children:"ContourPlot[Cos[x] + Sin[y], {x,0,4Pi}, {y, 0, 4Pi}, PlotLegends->Automatic]\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(24814).A+"",width:"1158",height:"770"})}),"\n",(0,r.jsxs)(n.p,{children:["This is one of our favorite examples. SVG graphics are not ideal for rendering shaded triangles generated by ",(0,r.jsx)(n.a,{href:"/frontend/Reference/Graphics/Polygon",children:"Polygon"})," elements within a ",(0,r.jsx)(n.a,{href:"/frontend/Reference/Graphics/GraphicsComplex",children:"GraphicsComplex"}),". To address performance issues, we developed a custom WebGL renderer. It renders all ",(0,r.jsx)(n.em,{children:"heavy"})," graphics using low-level GPU calls into a static image, which is then embedded inside an SVG element and overlaid with elements that are tricky to render correctly\u2014such as lines."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Line rendering in WebGL is particularly problematic. On some platforms, you can't change line thickness\u2014unless you render them using triangles, but that's another story."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var r=t(96540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},34556:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/5193032764637704505-3dfbbc146d181e39cffdba753e1244f8.jpg"}}]);