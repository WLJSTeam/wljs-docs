"use strict";(self.webpackChunkwljs_docs=self.webpackChunkwljs_docs||[]).push([[6549],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(n),m=r,h=p["".concat(s,".").concat(m)]||p[m]||u[m]||o;return n?a.createElement(h,i(i({ref:t},d),{},{components:n})):a.createElement(h,i({ref:t},d))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},4132:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const o={sidebar_position:2},i="Functions",l={unversionedId:"frontend/Advanced/front-end-functions",id:"frontend/Advanced/front-end-functions",title:"Functions",description:"Is in development",source:"@site/docs/frontend/Advanced/front-end-functions.md",sourceDirName:"frontend/Advanced",slug:"/frontend/Advanced/front-end-functions",permalink:"/wljs-docs/docs/frontend/Advanced/front-end-functions",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"frontendSidebar",previous:{title:"Advanced",permalink:"/wljs-docs/docs/category/advanced-1"},next:{title:"Working with containers",permalink:"/wljs-docs/docs/frontend/Advanced/executables"}},s={},c=[{value:"Quick and Dirty",id:"quick-and-dirty",level:2},{value:"Using standalone WLJS",id:"using-standalone-wljs",level:3},{value:"Using Wolfram Frontend",id:"using-wolfram-frontend",level:3},{value:"Deeper look",id:"deeper-look",level:2},{value:"Simple direct call",id:"simple-direct-call",level:3},{value:"\ud83c\udfa1 Example 1: Game of Life",id:"-example-1-game-of-life",level:5},{value:"Using standalone WLJS",id:"using-standalone-wljs-1",level:6},{value:"Using Wolfram Frontend",id:"using-wolfram-frontend-1",level:6},{value:"A remark about sub symbols | Methods",id:"a-remark-about-sub-symbols--methods",level:4},{value:"Contexes",id:"contexes",level:4},{value:"Executing inside a container | Frontend Object",id:"executing-inside-a-container--frontend-object",level:3},{value:"\ud83c\udfa1 Example 2: Clocks",id:"-example-2-clocks",level:5},{value:"Storage",id:"storage",level:4},{value:"Garbage collector",id:"garbage-collector",level:5},{value:"Data binding | Nesting",id:"data-binding--nesting",level:4},{value:"Perfomance remark",id:"perfomance-remark",level:5},{value:"Default methods",id:"default-methods",level:4},{value:"Async",id:"async",level:4},{value:"\ud83d\udea7 Persistent memory or shared memory",id:"-persistent-memory-or-shared-memory",level:4},{value:"\ud83c\udfa1 Example 3: Game of Life (improvements)",id:"-example-3-game-of-life-improvements",level:5},{value:"\ud83d\udea7 Passing | Injecting arguments",id:"-passing--injecting-arguments",level:4},{value:"Virtual containers",id:"virtual-containers",level:3},{value:"User-case example | The origins of the solution",id:"user-case-example--the-origins-of-the-solution",level:4},{value:"Virtual frontend objects | Virtual containers | Virtual functions",id:"virtual-frontend-objects--virtual-containers--virtual-functions",level:4},{value:"Injection into the container&#39;s instance/env",id:"injection-into-the-containers-instanceenv",level:3},{value:"\ud83c\udfa1 Example with lines",id:"-example-with-lines",level:4}],d={toc:c},p="wrapper";function u(e){let{components:t,...o}=e;return(0,r.kt)(p,(0,a.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"functions"},"Functions"),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Is in development")),(0,r.kt)("p",null,"To have an overview of all function - see ",(0,r.kt)("a",{parentName:"p",href:"/wljs-docs/docs/interpreter/Extras/reference"},"reference"),"\nLet us start from the simplest stuff"),(0,r.kt)("h2",{id:"quick-and-dirty"},"Quick and Dirty"),(0,r.kt)("h3",{id:"using-standalone-wljs"},"Using standalone WLJS"),(0,r.kt)("p",null,"To define a new a function inside ",(0,r.kt)("inlineCode",{parentName:"p"},"core")," ",(0,r.kt)("a",{parentName:"p",href:"architecture.md"},"context")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.MyFunction = async (args, env) => {\n    const data = await interpretate(args[0], env);\n    alert(data);\n}\n")),(0,r.kt)("p",null,"then, to call it directly use"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'MyFunction["Hello World!"]\n')),(0,r.kt)("p",null,"it should produce a pop-up message with a given text."),(0,r.kt)("h3",{id:"using-wolfram-frontend"},"Using Wolfram Frontend"),(0,r.kt)("p",null,"Create a new cell, then, define a function inside ",(0,r.kt)("inlineCode",{parentName:"p"},"core")," ",(0,r.kt)("a",{parentName:"p",href:"architecture.md"},"context")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},".js\ncore.MyFunction = async (args, env) => {\n    const data = await interpretate(args[0], env);\n    alert(data);\n}\n")),(0,r.kt)("p",null,"then, to call it directly use"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'MyFunction["Hello World!"] // FrontSubmit;\n')),(0,r.kt)("p",null,"or in the cell's output"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[MyFunction["Hello World!"]]\n')),(0,r.kt)("p",null,"it should produce a pop-up message with a given text."),(0,r.kt)("h2",{id:"deeper-look"},"Deeper look"),(0,r.kt)("p",null,"Firstly one need to understand the way how it was called. There are a few different ways"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"direct calls as it is"),(0,r.kt)("li",{parentName:"ul"},"indirect using containers (see ",(0,r.kt)("a",{parentName:"li",href:"/wljs-docs/docs/frontend/Advanced/executables"},"executables"),")")),(0,r.kt)("p",null,"The first one is rather straighforward, where basically most UI functions and core built-in functions are written."),(0,r.kt)("h3",{id:"simple-direct-call"},"Simple direct call"),(0,r.kt)("p",null,"As simple as that"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(3584).Z,width:"677",height:"177"})),(0,r.kt)("p",null,"A called function has no persistent memory (call and forget) except from the ",(0,r.kt)("inlineCode",{parentName:"p"},"env")," variable, which can share the data with other functions from the subthree - see more in ",(0,r.kt)("a",{parentName:"p",href:"architecture.md"},"architecture")," (Meta Data). "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Any defined functions must return javascript object or nothing"),"\nWhile in the arguments ",(0,r.kt)("inlineCode",{parentName:"p"},"args")," it is always Wolfram Expression, therefore ",(0,r.kt)("inlineCode",{parentName:"p"},"interpretate")," is always called on them to convert anything into javascript data type."),(0,r.kt)("p",null,"For example, ",(0,r.kt)("inlineCode",{parentName:"p"},"env")," comes very handy working with graphics"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.RGBColor = async (args, env) => {\n    const r = await interpretate(args[0], env);\n    const g = await interpretate(args[1], env);\n    const b = await interpretate(args[2], env);\n    env.color = new three.Color(r, g, b);\n};\n")),(0,r.kt)("p",null,"where ",(0,r.kt)("inlineCode",{parentName:"p"},"core.RGBColor")," can be called somewhere in the list"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},"{Blue[], {Red[], Sphere[] (*i am red*)}, Cuboid[] (*i am blue*)} // Graphics3D\n")),(0,r.kt)("p",null,"Then in the parent function"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.Graphics3D = async (args, env) => {\n    ...\n    var scene = {};\n    await interpretate(args[0], {...env, scene});\n    //go to subthree\n    rendered.add(scene) //all objects are there!\n}\ncore.Sphere = async (args, env) => {\n    ...\n    env.scene.add(new sphere(color: env.color));\n}\n")),(0,r.kt)("p",null,"Therefore the desired data will anyway ended up in the scene. This is a power of pointers. "),(0,r.kt)("h5",{id:"-example-1-game-of-life"},"\ud83c\udfa1 Example 1: Game of Life"),(0,r.kt)("p",null,"To get more fun, let us firstly define some supporting structures"),(0,r.kt)("h6",{id:"using-standalone-wljs-1"},"Using standalone WLJS"),(0,r.kt)("p",null,"Add the following Javascript code to the playground window"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'//create js canvas\nconst canvas = document.createElement("canvas");\ncanvas.width = 400;\ncanvas.height = 400;\n\nlet context = canvas.getContext("2d");\ncontext.fillStyle = "lightgray";\ncontext.fillRect(0, 0, 500, 500);\n\n//an array to store the previous state\nlet old = new Array(40);\nfor (let i = 0; i < old.length; i++) {\n  old[i] = new Array(40).fill(0); \n}\n\n//a function to draw on it\ncore.MyFunction = (args, env) => {\n  const data = interpretate(args[0], env);\n\n  //draw our boxes\n  for(let i=0; i<40; ++i) {\n    for (let j=0; j<40; ++j) {\n      //old pixels will leave blue traces\n      if (old[i][j] > 0) {\n        context.fillStyle = "rgba(0,0,255,0.2)"; \n        context.fillRect(i*10 + 2, j*10 + 2, 6, 6);\n      }\n      //new pixels\n      if (data[i][j] > 0) {\n        context.fillStyle = "rgba(255,0,0,0.4)"; \n        context.fillRect(i*10 + 1, j*10 + 1, 8, 8);\n      } else {\n        context.fillStyle = "rgba(255,255,255,0.4)"; \n        context.fillRect(i*10 + 1, j*10 + 1, 8, 8);\n      }\n      \n      //store the previous frame\n      old[i][j] = data[i][j];\n    }\n  }\n}\n\nreturn canvas\n')),(0,r.kt)("p",null,"If you are using in on a web page, please, replace the last line with"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"//return canvas\ndocument.body.appendChild(canvas);\n")),(0,r.kt)("p",null,"This function will draw a 40x40 array of 1 and 0 pixels inside the page. Let us try to it out on some cellular automata like Game of Life"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},"")),(0,r.kt)("h6",{id:"using-wolfram-frontend-1"},"Using Wolfram Frontend"),(0,r.kt)("p",null,"Create a new cell with the following code"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'.js\n//create js canvas\nconst canvas = document.createElement("canvas");\ncanvas.width = 400;\ncanvas.height = 400;\n\nlet context = canvas.getContext("2d");\ncontext.fillStyle = "lightgray";\ncontext.fillRect(0, 0, 500, 500);\n\n//an array to store the previous state\nlet old = new Array(40);\nfor (let i = 0; i < old.length; i++) {\n  old[i] = new Array(40).fill(0); \n}\n\n//a function to draw on it\ncore.MyFunction = (args, env) => {\n  const data = interpretate(args[0], env);\n\n  //draw our boxes\n  for(let i=0; i<40; ++i) {\n    for (let j=0; j<40; ++j) {\n      //old pixels will leave blue traces\n      if (old[i][j] > 0) {\n        context.fillStyle = "rgba(0,0,255,0.2)"; \n        context.fillRect(i*10 + 2, j*10 + 2, 6, 6);\n      }\n      //new pixels\n      if (data[i][j] > 0) {\n        context.fillStyle = "rgba(255,0,0,0.4)"; \n        context.fillRect(i*10 + 1, j*10 + 1, 8, 8);\n      } else {\n        context.fillStyle = "rgba(255,255,255,0.4)"; \n        context.fillRect(i*10 + 1, j*10 + 1, 8, 8);\n      }\n      \n      //store the previous frame\n      old[i][j] = data[i][j];\n    }\n  }\n}\n\nreturn canvas\n')),(0,r.kt)("p",null,"This function will draw a 40x40 array of 1 and 0 pixels inside the page. Let ous try to it out on some typical cellular automata like Game of Life"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},"gameOfLife = {224, {2, {{2, 2, 2}, {2, 1, 2}, {2, 2, 2}}}, {1, 1}};\nboard = RandomInteger[1, {40, 40}];\nDo[\n    board = CellularAutomaton[gameOfLife, board, {{0, 1}}] // Last;\n    MyFunction[board] // SendToFrontEnd;\n    Pause[0.1];\n, {i,1,100}]\n")),(0,r.kt)("p",null,"What it does is shown on the gif below, however you can try it by yourself by openning tutorials in the examples folder."),(0,r.kt)("p",null,"See more about JS cells in ",(0,r.kt)("a",{parentName:"p",href:"Cell%20types.md"},"Cell types"),"."),(0,r.kt)("p",null,"Of cource this is not the best example of making animations, better will be to let js run the animation on its own and wait for a new data or ask for a new data using system of events. See [","[Events]","] and ",(0,r.kt)("a",{parentName:"p",href:"Advanced%20data%20transfering%20and%20visualisation.md"},"Advanced data transfering and visualisation")," for the better animation handling. If you are using standart Mathematica's functions - check out also ",(0,r.kt)("a",{parentName:"p",href:"Animating%20many%20and%20in%20real-time.md"},"Animating many and in real-time")," approach."),(0,r.kt)("h4",{id:"a-remark-about-sub-symbols--methods"},"A remark about sub symbols | Methods"),(0,r.kt)("p",null,"Sometimes a function or a three of them can be called as a reaction on some event. Then this information is stored in ",(0,r.kt)("inlineCode",{parentName:"p"},"env.method"),"."),(0,r.kt)("p",null,"If there is an update of a data, i.e. ",(0,r.kt)("inlineCode",{parentName:"p"},"env.method = 'update'"),", then interpreter will try to find a sub-symbols or a function (read more about how interpreter handles them ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wljs-interpreter"},"WLJS Interpreter"),"). "),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(9297).Z,width:"714",height:"192"})),(0,r.kt)("p",null,"Imagine if any defined function was a class declaration with a constructor (if no ",(0,r.kt)("inlineCode",{parentName:"p"},"env.method")," is specified) and methods (subsymbols). For example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.MyFunction = (args, env) => {}\n\ncore.MyFunction.update = (args, env) => {}\ncore.MyFunction.destroy = (args, env) => {}\ncore.MyFunction.whatever = (args, env) => {}\n")),(0,r.kt)("p",null,"Then, can we want to specify it durating the evaluation of a symbol"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.OurParentFunction = (args, env) => {\n    const data = interpetate(args[0], {...env, method:'update');\n    ...\n}\n")),(0,r.kt)("p",null,"It is extremely useful, when it comes to the dynamic updates of some graph, plot. There is no need to replot everyhting, but figure out in a clear way how to update the data"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.ListLinePlotly = (args, env) => {\n    //create element...draw axes and etc...slow\n    Plotly.newPlot(...);\n}\ncore.ListLinePlotly.update = (args, env) => {\n    //quickly redraw\n    Plotly.restyle(...)\n}\n")),(0,r.kt)("h4",{id:"contexes"},"Contexes"),(0,r.kt)("p",null,"To prevent the mess of duplicated function names and etc, you can specify the context or let's say library of symbols using"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'var library = {};\nlibrary.name = "It is important to write a name"\ninterpretate.extendContext(library);\n\nlibrary.Symbol = (args, env) => {/*...*/}\n')),(0,r.kt)("p",null,"The interpreter will check all available contextes and find the first match. However, you ==can prioritize the context== providing the information in ",(0,r.kt)("inlineCode",{parentName:"p"},"env")," object"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.GrantSymbol = (args, env) => {\n    const data = interpretate(args, {...env, context: library});\n    //...\n}\n")),(0,r.kt)("h3",{id:"executing-inside-a-container--frontend-object"},"Executing inside a container | Frontend Object"),(0,r.kt)("p",null,"This is a bit more advanced, since it stores the data inside the notebook and provides local memory for user - you can think about ",(0,r.kt)("a",{parentName:"p",href:"Frontend%20objects.md"},"Frontend objects")," ==as a sort of container or sandbox, where the code can be executed=="),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(9674).Z,width:"1528",height:"440"})),(0,r.kt)("p",null,"The expression inside the container is strored in JSON format in the notebook and is accessable by demand to browser. Containerised execution provides much more flixibillity since each call creates a separate instance with its local memory."),(0,r.kt)("p",null,"For the convinience all extra features are provided in ",(0,r.kt)("inlineCode",{parentName:"p"},"env")," variable. Let's have a look at it"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.MyFunction = (args, env) => {\n    env.local  = {} //pointer to the local memory of the instance\n    env.global = {} //pointer to the global memory of the three\n    env //sharable memory\n}\n")),(0,r.kt)("p",null,"Global memory is created at each widget creating in CM6 editor (see ",(0,r.kt)("a",{parentName:"p",href:"/wljs-docs/docs/frontend/Decorations"},"Decorations"),") or on each websocket call, i.e. ",(0,r.kt)("inlineCode",{parentName:"p"},"SendToFrontEnd"),". "),(0,r.kt)("p",null,"Depending, where it is supposed to be executed, one can have an access to various page elements. For instance, if it is called from the CM6 editor it provides ",(0,r.kt)("inlineCode",{parentName:"p"},"env.element")," - an access to DOM placeholder in the editor."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Let's make an example that can demonstate local memory usage")),(0,r.kt)("h5",{id:"-example-2-clocks"},"\ud83c\udfa1 Example 2: Clocks"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},".js\ncore.PlaceholderClock = (args, env) => {\n    //store the handler object in the local memory\n    env.local.start = new Date();\n    env.local.clock = setInterval(()=>{\n        const d = (new Date() - env.local.start);\n        env.element.innerHTML = d;\n    }, 10);\n}\n//when our instance is about to be destoryed - clear timer\ncore.PlaceholderClock.destroy = (args, env) => {\n    window.clearInterval(env.local.clock);\n    const passed = (new Date() - env.local.start);\n    alert(passed+' passed');\n}\n")),(0,r.kt)("p",null,"Then we can execute in inside the container like any piece of data (see ",(0,r.kt)("a",{parentName:"p",href:"Frontend%20objects.md"},"Frontend objects"),")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},"CreateFrontEndObject[PlaceholderClock[]]\n")),(0,r.kt)("p",null,"Try to copy and paste them into the same or different cells (from the output cell)"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(1080).Z,width:"414",height:"52"})),(0,r.kt)("p",null,"This examples intersects with the section ",(0,r.kt)("a",{parentName:"p",href:"#Default%20methods"},"Default methods"),", since it involves ",(0,r.kt)("inlineCode",{parentName:"p"},"destroy")," subsymbol, which is fired when one deletes a widget from the editor."),(0,r.kt)("p",null,"It comes very handy, when, for example we are working with ",(0,r.kt)("inlineCode",{parentName:"p"},"Graphics3D"),", where every 1/60 of a second a rendering function is called. Imagine, it would be a disaster if one deleted a widget, but the rendering function will continue to work. Therefore ",(0,r.kt)("inlineCode",{parentName:"p"},"env.local")," helps a lot"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.Graphics3D.destroy = (args, env) => {\n    cancelAnimationFrame(env.local.aid);\n    //to cancel the animation\n}\n")),(0,r.kt)("p",null,"To know how to register your custom objects in the system, so you won't need to use ",(0,r.kt)("inlineCode",{parentName:"p"},"CreateFrontEndObject")," and JS cells, please see ",(0,r.kt)("a",{parentName:"p",href:"Writting%20WebObject.md"},"Writting WebObject")," guide."),(0,r.kt)("h4",{id:"storage"},"Storage"),(0,r.kt)("p",null,"The number of ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndExcecutable")," containers can be arbitary large and execute the same wolfram language expression. Then their ",(0,r.kt)("inlineCode",{parentName:"p"},"uid"),", i.e. that one, which ",(0,r.kt)("inlineCode",{parentName:"p"},'FrontEndExecutable["uid"]')," is assigned to the storage object, is not unique anymore"),(0,r.kt)("p",null,"Every time you to do something like creating a container or updating (see ",(0,r.kt)("a",{parentName:"p",href:"Frontend%20objects.md"},"Frontend objects"),") - you operate with the storage in the first place, but not executable instance."),(0,r.kt)("p",null,"The data obtained from the server will be stored in cache."),(0,r.kt)("h5",{id:"garbage-collector"},"Garbage collector"),(0,r.kt)("p",null,"The actual location is your notebook file in the section ",(0,r.kt)("inlineCode",{parentName:"p"},'Notebook[uid]["objects"]'),", where the date of the latest access is stored as well. Then it can figure out, when the page was being loaded, which objects were not requested (in some timeout) and purge them from the notebook."),(0,r.kt)("p",null,"The timeout criteria might not work quite well if your internet connection is slow. This has to be improoved further."),(0,r.kt)("p",null,"Each time you call in the cell, for example ",(0,r.kt)("inlineCode",{parentName:"p"},"Plot[x,{x,0,1}]")," , this ==automatically allocates a new object in the storage==, unless you specify an id."),(0,r.kt)("h4",{id:"data-binding--nesting"},"Data binding | Nesting"),(0,r.kt)("p",null,"The ideas for WLJS Frontened were inspired by an amazing project ",(0,r.kt)("a",{parentName:"p",href:"https://observablehq.com/@jerryi"},"Observable")," - JS notebook interface working in the browser, where the dynamics was polished perfectly."),(0,r.kt)("p",null,"In Observable all expressions are ",(0,r.kt)("inlineCode",{parentName:"p"},"Dynamic")," in terms of Mathematica by the default. Me, as a maintener (@JerryI) tried to bring it as close as possible to such behaviour, leaving out laggs as possible of Mathematica's frontened."),(0,r.kt)("p",null,"Therefore, ==all frontened objects aka ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndExecutable")," are dynamic by the default==. The change in one will cause the updates to ones, which depends on it. "),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(318).Z,width:"1217",height:"849"})),(0,r.kt)("p",null,"This behaviuor is achived by storing the information about parent ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndExecutable")," intance and a child as well as all references from the instances to the storage. I.e. if there is a change of the data in the storage it will update all associated instances."),(0,r.kt)("p",null,"In general there are two main types of events that can happend and fire the evaluation using scepific methods (see ",(0,r.kt)("a",{parentName:"p",href:"#Default%20methods"},"Default methods")," and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wljs-interpreter"},"WLJS Interpreter"),")"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Editor's widget held Frontend object was destoryed (see ",(0,r.kt)("a",{parentName:"p",href:"/wljs-docs/docs/frontend/Decorations"},"Decorations"),")"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"fires the evaluation  of the whole three ==from top to the bottom== using ",(0,r.kt)("inlineCode",{parentName:"p"},"destroy")," method"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The data in storage was updated"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"bubbles up ==from the correcponding frontend object to the nearest parent== and fires the evaluation using ",(0,r.kt)("inlineCode",{parentName:"p"},"update")," method from the given point to the bottom")))),(0,r.kt)("p",null,"To see more examples - read ",(0,r.kt)("a",{parentName:"p",href:"Frontend%20objects.md"},"Frontend objects"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Example"),"\nLet us define an object"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[\n    Table[i^2, {i,1,10}],\n    "uid_2"\n]\n')),(0,r.kt)("p",null,"In the next cell, one can display the data using a registered function (see ",(0,r.kt)("a",{parentName:"p",href:"Writting%20WebObject.md"},"Writting WebObject"),") ment for plotting"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'ListLinePlotly@FrontEndRef[FrontEndExecutable["uid_2"]]\n')),(0,r.kt)("p",null,"To update, one can use a various methods described there ",(0,r.kt)("a",{parentName:"p",href:"Frontend%20objects.md"},"Frontend objects"),". The prettiest one is"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutable["uid_2"] = RandomReal[{0,100}, 10];\n')),(0,r.kt)("h5",{id:"perfomance-remark"},"Perfomance remark"),(0,r.kt)("p",null,"However, one should take into account the perfomance issues. Since our ",(0,r.kt)("inlineCode",{parentName:"p"},'FrontEndExecutable["uid_2"]')," will be replaced in the editor by the instance of this object, therefore it will also be updated (i.e. reevaluated) even if there is no parent of this node. "),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(7232).Z,width:"667",height:"243"})),(0,r.kt)("p",null,"It looks nice and clear to use this approach, since you can acutally look at your object and it displays an uid of it. "),(0,r.kt)("p",null,"The fastest method will be"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndRef["uid_2"] = RandomReal[{0,100}, 10];\n')),(0,r.kt)("p",null,"where our editor will not create a widget with an instance inside (see more ",(0,r.kt)("a",{parentName:"p",href:"/wljs-docs/docs/frontend/Decorations"},"Decorations"),").\nOr if you are nerd like me (maintener @JerryI) and want full control, one can do it explicitly"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'SetFrontEndObject["uid_2", RandomReal[{0,100}, 10]] // SendToFrontEnd;\n')),(0,r.kt)("h4",{id:"default-methods"},"Default methods"),(0,r.kt)("p",null,"In principle user can define its own methods (or subsymbols) and provide them in ",(0,r.kt)("inlineCode",{parentName:"p"},"env.method")," as a string. The general infromation was already mentioned before in ",(0,r.kt)("a",{parentName:"p",href:"#A%20remark%20about%20sub%20symbols%20Methods"},"A remark about sub symbols Methods"),"."),(0,r.kt)("p",null,"For the containers ",(0,r.kt)("em",{parentName:"p"},"you should define two most important methods")," for you functions"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},".destory")," - when a widget was destoryed. It acts from top to bottom"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},".update")," - when the data was changed. It bubbles up and goes from the nearest parent to bottom of the call-three")),(0,r.kt)("p",null,"Otherwise if you even delete your widget from the editor (or just remove the cell) it wil cause an error. If you do not to mess with this, keep them empty"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.MyFunction.update = (args, env) => {}\ncore.MyFunction.destroy = (args, env) => {}\n")),(0,r.kt)("h4",{id:"async"},"Async"),(0,r.kt)("p",null,"Since our containers are located in the storage, which might not be on the frontend (if one reloads a page), if you are working with a nested frontend objects, you should make your function to be async. ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wljs-interpreter"},"WLJS Interpreter")," might return a promise object instead of an actual data"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.MyFunction = async (args, env) => {\n    const data = await interpretate(args[0], env);\n    ...\n}\n")),(0,r.kt)("p",null,"Then whatever happends (the object you required is absent) it will wait until the frontend fetch the data and continue the execution of the function."),(0,r.kt)("p",null,"One should note that ",(0,r.kt)("inlineCode",{parentName:"p"},"async")," gives a significant load to the JS runtime, when it is called frequently (in some reports of reqursive benchmarks they claim ~30-70% perfomance drop)."),(0,r.kt)("h4",{id:"-persistent-memory-or-shared-memory"},"\ud83d\udea7 Persistent memory or shared memory"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"This feature is still in development")," (sketch!). It might be useful if any instance of the same frontend object could have a permanent memeory shared between all instances, since local memeory ",(0,r.kt)("inlineCode",{parentName:"p"},"env.local")," exists only for the individual instance, and global ",(0,r.kt)("inlineCode",{parentName:"p"},"env.global")," only for individual call (see ",(0,r.kt)("a",{parentName:"p",href:"#Executing%20inside%20a%20container%20Frontend%20Object"},"Executing inside a container Frontend Object"),"). Therefore there should be"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"env.persistent = {}\n//or\nenv.shared = {}\n")),(0,r.kt)("p",null,"that belongs to the storage object and lies there forever."),(0,r.kt)("p",null,"Let's have a look at the example, where we can improove ",(0,r.kt)("a",{parentName:"p",href:"#Example%201:%20Game%20of%20Life"},"Example 1: Game of Life")," and make use of widgets and containers."),(0,r.kt)("h5",{id:"-example-3-game-of-life-improvements"},"\ud83c\udfa1 Example 3: Game of Life (improvements)"),(0,r.kt)("p",null,"Let us define our constructor "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'.js\n//constructor\ncore.MyFunction = async (args, env) => {\n  //just to make second object to be aware of the previous one\n  const data = await interpretate(args[0], env);\n  //create js canvas\n  const canvas = document.createElement("canvas");\n  canvas.width = 400;\n  canvas.height = 400;\n\n  let context = canvas.getContext("2d");\n  context.fillStyle = "lightgray";\n  context.fillRect(0, 0, 500, 500);\n\n  //an array to store the previous state\n  let old = new Array(40);\n  for (let i = 0; i < old.length; i++) {\n    old[i] = new Array(40).fill(0); \n  }\n\n  env.element.appendChild(canvas);\n  env.local.old = old;\n  env.local.ctx = context;\n}\n')),(0,r.kt)("p",null,"here this line"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const data = await interpretate(args[0], env);\n")),(0,r.kt)("p",null,"is very important, even if we wont use ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," variable, to make the call-three aware of the presence of our instance we need to call at least ",(0,r.kt)("inlineCode",{parentName:"p"},"await interpretate(args[0], env)"),"."),(0,r.kt)("p",null,"Now we can store all data in ",(0,r.kt)("inlineCode",{parentName:"p"},"env.local"),", that belongs to our instance."),(0,r.kt)("p",null,"The next thing - a method, that allows us to update the canvas"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'.js\ncore.MyFunction.update = async (args, env) => {\n  //get a new data\n  const data = await interpretate(args[0], env);\n  //get the canvas from the local memeory\n  const context = env.local.ctx;\n  //draw our boxes\n  for(let i=0; i<40; ++i) {\n    for (let j=0; j<40; ++j) {\n      //old pixels will leave blue traces\n      if (env.local.old[i][j] > 0) {\n        context.fillStyle = "rgba(0,0,255,0.2)"; \n        context.fillRect(i*10 + 2, j*10 + 2, 6, 6);\n      }\n      //new pixels\n      if (data[i][j] > 0) {\n        context.fillStyle = "rgba(255,0,0,0.4)"; \n        context.fillRect(i*10 + 1, j*10 + 1, 8, 8);\n      } else {\n        context.fillStyle = "rgba(255,255,255,0.4)"; \n        context.fillRect(i*10 + 1, j*10 + 1, 8, 8);\n      }\n    }\n  }\n  //store the previous frame\n  env.local.old = data;\n}\n')),(0,r.kt)("p",null,"and the destructor"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},".js\ncore.MyFunction.destroy = (args, env) => {}\n")),(0,r.kt)("p",null,"Then we can use our function if it was ",(0,r.kt)("inlineCode",{parentName:"p"},"Graphics")," or other object normally in the pure Wolfram Language cell. Since it is still unknown to the system (see ",(0,r.kt)("a",{parentName:"p",href:"Writting%20WebObject.md"},"Writting WebObject"),"), we need to create it explicitly"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'gameOfLife = {224, {2, {{2, 2, 2}, {2, 1, 2}, {2, 2, 2}}}, {1, 1}};\nboard = RandomInteger[1, {40, 40}];\n(* create board : no output *)\nCreateFrontEndObject[board, "board"];\n(* create container for MyFunction *)\nCreateFrontEndObject[MyFunction[FrontEndRef["board"]]]\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'> FrontEndExecutable["a very long random uid"]\n')),(0,r.kt)("p",null,"The output will look like this"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(4728).Z,width:"437",height:"386"})),(0,r.kt)("p",null,"Now this is separate object, you can copy and paste it as a symbol! Try to integrate it (joke, but WL will allow you to do so) or put under the squre root."),(0,r.kt)("p",null,"As it was shown above as an argument we passed a second wll defined object ",(0,r.kt)("inlineCode",{parentName:"p"},"board")," - which is a storage for our board, that we can update independently"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'Do[\n  board = CellularAutomaton[gameOfLife, board, {{0, 1}}] // Last;\n  FrontEndRef["board"] = board;\n  Pause[0.1];\n, {i,1,100}]\n')),(0,r.kt)("p",null,"Then you will see a nice animation and each instance you copied will be updated as well"),(0,r.kt)("p",null,"Check out ",(0,r.kt)("a",{parentName:"p",href:"Cell%20types.md"},"Cell types")," and JS section to see the further progress on this example."),(0,r.kt)("h4",{id:"-passing--injecting-arguments"},"\ud83d\udea7 Passing | Injecting arguments"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"This feature is still in development"),", I wrote about it in ",(0,r.kt)("a",{parentName:"p",href:"Frontend%20objects.md"},"Frontend objects"),". It would be great to pass extra information to the instance from the editor"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'Apply[FrontEndExecutable["uid"], {"Color"->Red}]\n> FrontEndExecutable["uid", "[a json string already]"]\n')),(0,r.kt)("p",null,"in the output this is already a preconverted JSON string, so that CM6 editor could read it and pass to the ",(0,r.kt)("inlineCode",{parentName:"p"},"global")," variable (it has no access to the local memory)."),(0,r.kt)("p",null,"and then"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},".js\ncore.MyFunction = async (args, env) => {\n    ...\n    //since this is a list of arguments, prevent evaluation\n    //global - cuz CM6 is a starting point here\n    const extraargs = interpretate(env.global.args, {...env, hold:true})\n    //special build-in function to parse options\n    const options  = core.__getRules(extraargs, env);\n    options.Color // Here we have our color\n}\n")),(0,r.kt)("p",null,"One could modify for example the color of the ",(0,r.kt)("a",{parentName:"p",href:"#Example%203:%20Game%20of%20Life%20(improvements)"},"Example 3: Game of Life (improvements)")," without creating a secondary container, just operating with instances."),(0,r.kt)("h3",{id:"virtual-containers"},"Virtual containers"),(0,r.kt)("p",null,"This one is even more tricky. However, there is a well-defined user-case for that. "),(0,r.kt)("h4",{id:"user-case-example--the-origins-of-the-solution"},"User-case example | The origins of the solution"),(0,r.kt)("p",null,"Imagine our porblem with dynamics, if we need to update something, one need to write a method for the corresponding function"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.ListLinePlotly.update = async (args, env) => {\n    const data = await insterpretate(args[0], env) //JO new data!\n    ...\n}\n")),(0,r.kt)("p",null,"However, what about the case, when everything is nested like "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[{0,0,0}, "coords"];\nSphere[FrontEndRef["coords"]] // Graphics3D\n')),(0,r.kt)("p",null,"It will succesfully depic an image of a sphere in the center of the scene. But how to handle the change of coordinates of the sphere? Inside ",(0,r.kt)("inlineCode",{parentName:"p"},"g3d.Sphere")," we have"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"g3d.Sphere = async (args, env) => {\n    const origin = await interpretate(args[0], env);\n    ...\n    const geometry = new three.SphereGeometry(1, 20, 20);\n    const sphere = new three.Mesh(geometry, material);\n    sphere.position.set(...origin);\n    env.mesh.add(sphere);\n};\n")),(0,r.kt)("p",null,"The only thing we need to do to update the position of the sphere in real time is"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"sphere.position.set(...neworigin);\n")),(0,r.kt)("p",null,"For that we need to remember a pointer to this object, i.e."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"g3d.Sphere = async (args, env) => {\n    ...\n    env.local.sphere = sphere\n};\n\ng3d.Sphere.update = async (args, env) => {\n    const neworigin = await interpretate(args[0], env);\n    env.local.sphere.position.set(...neworigin);\n};\n")),(0,r.kt)("p",null,"Right? Well yes, but with one exception (it looks ugly)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[{0,0,0}, "coords"];\nCreateFrontEndObject[Sphere[FrontEndRef["coords"]]] // FrontEndRef // Graphics3D\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"To use local memory we need a container!")," Other wise the function has no idea about its previous state despite the fact that is was called using ",(0,r.kt)("inlineCode",{parentName:"p"},"update")," method. "),(0,r.kt)("p",null,"Wait! Our ",(0,r.kt)("inlineCode",{parentName:"p"},"Graphics3D")," already has a container, then ",(0,r.kt)("inlineCode",{parentName:"p"},"env.local")," belongs to ",(0,r.kt)("inlineCode",{parentName:"p"},"Graphics3D")," instance. "),(0,r.kt)("p",null,"However, if we have two spheres ",(0,r.kt)("inlineCode",{parentName:"p"},'{Sphere[{1,1,1}], Sphere[FrontEndRef["coords"]]}')," it will not work properly. ==We need somehow identify this exact sphere object==. It is easy using ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndRef")," and etc, but looks ugly."),(0,r.kt)("h4",{id:"virtual-frontend-objects--virtual-containers--virtual-functions"},"Virtual frontend objects | Virtual containers | Virtual functions"),(0,r.kt)("p",null,"The idea is simple - make an addtitional attribute to the frontend function, that tells to the interpreter to create a sort of instance for the function before evaluating it"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.MyFunction.virtual = true\n")),(0,r.kt)("p",null,"Then it will mimic the behaviour of ",(0,r.kt)("a",{parentName:"p",href:"#Executing%20inside%20a%20container%20Frontend%20Object"},"Executing inside a container Frontend Object"),", but without creating a storage object and changind the call three"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(760).Z,width:"1607",height:"667"})),(0,r.kt)("p",null,"Interpreter changes the order of execution, when it find a virtual function"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"creates an instance with local memory and a random ",(0,r.kt)("inlineCode",{parentName:"li"},"virtual-uid")),(0,r.kt)("li",{parentName:"ul"},"executes a function inside it normally")),(0,r.kt)("p",null,"Therefore ",(0,r.kt)("strong",{parentName:"p"},"it is enough for the child frontend objects to catch ",(0,r.kt)("inlineCode",{parentName:"strong"},"virtual_uid")," and assign themself to it for updates and etc"),"."),(0,r.kt)("p",null,"==Drawbacks ",(0,r.kt)("strong",{parentName:"p"},"destory")," method will not work, since ",(0,r.kt)("inlineCode",{parentName:"p"},"virtual_uid")," is not in the three-call of parent nodes (only in child's)=="),(0,r.kt)("p",null,"However it solves our problem with ",(0,r.kt)("inlineCode",{parentName:"p"},"Graphics3D")," dynamics flawessly"),(0,r.kt)("p",null,"As you can see, there is no explicitly mentioned ",(0,r.kt)("inlineCode",{parentName:"p"},"CreateFrontEnObject")," for ",(0,r.kt)("inlineCode",{parentName:"p"},"Sphere"),", but its JS representation has ",(0,r.kt)("inlineCode",{parentName:"p"},".virtual = true")," attribute."),(0,r.kt)("h3",{id:"injection-into-the-containers-instanceenv"},"Injection into the container's instance/env"),(0,r.kt)("p",null,"This feature is still in early development"),(0,r.kt)("p",null,"Can be very handy if one want to modify 2D 3D scene without reevauating anything. This is anyway a ",(0,r.kt)("inlineCode",{parentName:"p"},"env.scene")," object, that it principle can be populated with new graphics in realtime. For that one need to attach to some particular instance of Frontend Object and evaluate inside it the desired expression with spheres and etc."),(0,r.kt)("h4",{id:"-example-with-lines"},"\ud83c\udfa1 Example with lines"),(0,r.kt)("p",null,"Let us define some typical plot and apply a ",(0,r.kt)("strong",{parentName:"p"},"meta-marker")," on it"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'Plot[x, {x,0,1}, Epilog->{MetaMarker["label"]}]\n')),(0,r.kt)("p",null,"This will generate ",(0,r.kt)("inlineCode",{parentName:"p"},"Graphics")," object and place an invisible marker on it, which will store the instance uid of this frontend object."),(0,r.kt)("p",null,"Now we can apply a selector query and place a new expression (or lets say - evaluate in-place) inside the given container. For now only we have only frontend's side support"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'Placed[{Line[{{0.2,0.6},{0.1,0.5}}]}, FindMetaMarker["label"]//First] // FrontEndOnly // FrontSubmit;\n')),(0,r.kt)("p",null,"A line should appear. Or we can even go further and define a new frontend object and update it afterwards"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[RandomReal[{0,1},{2, 2}], "fakeline"];\nPlaced[{RGBColor[1,0,0], Line[FrontEndRef["fakeline"]]}, FindMetaMarker["label"]//First] // FrontEndOnly // FrontSubmit;\n')),(0,r.kt)("p",null,"And then, lets update the coordinates of a line"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'Do[\n  FrontEndRef["fakeline"] = RandomReal[{0,1},{2, 2}];\n  Pause[0.5];\n, {i, 1, 10}];\n')),(0,r.kt)("p",null,"Viola."))}u.isMDXComponent=!0},9674:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Calling as FE.excalidraw-225b21875bef9c949270560e08e01b99.svg"},760:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Calling as virtual.excalidraw-87fd2980cbf7e0d1e78d9f7779bc4e33.svg"},318:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/FE data binding.excalidraw-0a43bec82c96abf4b1e2e6158a034b15.svg"},1080:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screen Recording 2023-04-09 at 18.43.08-a597efb1076d5ee589dcdeba05b42e29.gif"},4728:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Screenshot 2023-04-10 at 15.33.00-751ac054d2cc02e09edc880d63909d92.png"},9297:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Simple call 2dn.excalidraw-c5025387f981c35acf492720c249103a.svg"},3584:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Simple call.excalidraw-fb15dcf006eec2792c01f712dae68003.svg"},7232:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/instace-perfomance.excalidraw-b8474d822a381b710ba41023640de669.svg"}}]);