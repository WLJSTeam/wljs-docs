(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[76100],{97528:(e,s,A)=>{"use strict";A.r(s),A.d(s,{assets:()=>m,contentTitle:()=>t,default:()=>C,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var a=A(17624),n=A(4552),i=A(46880);const l=A.p+"assets/medias/testVideo-0c1873aef729116c79ace7ae46ff030b.mov",r={authors:"jerryi",enableComments:!0,tags:["dynamics","visualization"]},t="Real-time Fluid Simulation Part 1",c={permalink:"/wljs-docs/blog/2024/08/18/fluid-1",source:"@site/blog/2024-08-18-fluid-1/index.mdx",title:"Real-time Fluid Simulation Part 1",description:"Using Wolfram Language and WLJS libraries",date:"2024-08-18T00:00:00.000Z",tags:[{label:"dynamics",permalink:"/wljs-docs/blog/tags/dynamics"},{label:"visualization",permalink:"/wljs-docs/blog/tags/visualization"}],readingTime:6.315,hasTruncateMarker:!0,authors:[{name:"Kirill Vasin",title:"Maintainer",url:"https://github.com/JerryI",imageURL:"https://avatars.githubusercontent.com/u/4111822?s=48&v=4",key:"jerryi"}],frontMatter:{authors:"jerryi",enableComments:!0,tags:["dynamics","visualization"]},unlisted:!1,prevItem:{title:"Real-time Fluid Simulation Part 2",permalink:"/wljs-docs/blog/2024/08/19/fluid-2"},nextItem:{title:"1D FDTD Method",permalink:"/wljs-docs/blog/2024/07/12/maxwell"}},m={authorsImageUrls:[void 0]},d=[{value:"Working with a Grid",id:"working-with-a-grid",level:2},{value:"Custom Syntax Sugar",id:"custom-syntax-sugar",level:3},{value:"Divergence",id:"divergence",level:2},{value:"Example",id:"example",level:3},{value:"Removing the Divergence",id:"removing-the-divergence",level:3},{value:"Interactive Example",id:"interactive-example",level:3},{value:"Dynamic Evaluation",id:"dynamic-evaluation",level:3}];function o(e){const s={a:"a",annotation:"annotation",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mstyle:"mstyle",msub:"msub",msubsup:"msubsup",mtable:"mtable",mtd:"mtd",mtext:"mtext",mtr:"mtr",ol:"ol",p:"p",semantics:"semantics",span:"span",strong:"strong",...(0,n.M)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.p,{children:(0,a.jsx)(s.em,{children:"Using Wolfram Language and WLJS libraries"})}),"\n",(0,a.jsxs)(s.p,{children:["In this notebook, we will explore a simple technique for simulating 2D incompressible fluids for visual effects. This work is mostly based on Jos Stam. Stable Fluids SIGGRAPH 1999 as well as a tutorial by ",(0,a.jsx)(s.a,{href:"https://www.karlsims.com/fluid-flow.html",children:"Karl Sims"})]}),"\n","\n",(0,a.jsx)(i.Af,{json:A(148).c,notebook:A(8592).c}),"\n",(0,a.jsx)(s.h2,{id:"working-with-a-grid",children:"Working with a Grid"}),"\n",(0,a.jsx)(s.p,{children:"Here we will use the Euler method to represent a fluid, i.e., by storing velocity as a vector field discretized to a uniform grid."}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"74a3a573-87d2-4324-a102-0d6df63439f5",type:"Input",opts:{InitGroup:!0},children:"grid%20%3D%20Table%5BCross%5B%7Bi%2Cj%2C0%7D%2C%20%7B0%2C0%2C1%7D%5D%5B%5B%3B%3B2%5D%5D%2C%20%7Bi%2C%205%7D%2C%20%7Bj%2C%205%7D%5D%3B%0A%25%20%2F%2F%20MatrixForm%20"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"7df65f24-80c7-401a-bf50-62ecc4935496",type:"Output",opts:{},children:"%28%28%2AGB%5B%2A%29%7B%7B%28%28%2AGB%5B%2A%29%7B%7B1%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-1%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B2%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-1%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B3%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-1%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B4%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-1%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B5%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-1%7D%7D%28%2A%5DGB%2A%29%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%28%2AGB%5B%2A%29%7B%7B1%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-2%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B2%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-2%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B3%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-2%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B4%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-2%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B5%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-2%7D%7D%28%2A%5DGB%2A%29%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%28%2AGB%5B%2A%29%7B%7B1%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-3%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B2%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-3%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B3%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-3%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B4%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-3%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B5%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-3%7D%7D%28%2A%5DGB%2A%29%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%28%2AGB%5B%2A%29%7B%7B1%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-4%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B2%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-4%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B3%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-4%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B4%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-4%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B5%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-4%7D%7D%28%2A%5DGB%2A%29%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%28%2AGB%5B%2A%29%7B%7B1%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-5%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B2%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-5%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B3%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-5%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B4%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-5%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B5%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B-5%7D%7D%28%2A%5DGB%2A%29%29%7D%7D%28%2A%5DGB%2A%29%29"}),"\n",(0,a.jsx)(s.p,{children:"Then one can easily visualize it as a vector field:"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"57756056-7501-4d9e-8547-d6213e8d7732",type:"Input",opts:{},children:"grid%20%2F%2F%20ListVectorPlot"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"22f5cba7-8553-4e89-84bc-6f72a9ea4887",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28FrontEndRef%5B%227fa3d105-973d-43df-aa2e-88d286b02c82%22%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKm6clGqcYGpjqWpobp%2BiaGKek6SYmGqXqWlikGFmYJRkYJVsYAQCGjBWk%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,a.jsxs)(s.p,{children:["For the best performance, we will use ",(0,a.jsx)(s.code,{children:"Map"})," or ",(0,a.jsx)(s.code,{children:"MapIndexed"})," with a pure function inside. Then Wolfram Kernel is able to use JIT compilation. For example:"]}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"8c3fa2b1-6b3e-4b1f-b192-63ab80b191bb",type:"Input",opts:{},children:"Map%5BFunction%5Bvector%2C%20%28%28%2AGB%5B%2A%29%7B%7B0%28%2A%7C%2A%29%2C%28%2A%7C%2A%29-1%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B1%28%2A%7C%2A%29%2C%28%2A%7C%2A%290%7D%7D%28%2A%5DGB%2A%29%29%20.%20vector%5D%2C%20grid%2C%20%7B2%7D%5D%0AListVectorPlot%5B%25%5D"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"1a963ff2-bd9d-4e47-abb9-0944393b760c",type:"Output",opts:{},children:"%7B%7B%7B1%2C1%7D%2C%7B1%2C2%7D%2C%7B1%2C3%7D%2C%7B1%2C4%7D%2C%7B1%2C5%7D%7D%2C%7B%7B2%2C1%7D%2C%7B2%2C2%7D%2C%7B2%2C3%7D%2C%7B2%2C4%7D%2C%7B2%2C5%7D%7D%2C%7B%7B3%2C1%7D%2C%7B3%2C2%7D%2C%7B3%2C3%7D%2C%7B3%2C4%7D%2C%7B3%2C5%7D%7D%2C%7B%7B4%2C1%7D%2C%7B4%2C2%7D%2C%7B4%2C3%7D%2C%7B4%2C4%7D%2C%7B4%2C5%7D%7D%2C%7B%7B5%2C1%7D%2C%7B5%2C2%7D%2C%7B5%2C3%7D%2C%7B5%2C4%7D%2C%7B5%2C5%7D%7D%7D"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"da1b74b7-1f22-41d7-8fda-91060b8e9e2c",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28FrontEndRef%5B%229d29d953-9bbb-46aa-805e-391ff5054311%22%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKW6YYWaZYmhrrWiYlJemamCUm6loYmKbqGlsapqWZGpiaGBsaAgCEmxVJ%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,a.jsx)(s.h3,{id:"custom-syntax-sugar",children:"Custom Syntax Sugar"}),"\n",(0,a.jsx)(s.p,{children:"Another possibility to visualize using pure syntax sugar would be to define our own output form for a single velocity vector."}),"\n",(0,a.jsx)(s.p,{children:"The most efficient way is to define a decorator function in Javascript. Let it be a small arrow pointing to a desired direction."}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"80d9ba13-b899-4f19-ae99-0ad772f0796e",type:"Input",opts:{Fade:!0},children:".js%0Acore.ArrowGuide%20%3D%20async%20%28args%2C%20env%29%20%3D%3E%20%7B%0A%20%20const%20dir%20%3D%20await%20interpretate%28args%5B0%5D%2C%20env%29%3B%0A%20%20const%20mag%20%3D%20dir.map%28%28el%29%3D%3Eel%2Ael%29.reduce%28%28c%2Ca%29%20%3D%3E%20c%2Ba%29%3B%0A%0A%20%20const%20angle%20%3D%20Math.round%28180%20%2A%20Math.atan2%28dir%5B0%5D%2C%20dir%5B1%5D%29%20%2F%20Math.PI%29%3B%0A%20%20%0A%20%20console.log%28angle%29%3B%0A%20%20env.element.style.transform%20%3D%20%60rotate%28%24%7Bangle%7Ddeg%29%60%3B%0A%20%20%0A%20%20if%20%28mag%20%3C%200.01%29%20%7B%20%2F%2Fdo%20not%20display%20if%20it%20is%20too%20small%0A%20%20%20%20env.element.style.opacity%20%3D%200.5%3B%0A%20%20%20%20env.element.innerHTML%20%3D%20%22.%22%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20env.element.innerHTML%20%3D%20%22%26uarr%3B%22%3B%0A%20%20%7D%0A%7D"}),"\n",(0,a.jsx)(i.EB,{display:"js",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"096909ea-cc93-470d-b07f-f7e9d6b37ae5",type:"Output",opts:{},children:"%0Acore.ArrowGuide%20%3D%20async%20%28args%2C%20env%29%20%3D%3E%20%7B%0A%20%20const%20dir%20%3D%20await%20interpretate%28args%5B0%5D%2C%20env%29%3B%0A%20%20const%20mag%20%3D%20dir.map%28%28el%29%3D%3Eel%2Ael%29.reduce%28%28c%2Ca%29%20%3D%3E%20c%2Ba%29%3B%0A%0A%20%20const%20angle%20%3D%20Math.round%28180%20%2A%20Math.atan2%28dir%5B0%5D%2C%20dir%5B1%5D%29%20%2F%20Math.PI%29%3B%0A%20%20%0A%20%20console.log%28angle%29%3B%0A%20%20env.element.style.transform%20%3D%20%60rotate%28%24%7Bangle%7Ddeg%29%60%3B%0A%20%20%0A%20%20if%20%28mag%20%3C%200.01%29%20%7B%20%2F%2Fdo%20not%20display%20if%20it%20is%20too%20small%0A%20%20%20%20env.element.style.opacity%20%3D%200.5%3B%0A%20%20%20%20env.element.innerHTML%20%3D%20%22.%22%3B%0A%20%20%7D%20else%20%7B%0A%20%20%20%20env.element.innerHTML%20%3D%20%22%26uarr%3B%22%3B%0A%20%20%7D%0A%7D"}),"\n",(0,a.jsxs)(s.p,{children:["Now we define a standard form ",(0,a.jsx)(s.code,{children:"ArrowGuide"}),", which will use the defined Javascript function to display itself inside a cell."]}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"59ea3062-81d1-473d-bde4-14cde7a0f505",type:"Input",opts:{InitGroup:!0},children:"ArrowGuide%20%2F%3A%20MakeBoxes%5Ba_ArrowGuide%2C%20StandardForm%5D%20%3A%3D%20%0A%20%20ViewBox%5Ba%2F%2FFirst%2C%20a%5D"}),"\n",(0,a.jsxs)(s.p,{children:["The first argument will be an actual expression used as input; ",(0,a.jsx)(s.code,{children:"First"})," will break our wrapper and substitute an original vector."]}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"c4478553-1bf2-4c62-84a6-76645f3b7636",type:"Input",opts:{},children:"ArrowGuide%5B%7B1%2C1%7D%5D"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"1c68dc44-b6ee-460c-a102-f534482fd926",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28%7B1%2C%201%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBKkAEwCJmgvW%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,a.jsx)(s.p,{children:"Now one can do some cool tricks like this one:"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"e91e36d0-3637-4fed-9cbd-89f5b557d0e2",type:"Input",opts:{},children:"%28%2AVB%5B%2A%29%28%7B1%2C%201%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBKkAEwCJmgvW%22%2A%29%28%2A%5DVB%2A%29%20.%20%28%2AVB%5B%2A%29%28%7B1%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBKnIBGIGAImWC9U%3D%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"0afb84e7-d747-475e-be77-ba2f0cbfaf8d",type:"Output",opts:{},children:"1"}),"\n",(0,a.jsxs)(s.p,{children:["Now we can basically apply this decoration wrapper to our matrix using multidimensional ",(0,a.jsx)(s.code,{children:"Map"})," function and then again output it as a matrix"]}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"9044ba17-5f74-43f4-8cd3-bc96fab48bbe",type:"Input",opts:{},children:"Map%5BArrowGuide%2C%20grid%2C%20%7B2%7D%5D%20%2F%2F%20MatrixForm%20"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"f7433e0d-4054-4bfc-b7d1-bea9bf882c81",type:"Output",opts:{},children:"%28%28%2AGB%5B%2A%29%7B%7B%28%2AVB%5B%2A%29%28%7B1%2C%20-1%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBKnI%2FA8EAJOMD9E%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B2%2C%20-1%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBPEy%2FwMBAJOVD9I%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B3%2C%20-1%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAYyMv8DAQCTng%2FT%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B4%2C%20-1%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBDEy%2FwMBAJOnD9Q%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B5%2C%20-1%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAUyMv8DAQCTsA%2FV%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B1%2C%20-2%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBKnI%2FPf%2F%2F38Ak4gP0A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B2%2C%20-2%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBPEy%2F%2F3%2F%2Fx8Ak5EP0Q%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B3%2C%20-2%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAYyMv%2F9%2F%2F8fAJOaD9I%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B4%2C%20-2%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBDEy%2F%2F3%2F%2Fx8Ak6MP0w%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B5%2C%20-2%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAUyMv%2F9%2F%2F8fAJOsD9Q%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B1%2C%20-3%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBKnI%2FPv%2F%2F38Ak4QPzw%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B2%2C%20-3%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBPEy%2F%2F7%2F%2Fx8Ak40P0A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B3%2C%20-3%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAYyMv%2F%2B%2F%2F8fAJOWD9E%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B4%2C%20-3%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBDEy%2F%2F7%2F%2Fx8Ak58P0g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B5%2C%20-3%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAUyMv%2F%2B%2F%2F8fAJOoD9M%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B1%2C%20-4%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBKnI%2FPP%2F%2F38Ak4APzg%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B2%2C%20-4%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBPEy%2F%2Fz%2F%2Fx8Ak4kPzw%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B3%2C%20-4%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAYyMv%2F8%2F%2F8fAJOSD9A%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B4%2C%20-4%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBDEy%2F%2Fz%2F%2Fx8Ak5sP0Q%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B5%2C%20-4%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAUyMv%2F8%2F%2F8fAJOkD9I%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B1%2C%20-5%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBKnI%2FP3%2F%2F38Ak3wPzQ%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B2%2C%20-5%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBPEyf%2F%2F%2F%2Fx8Ak4UPzg%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B3%2C%20-5%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAYyMn%2F%2F%2F%2F8fAJOOD88%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B4%2C%20-5%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBDEyf%2F%2F%2F%2Fx8Ak5cP0A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B5%2C%20-5%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JZAUyMn%2F%2F%2F%2F8fAJOgD9E%3D%22%2A%29%28%2A%5DVB%2A%29%7D%7D%28%2A%5DGB%2A%29%29"}),"\n",(0,a.jsx)(s.p,{children:"Let's define a helper function"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"a0d0d26e-ccc3-49aa-8370-8595ac2b585b",type:"Input",opts:{InitGroup:!0},children:"showAsMatrix%5Bl_%5D%20%3A%3D%20Map%5BArrowGuide%2C%20l%2C%20%7B2%7D%5D%20%2F%2F%20MatrixForm%20"}),"\n",(0,a.jsx)(s.h2,{id:"divergence",children:"Divergence"}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Conservation of mass"})," for incompressible fluid dictates"]}),"\n",(0,a.jsx)(s.span,{className:"katex-display",children:(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mi,{children:"d"}),(0,a.jsx)(s.mi,{children:"i"}),(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsx)(s.mtext,{children:"\xa0"}),(0,a.jsx)(s.mi,{mathvariant:"bold",children:"v"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsx)(s.mn,{children:"0"})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"div ~\\mathbf{v} = 0"})]})})}),(0,a.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"d"}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"i"}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"mspace nobreak",children:"\xa0"}),(0,a.jsx)(s.span,{className:"mord mathbf",style:{marginRight:"0.01597em"},children:"v"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(s.span,{className:"mrel",children:"="}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,a.jsx)(s.span,{className:"mord",children:"0"})]})]})]})}),"\n",(0,a.jsxs)(s.p,{children:["where ",(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsx)(s.mrow,{children:(0,a.jsx)(s.mi,{mathvariant:"bold",children:"v"})}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\mathbf{v}"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.4444em"}}),(0,a.jsx)(s.span,{className:"mord mathbf",style:{marginRight:"0.01597em"},children:"v"})]})})]})," is velocity vector field we played with earlier - ",(0,a.jsx)(s.code,{children:"grid"}),"."]}),"\n",(0,a.jsx)(s.h3,{id:"example",children:"Example"}),"\n",(0,a.jsx)(s.p,{children:"Let us start with a simples example"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"ee7cc809-22c8-4a24-93e0-f8863aa9a58b",type:"Input",opts:{},children:"grid%20%3D%20Table%5B%7B0%2C0%7D%2C%20%7Bi%2C5%7D%2C%20%7Bj%2C5%7D%5D%3B%0Agrid%20%2F%2F%20showAsMatrix"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"3f25d4fb-b61c-4860-8cf9-0c186e93041b",type:"Output",opts:{},children:"%28%28%2AGB%5B%2A%29%7B%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%7D%28%2A%5DGB%2A%29%29"}),"\n",(0,a.jsx)(s.p,{children:"And put a single vector in the middle"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"e0f50781-ab65-467e-986d-1ea1ea2b1e60",type:"Input",opts:{},children:"grid%20%3D%20%28%28%2AGB%5B%2A%29%7B%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%201%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMmSBlAImRC9U%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%7D%28%2A%5DGB%2A%29%29%3B"}),"\n",(0,a.jsxs)(s.p,{children:["To visualize the divergence, one can use ",(0,a.jsx)(s.code,{children:"DensityPlot"})]}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"d2858fc8-5802-4f49-9cd5-526d7c204439",type:"Input",opts:{},children:"%7BintX%2C%20intY%7D%20%3D%20%7B%0A%20%20%20%20ListInterpolation%5Bgrid%5B%5BAll%2CAll%2C1%5D%5D%5D%2C%0A%20%20%20%20ListInterpolation%5Bgrid%5B%5BAll%2CAll%2C2%5D%5D%5D%0A%7D%3B%20%28%2ABB%5B%2A%29%28%2Ainterpolate%20data%20for%20the%20convenience%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%0ACoolColor%5B%20z_%20%5D%20%3A%3D%20RGBColor%5Bz%2C%200.5%2C%201%20-%20z%5D%3B%0A%0A%28%2ABB%5B%2A%29%28%2Afind%20divergence%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0ADiv%5B%7BintX%5Bx%2Cy%5D%2C%20intY%5Bx%2Cy%5D%7D%2C%20%7Bx%2Cy%7D%5D%3B%20%0AContourPlot%5B%25%2C%20%7Bx%2C1%2C5%7D%2C%20%7By%2C1%2C5%7D%2C%20ColorFunction-%3ECoolColor%5D"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"431e957f-5467-48d4-8ec6-0864d75e5d01",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28FrontEndRef%5B%2215f4029b-3d6d-46e2-8893-95deb4f9c83e%22%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKG5qmmRgYWSbpGqeYpeiamKUa6VpYWBrrWpqmpCaZpFkmWxinAgB8URWN%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,a.jsxs)(s.p,{children:["From a physical point of view, it means that there is a ",(0,a.jsx)(s.em,{children:"source node"})," at the bottom and a ",(0,a.jsx)(s.em,{children:"drain"})," at the top, which should not be a feature of a closed system with incompressible fluid."]}),"\n",(0,a.jsx)(s.h3,{id:"removing-the-divergence",children:"Removing the Divergence"}),"\n",(0,a.jsx)(s.p,{children:"One can try to solve this problem iteratively by taking a field with non-zero divergency and apply artificial tranformation on it to make it satisfy the equation."}),"\n",(0,a.jsxs)(s.p,{children:["There is a ",(0,a.jsx)(s.a,{href:"https://www.karlsims.com/fluid-flow.html",children:"clever algorithm"})," for removing the divergence of an arbitrary 2D vector field, which acts like a cellular automaton"]}),"\n",(0,a.jsx)(s.span,{className:"katex-display",children:(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mtable,{rowspacing:"0.25em",columnalign:"right left",columnspacing:"0em",children:[(0,a.jsxs)(s.mtr,{children:[(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.msubsup,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{children:"x"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mi,{children:"y"}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(s.mo,{mathvariant:"normal",children:"\u2032"})]})})}),(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mrow,{}),(0,a.jsx)(s.mo,{children:"="}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{children:"+"}),(0,a.jsxs)(s.mfrac,{children:[(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mn,{children:"8"})]}),(0,a.jsx)(s.mo,{fence:"false",stretchy:"true",minsize:"1.8em",maxsize:"1.8em",children:"{"})]})})})]}),(0,a.jsxs)(s.mtr,{children:[(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsx)(s.mrow,{})})}),(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mrow,{}),(0,a.jsx)(s.mo,{fence:"false",stretchy:"true",minsize:"1.8em",maxsize:"1.8em",children:"("}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{children:"+"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{children:"\u22c5"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{fence:"true",children:"["}),(0,a.jsxs)(s.mtable,{rowspacing:"0.16em",columnalign:"center",columnspacing:"1em",children:[(0,a.jsx)(s.mtr,{children:(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsx)(s.mn,{children:"1"})})})}),(0,a.jsx)(s.mtr,{children:(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsx)(s.mn,{children:"1"})})})})]}),(0,a.jsx)(s.mo,{fence:"true",children:"]"})]}),(0,a.jsx)(s.mo,{fence:"false",stretchy:"true",minsize:"1.8em",maxsize:"1.8em",children:")"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{fence:"true",children:"["}),(0,a.jsxs)(s.mtable,{rowspacing:"0.16em",columnalign:"center",columnspacing:"1em",children:[(0,a.jsx)(s.mtr,{children:(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsx)(s.mn,{children:"1"})})})}),(0,a.jsx)(s.mtr,{children:(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsx)(s.mn,{children:"1"})})})})]}),(0,a.jsx)(s.mo,{fence:"true",children:"]"})]}),(0,a.jsx)(s.mo,{fence:"false",stretchy:"true",minsize:"1.8em",maxsize:"1.8em",children:"}"}),(0,a.jsx)(s.mo,{children:"+"})]})})})]}),(0,a.jsxs)(s.mtr,{children:[(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsx)(s.mrow,{})})}),(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mrow,{}),(0,a.jsx)(s.mo,{fence:"false",stretchy:"true",minsize:"1.8em",maxsize:"1.8em",children:"("}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{children:"+"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{children:"\u22c5"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{fence:"true",children:"["}),(0,a.jsxs)(s.mtable,{rowspacing:"0.16em",columnalign:"center",columnspacing:"1em",children:[(0,a.jsx)(s.mtr,{children:(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsx)(s.mn,{children:"1"})})})}),(0,a.jsx)(s.mtr,{children:(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"1"})]})})})})]}),(0,a.jsx)(s.mo,{fence:"true",children:"]"})]}),(0,a.jsx)(s.mo,{fence:"false",stretchy:"true",minsize:"1.8em",maxsize:"1.8em",children:")"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{fence:"true",children:"["}),(0,a.jsxs)(s.mtable,{rowspacing:"0.16em",columnalign:"center",columnspacing:"1em",children:[(0,a.jsx)(s.mtr,{children:(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsx)(s.mn,{children:"1"})})})}),(0,a.jsx)(s.mtr,{children:(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"1"})]})})})})]}),(0,a.jsx)(s.mo,{fence:"true",children:"]"})]}),(0,a.jsx)(s.mo,{fence:"false",stretchy:"true",minsize:"1.8em",maxsize:"1.8em",children:"}"}),(0,a.jsx)(s.mo,{children:"+"})]})})})]}),(0,a.jsxs)(s.mtr,{children:[(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{fence:"true",children:"["}),(0,a.jsxs)(s.mtable,{rowspacing:"0.16em",columnalign:"center center",columnspacing:"1em",children:[(0,a.jsxs)(s.mtr,{children:[(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsx)(s.mn,{children:"2"})})}),(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsx)(s.mn,{children:"0"})})})]}),(0,a.jsxs)(s.mtr,{children:[(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsx)(s.mn,{children:"0"})})}),(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"2"})]})})})]})]}),(0,a.jsx)(s.mo,{fence:"true",children:"]"})]})})}),(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mrow,{}),(0,a.jsx)(s.mo,{children:"\u22c5"}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{children:"+"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mn,{children:"1"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsx)(s.mo,{children:"+"})]})})})]}),(0,a.jsxs)(s.mtr,{children:[(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsx)(s.mrow,{})})}),(0,a.jsx)(s.mtd,{children:(0,a.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"true",children:(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mrow,{}),(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mo,{children:"\u2212"}),(0,a.jsx)(s.mn,{children:"4"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"}),(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]}),(0,a.jsx)(s.mo,{fence:"false",stretchy:"true",minsize:"1.8em",maxsize:"1.8em",children:"}"}),(0,a.jsx)(s.mo,{separator:"true",children:","})]})})})]})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\begin{align*}\nv^\\prime_{(x=0,y=0)} &= v_{(0,0)} + \\frac{1}{8} \\Big\\{ \\\\ \n&\\Big((v_{(-1,-1)} + v_{(1,1)})\\cdot \\begin{bmatrix}\n   1  \\\\\n   1\n\\end{bmatrix} \\Big) \\begin{bmatrix}\n   1  \\\\\n   1\n\\end{bmatrix} \\Big\\} + \\\\\n\n&\\Big((v_{(-1,1)} + v_{(1,-1)})\\cdot \\begin{bmatrix}\n   1  \\\\\n   -1\n\\end{bmatrix} \\Big) \\begin{bmatrix}\n   1  \\\\\n   -1\n\\end{bmatrix} \\Big\\} + \\\\\n\n\\begin{bmatrix}\n   2 &  0\\\\\n   0 & -2\n\\end{bmatrix} &\\cdot (v_{(-1,0)} + v_{(1,0)} - v_{(0,-1)} - v_{(0,1)}) + \\\\\n\n& (-4) v_{(0,0)} \\Big\\},\n\n\\end{align*}"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"12.5076em",verticalAlign:"-6.0038em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsxs)(s.span,{className:"mtable",children:[(0,a.jsx)(s.span,{className:"col-align-r",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"6.5038em"},children:[(0,a.jsxs)(s.span,{style:{top:"-8.6323em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"0.8019em"},children:[(0,a.jsxs)(s.span,{style:{top:"-2.428em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"x"}),(0,a.jsx)(s.span,{className:"mrel mtight",children:"="}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.03588em"},children:"y"}),(0,a.jsx)(s.span,{className:"mrel mtight",children:"="}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]}),(0,a.jsxs)(s.span,{style:{top:"-3.113em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2032"})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.447em"},children:(0,a.jsx)(s.span,{})})})]})})]})})]}),(0,a.jsxs)(s.span,{style:{top:"-6.1963em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsx)(s.span,{className:"mord"})]}),(0,a.jsxs)(s.span,{style:{top:"-3.4963em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsx)(s.span,{className:"mord"})]}),(0,a.jsxs)(s.span,{style:{top:"-0.7963em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsxs)(s.span,{className:"minner",children:[(0,a.jsx)(s.span,{className:"mopen delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"["})}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsxs)(s.span,{className:"mtable",children:[(0,a.jsx)(s.span,{className:"col-align-c",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.45em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3.61em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"2"})})]}),(0,a.jsxs)(s.span,{style:{top:"-2.41em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"0"})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.95em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,a.jsx)(s.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,a.jsx)(s.span,{className:"col-align-c",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.45em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3.61em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"0"})})]}),(0,a.jsxs)(s.span,{style:{top:"-2.41em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord",children:"2"})]})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.95em"},children:(0,a.jsx)(s.span,{})})})]})})]})}),(0,a.jsx)(s.span,{className:"mclose delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"]"})})]})})]}),(0,a.jsxs)(s.span,{style:{top:"1.6038em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsx)(s.span,{className:"mord"})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"6.0038em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"col-align-l",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"6.5038em"},children:[(0,a.jsxs)(s.span,{style:{top:"-8.6323em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsx)(s.span,{className:"mrel",children:"="}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"+"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(s.span,{className:"mfrac",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.3214em"},children:[(0,a.jsxs)(s.span,{style:{top:"-2.314em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"8"})})]}),(0,a.jsxs)(s.span,{style:{top:"-3.23em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(s.span,{style:{top:"-3.677em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"1"})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.686em"},children:(0,a.jsx)(s.span,{})})})]})}),(0,a.jsx)(s.span,{className:"mclose nulldelimiter"})]}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"delimsizing size2",children:"{"})})]})]}),(0,a.jsxs)(s.span,{style:{top:"-6.1963em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord"}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"delimsizing size2",children:"("})}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"+"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"minner",children:[(0,a.jsx)(s.span,{className:"mopen delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"["})}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mtable",children:(0,a.jsx)(s.span,{className:"col-align-c",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.45em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3.61em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"1"})})]}),(0,a.jsxs)(s.span,{style:{top:"-2.41em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"1"})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.95em"},children:(0,a.jsx)(s.span,{})})})]})})})}),(0,a.jsx)(s.span,{className:"mclose delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"]"})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"delimsizing size2",children:")"})}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsxs)(s.span,{className:"minner",children:[(0,a.jsx)(s.span,{className:"mopen delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"["})}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mtable",children:(0,a.jsx)(s.span,{className:"col-align-c",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.45em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3.61em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"1"})})]}),(0,a.jsxs)(s.span,{style:{top:"-2.41em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"1"})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.95em"},children:(0,a.jsx)(s.span,{})})})]})})})}),(0,a.jsx)(s.span,{className:"mclose delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"]"})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"delimsizing size2",children:"}"})}),(0,a.jsx)(s.span,{className:"mord",children:"+"})]})]}),(0,a.jsxs)(s.span,{style:{top:"-3.4963em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord"}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"delimsizing size2",children:"("})}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"+"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"minner",children:[(0,a.jsx)(s.span,{className:"mopen delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"["})}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mtable",children:(0,a.jsx)(s.span,{className:"col-align-c",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.45em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3.61em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"1"})})]}),(0,a.jsxs)(s.span,{style:{top:"-2.41em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord",children:"1"})]})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.95em"},children:(0,a.jsx)(s.span,{})})})]})})})}),(0,a.jsx)(s.span,{className:"mclose delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"]"})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"delimsizing size2",children:")"})}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsxs)(s.span,{className:"minner",children:[(0,a.jsx)(s.span,{className:"mopen delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"["})}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mtable",children:(0,a.jsx)(s.span,{className:"col-align-c",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"1.45em"},children:[(0,a.jsxs)(s.span,{style:{top:"-3.61em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"mord",children:"1"})})]}),(0,a.jsxs)(s.span,{style:{top:"-2.41em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord",children:"1"})]})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.95em"},children:(0,a.jsx)(s.span,{})})})]})})})}),(0,a.jsx)(s.span,{className:"mclose delimcenter",style:{top:"0em"},children:(0,a.jsx)(s.span,{className:"delimsizing size3",children:"]"})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"delimsizing size2",children:"}"})}),(0,a.jsx)(s.span,{className:"mord",children:"+"})]})]}),(0,a.jsxs)(s.span,{style:{top:"-0.7963em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u22c5"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"+"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"1"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsx)(s.span,{className:"mord",children:"+"})]})]}),(0,a.jsxs)(s.span,{style:{top:"1.6038em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"3.45em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord"}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord",children:"\u2212"}),(0,a.jsx)(s.span,{className:"mord",children:"4"}),(0,a.jsx)(s.span,{className:"mclose",children:")"}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]}),(0,a.jsx)(s.span,{className:"mord",children:(0,a.jsx)(s.span,{className:"delimsizing size2",children:"}"})}),(0,a.jsx)(s.span,{className:"mpunct",children:","})]})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"6.0038em"},children:(0,a.jsx)(s.span,{})})})]})})]})})]})})]})}),"\n",(0,a.jsxs)(s.p,{children:["where ",(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsx)(s.mrow,{children:(0,a.jsxs)(s.msubsup,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mn,{children:"0"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(s.mo,{mathvariant:"normal",lspace:"0em",rspace:"0em",children:"\u2032"})]})}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"v^{\\prime}_{(0,0)}"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"1.2489em",verticalAlign:"-0.497em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsxs)(s.span,{className:"vlist",style:{height:"0.7519em"},children:[(0,a.jsxs)(s.span,{style:{top:"-2.378em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mtight",children:"0"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]}),(0,a.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:(0,a.jsx)(s.span,{className:"mord mtight",children:"\u2032"})})})]})]}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.497em"},children:(0,a.jsx)(s.span,{})})})]})})]})]})})]})," is a new velocity vector at coordinates ",(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{children:"x"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mi,{children:"y"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"(x,y)"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(s.span,{className:"mpunct",children:","}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,a.jsx)(s.span,{className:"mclose",children:")"})]})})]})," and others ",(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsx)(s.mrow,{children:(0,a.jsxs)(s.msub,{children:[(0,a.jsx)(s.mi,{children:"v"}),(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{children:"i"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mi,{children:"j"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]})]})}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"v_{(i,j)}"})]})})}),(0,a.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.7858em",verticalAlign:"-0.3552em"}}),(0,a.jsxs)(s.span,{className:"mord",children:[(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,a.jsx)(s.span,{className:"msupsub",children:(0,a.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(s.span,{className:"vlist-r",children:[(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3448em"},children:(0,a.jsxs)(s.span,{style:{top:"-2.5198em",marginLeft:"-0.0359em",marginRight:"0.05em"},children:[(0,a.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,a.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsxs)(s.span,{className:"mord mtight",children:[(0,a.jsx)(s.span,{className:"mopen mtight",children:"("}),(0,a.jsx)(s.span,{className:"mord mathnormal mtight",children:"i"}),(0,a.jsx)(s.span,{className:"mpunct mtight",children:","}),(0,a.jsx)(s.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"}),(0,a.jsx)(s.span,{className:"mclose mtight",children:")"})]})})]})}),(0,a.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(s.span,{className:"vlist-r",children:(0,a.jsx)(s.span,{className:"vlist",style:{height:"0.3552em"},children:(0,a.jsx)(s.span,{})})})]})})]})]})})]})," are ones from the previous state at ",(0,a.jsxs)(s.span,{className:"katex",children:[(0,a.jsx)(s.span,{className:"katex-mathml",children:(0,a.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(s.semantics,{children:[(0,a.jsxs)(s.mrow,{children:[(0,a.jsx)(s.mo,{stretchy:"false",children:"("}),(0,a.jsx)(s.mi,{children:"x"}),(0,a.jsx)(s.mo,{children:"+"}),(0,a.jsx)(s.mi,{children:"i"}),(0,a.jsx)(s.mo,{separator:"true",children:","}),(0,a.jsx)(s.mi,{children:"y"}),(0,a.jsx)(s.mo,{children:"+"}),(0,a.jsx)(s.mi,{children:"j"}),(0,a.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,a.jsx)(s.annotation,{encoding:"application/x-tex",children:"(x + i, y + j)"})]})})}),(0,a.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(s.span,{className:"mopen",children:"("}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"x"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"+"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"0.854em",verticalAlign:"-0.1944em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",children:"i"}),(0,a.jsx)(s.span,{className:"mpunct",children:","}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,a.jsx)(s.span,{className:"mbin",children:"+"}),(0,a.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}})]}),(0,a.jsxs)(s.span,{className:"base",children:[(0,a.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,a.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.05724em"},children:"j"}),(0,a.jsx)(s.span,{className:"mclose",children:")"})]})]})]}),"."]}),"\n",(0,a.jsxs)(s.blockquote,{children:["\n",(0,a.jsx)(s.p,{children:"This is done by adding flow away from high pressure converging areas, and toward low pressure diverging areas."}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Here is our implementation"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"a67839f1-1fe1-457e-a784-7f2234461627",type:"Input",opts:{InitGroup:!0},children:"removeDivergence%5Bgrid_%5D%20%3A%3D%20With%5B%7B%0A%20%20%28%2ABB%5B%2A%29%28%2Asafety%20checks%2C%20which%20enforce%20closed%20boundaries%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%20%20take%20%3D%20Function%5B%7Barray%2C%20x%2Cy%7D%2C%20If%5Bx%20%3E%3D%201%20%26%26%20x%20%3C%3D%20Length%5Bgrid%5D%20%26%26%20y%20%3E%3D%201%20%26%26%20y%20%3C%3D%20Length%5Bgrid%5D%2C%20array%5B%5Bx%2Cy%5D%5D%2C%20%7B0%2C0%7D%5D%5D%0A%7D%2C%0A%20%20MapIndexed%5BFunction%5B%7Bval%2C%20i%7D%2C%20%0A%20%20%20%20val%20%2B%20%28%2AFB%5B%2A%29%28%281%29%28%2A%2C%2A%29%2F%28%2A%2C%2A%29%288.0%29%29%28%2A%5DFB%2A%29%20%28%0A%20%20%20%20%20%20%28%28take%5Bgrid%2C%20i%5B%5B1%5D%5D%20-%201%2C%20i%5B%5B2%5D%5D%20-%201%5D%20%2B%20take%5Bgrid%2C%20i%5B%5B1%5D%5D%20%2B%201%2C%20i%5B%5B2%5D%5D%20%2B%201%5D%29.%7B1%2C1%7D%29%7B1%2C1%7D%20%2B%0A%0A%20%20%20%20%20%20%28%28take%5Bgrid%2C%20i%5B%5B1%5D%5D%20-%201%2C%20i%5B%5B2%5D%5D%20%2B%201%5D%20%2B%20take%5Bgrid%2C%20i%5B%5B1%5D%5D%20%2B%201%2C%20i%5B%5B2%5D%5D%20-%201%5D%29.%7B1%2C-1%7D%29%7B1%2C-1%7D%20%2B%0A%0A%20%20%20%20%20%20%28take%5Bgrid%2C%20i%5B%5B1%5D%5D-1%2C%20i%5B%5B2%5D%5D%5D%20%2B%20take%5Bgrid%2C%20i%5B%5B1%5D%5D%2B1%2C%20i%5B%5B2%5D%5D%5D%20-%20take%5Bgrid%2C%20i%5B%5B1%5D%5D%2C%20i%5B%5B2%5D%5D-1%5D%20-%20take%5Bgrid%2C%20i%5B%5B1%5D%5D%2C%20i%5B%5B2%5D%5D%2B1%5D%29%7B2%2C-2%7D%20%2B%20take%5Bgrid%2C%20i%5B%5B1%5D%5D%2C%20i%5B%5B2%5D%5D%5D%20%28-4%29%0A%0A%20%20%20%20%29%0A%20%20%5D%2C%20grid%2C%20%7B2%7D%5D%0A%5D"}),"\n",(0,a.jsx)(s.p,{children:"Let us test it."}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"5ef74ab6-6f2d-48d1-a7f3-0b90cd3c8088",type:"Input",opts:{},children:"Table%5BNest%5BremoveDivergence%2C%20grid%2C%20i%5D%20%2F%2F%20showAsMatrix%2C%20%7Bi%2C%200%2C2%7D%5D%20%2F%2F%20Row%20"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"24dfce5d-2dc0-4d56-ba39-7e6a4fb41906",type:"Output",opts:{},children:"%28%2AGB%5B%2A%29%7B%7B%28%28%2AGB%5B%2A%29%7B%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%201%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMmSBlAImRC9U%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0%2C%200%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC7JBNIMYAIAiY0L1A%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.125%2C%200.125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDA%2FZwBgDz8Q3k%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%20-0.25%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOPCfgDp2w11%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B-0.125%2C%200.125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDA%2FthDHsA%2BPEOZA%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.25%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOOCPQDpWwz1%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.5%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOOBPQDpew0F%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.25%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOOCPQDpWwz1%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B-0.125%2C%200.125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDA%2FthDHsA%2BPEOZA%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%20-0.25%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOPCfgDp2w11%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.125%2C%200.125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDA%2FZwBgDz8Q3k%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACOAMA53wL5g%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%7D%28%2A%5DGB%2A%29%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%28%2AGB%5B%2A%29%7B%7B%28%2AVB%5B%2A%29%28%7B0.03125%2C%200.03125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDBfZwBgDyUQ2k%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%20-0.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGPDfgDpmw1V%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGODPQDpGwzV%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%20-0.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGPDfgDpmw1V%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B-0.03125%2C%200.03125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDBfthDHsA91EOJA%3D%3D%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0.%2C%200.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGODPQDpGwzV%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.125%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDA%2FZQBgMDAPIyDOU%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%20-0.125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOPAfgDpuw1l%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B-0.125%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDA%2FuhDAYGAPcyDWU%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGODPQDpGwzV%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0.%2C%200.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGODPQDpGwzV%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOOAPQDpOwzl%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOOJPQDpgw0J%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOOAPQDpOwzl%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGODPQDpGwzV%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B0.%2C%200.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGODPQDpGwzV%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B-0.125%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDA%2FuhDAYGAPcyDWU%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%20-0.125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKOPAfgDpuw1l%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.125%2C%200.%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDA%2FZQBgMDAPIyDOU%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGODPQDpGwzV%22%2A%29%28%2A%5DVB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28%7B-0.03125%2C%200.03125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDBfthDHsA91EOJA%3D%3D%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%20-0.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGPDfgDpmw1V%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%200.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGODPQDpGwzV%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.%2C%20-0.0625%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYoACKGPDfgDpmw1V%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28%7B0.03125%2C%200.03125%7D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRAeF5BwLCrKL3cvzUxJTWOCqfDJLC4pYgCDBfZwBgDyUQ2k%22%2A%29%28%2A%5DVB%2A%29%7D%7D%28%2A%5DGB%2A%29%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7D%28%2A%5DGB%2A%29"}),"\n",(0,a.jsxs)(s.p,{children:["As you can see, if we have a stream of fluid from ",(0,a.jsx)(s.em,{children:"A"})," to ",(0,a.jsx)(s.em,{children:"B"}),", there must be some other streams made from ",(0,a.jsx)(s.em,{children:"B"})," to ",(0,a.jsx)(s.em,{children:"A"}),". The applied procedure produces the missing one spread over the whole grid if ",(0,a.jsx)(s.code,{children:"removeDivergence"})," is applied multiple times."]}),"\n",(0,a.jsx)(s.p,{children:"We can check it directly by calculating the divergence."}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"6247d1de-940c-4a5c-8c06-e91a51ea94ed",type:"Input",opts:{InitGroup:!0},children:"CoolColor%5B%20z_%20%5D%20%3A%3D%20RGBColor%5Bz%2C%200.5%2C%201%20-%20z%5D%3B%0A%0AplotDiv%5Bgrid_%5D%20%3A%3D%20Module%5B%7BintX%2C%20intY%2C%20x%2C%20y%7D%2C%0A%0A%20%20%7BintX%2C%20intY%7D%20%3D%20%7B%0A%20%20%20%20%20%20ListInterpolation%5Bgrid%5B%5BAll%2CAll%2C1%5D%5D%5D%2C%0A%20%20%20%20%20%20ListInterpolation%5Bgrid%5B%5BAll%2CAll%2C2%5D%5D%5D%0A%20%20%7D%3B%20%28%2ABB%5B%2A%29%28%2Ainterpolate%20data%20for%20the%20convenience%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%0A%20%20With%5B%7Bdiv%20%3D%20Div%5B%7BintX%5Bx%2Cy%5D%2C%20intY%5Bx%2Cy%5D%7D%2C%20%7Bx%2Cy%7D%5D%7D%2C%0A%20%20%20%20ContourPlot%5B%0A%20%20%20%20%20%20div%2C%20%7Bx%2C1%2C5%7D%2C%20%7By%2C1%2C5%7D%2C%20%0A%20%20%20%20%20%20ColorFunctionScaling%20-%3E%20False%2C%20%28%2ABB%5B%2A%29%28%2Amake%20sure%20to%20have%20the%20same%20scale%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%20%20%20%20%20%20ColorFunction%20-%3E%20ColorData%5B%7B%22ThermometerColors%22%2C%20%7B-1%2C%201%7D%7D%5D%0A%20%20%20%20%5D%0A%20%20%5D%0A%5D%0A"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"58dd0876-f1d9-4c80-b84b-f2eca343ef62",type:"Input",opts:{},children:"%7B%0A%20%20%7BStyle%5B%22Original%22%2C%2014%5D%2C%20plotDiv%5Bgrid%5D%7D%2C%20%0A%20%20%7BStyle%5B%228%20iterations%22%2C%2014%5D%2C%20plotDiv%5BNest%5BremoveDivergence%2C%20grid%2C%208%5D%5D%7D%0A%7D%20%2F%2F%20Transpose%20%2F%2F%20Grid%20"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"b91d8db9-983a-4416-8868-f5ba4373ec56",type:"Output",opts:{},children:"%28%2AGB%5B%2A%29%7B%7B%28%2ABB%5B%2A%29%28%22Original%22%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNiYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCRYg4ZGfkwLhcQKJ4JKizLx0p%2FyKTD4gD6IdpCqoNCc1mA2uACwWUlSaCgCn0xcV%22%2A%29%28%2A%5DBB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2ABB%5B%2A%29%28%228%20iterations%22%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNiYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCRYg4ZGfkwLhcQKJ4JKizLx0p%2FyKTD4gD6IdpCqoNCc1mA2uACwWUlSaCgCn0xcV%22%2A%29%28%2A%5DBB%2A%29%7D%28%2A%7C%7C%2A%29%2C%28%2A%7C%7C%2A%29%7B%28%2AVB%5B%2A%29%28FrontEndRef%5B%2262b4aa00-b857-4b7d-8530-a563afd164ec%22%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKmxklmSQmGhjoJlmYmuuaJJmn6FqYGhvoJpqaGSempRiamaQmAwB%2FdRWX%22%2A%29%28%2A%5DVB%2A%29%28%2A%7C%2A%29%2C%28%2A%7C%2A%29%28%2AVB%5B%2A%29%28FrontEndRef%5B%22b99a3f97-955e-4d38-b5cb-4ec0903c77e3%22%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKJ1laJhqnWZrrWpqapuqapBhb6CaZJifpmqQmG1gaGCebm6caAwCG1hW5%22%2A%29%28%2A%5DVB%2A%29%7D%7D%28%2A%5DGB%2A%29"}),"\n",(0,a.jsx)(s.p,{children:"Apart from obvious artifacts caused by interpolation on a small grid, this algorithm definitely works. However, it is still far from modeling a fluid."}),"\n",(0,a.jsx)(s.h3,{id:"interactive-example",children:"Interactive Example"}),"\n",(0,a.jsx)(s.p,{children:"We can try to solve this in real-time and see how it reacts live. However, the current approach to visualizing will be quite slow when it comes to dynamics."}),"\n",(0,a.jsxs)(s.p,{children:["If we just try to reevaluate ",(0,a.jsx)(s.code,{children:"ListVectorPlot"})," directly, it will be horribly slow. In general, there is no need to reevaluate the whole expression for graphics. The grid is the same, but vectors differ. We can go either fully ",(0,a.jsx)(s.code,{children:"raster"})," using ",(0,a.jsx)(s.code,{children:"Image"})," or use SVG graphics. The latter is the easiest way. Let us start from the ground up."]}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"94f9755f-043a-4720-b399-feb5cb3f1aa0",type:"Input",opts:{},children:"grid%20%3D%20grid%20%2F%2F%20removeDivergence%3B%0A%0AGraphics%5B%7B%0A%20%20Table%5B%0A%20%20%20%20Arrow%5B%7B%0A%20%20%20%20%20%20%7Bi%2Cj%7D%2C%20%0A%20%20%20%20%20%20%7Bi%2Cj%7D%20%2B%201.5%20grid%5B%5Bi%5D%5D%5B%5Bj%5D%5D%0A%20%20%20%20%7D%5D%2C%20%7Bi%2C%205%7D%2C%20%7Bj%2C%205%7D%5D%0A%7D%2C%20PlotRange-%3E%7B%7B0%2C6%7D%2C%20%7B0%2C6%7D%7D%2C%20ImagePadding-%3ENone%5D"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"480fe257-f9b6-4a66-83e4-4badae70a6c7",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28FrontEndRef%5B%2246f8ea9d-0f01-4681-82d9-35d40f2fba91%22%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKm5ilWaQmWqboGqQZGOqamFkY6loYpVjqGpummBikGaUlJVoaAgCBGxV6%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,a.jsxs)(s.p,{children:["What about a color you ask. One can calculate ",(0,a.jsx)(s.code,{children:"Hue"})," based on the polar angle of our vector"]}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"9159daef-55b8-451a-969e-b287e8fe3de9",type:"Input",opts:{},children:"Graphics%5B%7B%0A%20%20Table%5B%7B%0A%20%20%20%20Hue%5B%28%2AFB%5B%2A%29%28%28%CF%80%20%2B%202%20ToPolarCoordinates%5Bgrid%5B%5Bi%5D%5D%5B%5Bj%5D%5D%5D%2F%2F%20Last%29%28%2A%2C%2A%29%2F%28%2A%2C%2A%29%283%20%CF%80%29%29%28%2A%5DFB%2A%29%5D%2C%0A%20%20%20%20Arrow%5B%7B%0A%20%20%20%20%20%20%7Bi%2Cj%7D%2C%20%0A%20%20%20%20%20%20%7Bi%2Cj%7D%20%2B%201.5%20grid%5B%5Bi%5D%5D%5B%5Bj%5D%5D%0A%20%20%20%20%7D%5D%0A%20%20%7D%2C%20%7Bi%2C%205%7D%2C%20%7Bj%2C%205%7D%5D%0A%7D%2C%20PlotRange-%3E%7B%7B0%2C6%7D%2C%20%7B0%2C6%7D%7D%2C%20ImagePadding-%3ENone%5D"}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"4a7933eb-e29e-49e3-8a8d-d9a9bc6cc3df",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28FrontEndRef%5B%225e1eca05-6839-466c-9b1d-9ac89c5ca036%22%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKm6YapiYnGpjqmlkYW%2BqamJkl61omGaboWiYmW1gmmwKljM0AhKkVrA%3D%3D%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,a.jsxs)(s.p,{children:["Now we basically recreated ",(0,a.jsx)(s.code,{children:"VectorPlot"})," function in our primitive way. The next step will be to implement dynamic updates."]}),"\n",(0,a.jsx)(s.h3,{id:"dynamic-evaluation",children:"Dynamic Evaluation"}),"\n",(0,a.jsx)(s.p,{children:"The key feature to fast dynamic evaluation is to minimize the amount of data transferred between the Kernel and frontend as well as the number of things updated."}),"\n",(0,a.jsxs)(s.p,{children:["We need to couple the ",(0,a.jsx)(s.code,{children:"Arrow"})," primitive to a specific element of our array ",(0,a.jsx)(s.code,{children:"grid"}),". To do this, one can use the ",(0,a.jsx)(s.code,{children:"Offload"})," wrapper, which acts similarly to ",(0,a.jsx)(s.code,{children:"Hold"})]}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"446f7d67-bb2e-49ab-aa0e-33a388ce5b95",type:"Input",opts:{},children:"grid%20%3D%20Table%5B%7B0.%2C0.%7D%2C%20%7Bi%2C5%7D%2C%20%7Bj%2C5%7D%5D%3B%0Agrid%5B%5B3%2C3%5D%5D%20%3D%20%7B0%2C1.0%7D%3B%20%28%2ABB%5B%2A%29%28%2A%20initial%20divergence%20%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%0AGraphics%5B%7B%0A%20%20Table%5BWith%5B%7Bi%3Di%2C%20j%3Dj%7D%2C%20%28%2ABB%5B%2A%29%28%2A%20to%20substitute%20numbers%2C%20not%20symbols%20%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%20%20%20%20Arrow%5B%7B%0A%20%20%20%20%20%20%7Bi%2Cj%7D%2C%20%0A%20%20%20%20%20%20%7Bi%2Cj%7D%20%2B%201.5%20grid%5B%5Bi%5D%5D%5B%5Bj%5D%5D%0A%20%20%20%20%7D%20%2F%2F%20Offload%20%5D%5D%2C%20%7Bi%2C%205%7D%2C%20%7Bj%2C%205%7D%5D%0A%7D%2C%20PlotRange-%3E%7B%7B0.5%2C5.5%7D%2C%20%7B0.5%2C5.5%7D%7D%2C%20ImagePadding-%3ENone%5D"}),"\n",(0,a.jsxs)(s.p,{children:["Now ",(0,a.jsx)(s.strong,{children:"try to evaluate the next cell"})," multiple times."]}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"487a6513-25cf-4a41-999f-d8ab268d8125",type:"Input",opts:{},children:"grid%20%3D%20grid%20%2F%2F%20removeDivergence%3B"}),"\n",(0,a.jsxs)(s.p,{children:["Let us increase the resolution and automate the process using ",(0,a.jsx)(s.code,{children:"AnimationFrameListener"}),". In general, one can also add dynamic color to our arrows as well."]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"TL;DR"})}),"\n",(0,a.jsx)(i.EB,{display:"codemirror",nid:"36a310dd-d5f8-40a8-b29a-535bca60d052",id:"4d83b66d-cbd5-487f-a5f0-76cfd8f8a112",type:"Input",opts:{},children:"bgrid%20%3D%20Table%5B%7B0.%2C0.%7D%2C%20%7Bi%2C15%7D%2C%20%7Bj%2C15%7D%5D%3B%0Abcolors%20%3D%20Table%5B1.0%2C%20%7BLength%5Bbgrid%5D%7D%2C%20%7BLength%5Bbgrid%5D%7D%5D%3B%0Abfps%20%3D%200%3B%0A%0AmouseHandler%5Bbgrid_%2C%20win_%2C%20canvas_%5D%20%3D%20Module%5B%7B%0A%20%20arrow%20%3D%20False%2C%0A%20%20dest%20%3D%20%7B0%2C0%7D%2C%0A%20%20start%20%3D%20%7B0%2C0%7D%0A%7D%2C%20%7B%0A%20%20%20%20%20%20%22mouseup%22%20-%3E%20Function%5Bxy%2C%0A%20%20%20%20%20%20%20%20With%5B%7Bv%20%3D%20-Normalize%5Bstart%20-%20xy%5D%7D%2C%0A%20%20%20%20%20%20%20%20%20%20Do%5B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20With%5B%7Bp%20%3D%20Clip%5B%23%2C%20%7B1%2C15%7D%5D%20%26%2F%40%20Round%20%2F%40%20%28%28xy%20-%20start%29%20a%20%2B%20start%29%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20bgrid%5B%5Bp%5B%5B1%5D%5D%2Cp%5B%5B2%5D%5D%5D%5D%20%3D%20%7Bv%5B%5B1%5D%5D%2C%20v%5B%5B2%5D%5D%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%2C%20%7Ba%2C%200%2C%201%2C0.1%7D%5D%3B%20%28%2A%20a%20very%20stipid%20way%20of%20drawing%20lines%20%2A%29%0A%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%5D%3B%0A%0A%20%20%20%20%20%20%20%20Delete%5Barrow%5D%3B%20%0A%20%20%20%20%20%20%20%20arrow%20%3D%20False%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%5D%2C%0A%0A%20%20%20%20%20%20%22mousemove%22%20-%3E%20Function%5Bxy%2C%0A%20%20%20%20%20%20%20%20dest%20%3D%20xy%3B%0A%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%0A%20%20%20%20%20%20%22mousedown%22%20-%3E%20Function%5Bxy%2C%0A%20%20%20%20%20%20%20%20start%20%3D%20xy%3B%0A%20%20%20%20%20%20%20%20dest%20%3D%20xy%20%2B%20%7B1%2C1%7D%3B%20%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20If%5Barrow%20%3D%21%3D%20False%2C%20Delete%5Barrow%5D%5D%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20arrow%20%3D%20FrontSubmit%5B%7B%0A%20%20%20%20%20%20%20%20%20%20AbsoluteThickness%5B3%5D%2C%20Gray%2C%20%0A%20%20%20%20%20%20%20%20%20%20Arrow%5B%7Bxy%2C%20dest%20%2F%2F%20Offload%7D%5D%0A%20%20%20%20%20%20%20%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20canvas%2C%20%0A%20%20%20%20%20%20%20%20%20%20%22Window%22-%3Ewin%2C%20%0A%20%20%20%20%20%20%20%20%20%20%22Tracking%22-%3ETrue%20%0A%20%20%20%20%20%20%20%20%5D%3B%0A%20%20%20%20%20%20%0A%20%20%20%20%20%20%5D%0A%20%20%7D%5D%3B%0A%0ASetAttributes%5BmouseHandler%2C%20HoldFirst%5D%0A%0A%28%2ABB%5B%2A%29%28%2Adefine%20handler%20for%20the%20animation%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0Abtime%20%3D%20AbsoluteTime%5B%5D%3B%0A%0AEventHandler%5B%22bframe%22%2C%20Function%5BNull%2C%0A%20%20bgrid%20%3D%20removeDivergence%5Bbgrid%5D%20%2F%2F%20N%3B%0A%20%20bcolors%20%3D%20Map%5BFunction%5Bval%2C%20%28%2AFB%5B%2A%29%28%28%CF%80%20%2B%202.0%20ToPolarCoordinates%5Bval%5D%2F%2F%20Last%29%28%2A%2C%2A%29%2F%28%2A%2C%2A%29%283.0%20%CF%80%29%29%28%2A%5DFB%2A%29%20%5D%2C%20bgrid%2C%20%7B2%7D%5D%3B%0A%20%20%0A%20%20bfps%20%3D%20%28%2AFB%5B%2A%29%28%28%28bfps%20%2B%201%20%2F%20%28AbsoluteTime%5B%5D%20-%20btime%29%29%29%28%2A%2C%2A%29%2F%28%2A%2C%2A%29%282.0%29%29%28%2A%5DFB%2A%29%20%2F%2F%20Round%3B%0A%20%20btime%20%3D%20AbsoluteTime%5B%5D%3B%20%0A%5D%5D%3B%0A%0A%0AWith%5B%7B%0A%20%20win%20%3D%20CurrentWindow%5B%5D%2C%20%28%2ABB%5B%2A%29%28%2A%20save%20the%20current%20window%20to%20append%20graphics%20%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%20%20currentCell%20%3D%20ResultCell%5B%5D%2C%0A%20%20canvasId%20%3D%20CreateUUID%5B%5D%0A%7D%2C%0A%0A%20%20EventHandler%5Bwin%2C%20%7B%22Closed%22%20-%3E%20Function%5BNull%2C%0A%20%20%20%20Delete%5BcurrentCell%5D%20%28%2ABB%5B%2A%29%28%2A%20remove%20output%20cell%20if%20a%20notebook%20has%20been%20closed%20%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%20%20%20%20%28%2ABB%5B%2A%29%28%2A%20this%20will%20prevent%20the%20animation%20running%20uncontrollably%20on%20the%20next%20start%20%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%20%20%5D%7D%5D%3B%0A%0A%20%20Graphics%5B%7B%0A%20%20%20%20Table%5BWith%5B%7Bi%3Di%2C%20j%3Dj%7D%2C%20%0A%20%20%20%20%20%20%28%2ABB%5B%2A%29%28%2A%20now%20we%20have%20dynamic%20Hue%20and%20dynamic%20Arrow%20%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%20%20%20%20%20%20Offload%5B%7B%20%0A%20%20%20%20%20%20%20%20Hue%5Bbcolors%5B%5Bi%5D%5D%5B%5Bj%5D%5D%5D%2C%0A%20%20%20%20%20%20%20%20Arrow%5B%7B%7Bi%2Cj%7D%2C%20%7Bi%2Cj%7D%20%2B%20%20bgrid%5B%5Bi%5D%5D%5B%5Bj%5D%5D%7D%5D%0A%20%20%20%20%20%20%7D%5D%20%0A%20%20%20%20%0A%20%20%20%20%5D%2C%20%7Bi%2C15%7D%2C%20%7Bj%2C15%7D%5D%2C%0A%0A%20%20%20%20EventHandler%5BGraphics%60Canvas%5B%5D%2C%20mouseHandler%5Bbgrid%2C%20win%2C%20MetaMarker%5BcanvasId%5D%5D%5D%2C%20%0A%0A%20%20%20%20%28%2ABB%5B%2A%29%28%2Async%20with%20browser%27s%20repaint%20cycle%20and%20update%20of%20fps%20label%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%20%20%20%20AnimationFrameListener%5Bbfps%20%2F%2F%20Offload%2C%20%22Event%22-%3E%22bframe%22%5D%2C%20%0A%20%20%20%20%28%2ABB%5B%2A%29%28%2Amark%20this%20instance%20of%20Graphics%20with%20uid%20to%20append%20new%20elements%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0A%20%20%20%20MetaMarker%5BcanvasId%5D%2C%20%0A%20%20%20%20Text%5Bbfps%20%2F%2F%20Offload%2C%20%7B0%2C0%7D%5D%0A%20%20%7D%2C%20%0A%20%20%20%20Controls-%3EFalse%2C%20%0A%20%20%20%20ImageSize-%3E500%2C%20%0A%20%20%20%20PlotRange-%3E%7B%7B-0.5%2C15.5%7D%2C%20%7B-0.5%2C15.5%7D%7D%2C%20%0A%20%20%20%20ImagePadding-%3ENone%2C%20%0A%20%20%20%20TransitionType-%3ENone%0A%20%20%5D%0A%5D%0A"}),"\n",(0,a.jsxs)(s.p,{children:["The code can be divided into two parts: ",(0,a.jsx)(s.em,{children:"visualization using Graphics and Arrow"})," and ",(0,a.jsx)(s.em,{children:"calculation loop"}),"."]}),"\n",(0,a.jsxs)(s.p,{children:["As we discussed before, we draw each point from a grid individually with a pair of ",(0,a.jsx)(s.code,{children:"Hue"})," and ",(0,a.jsx)(s.code,{children:"Arrow"}),". At the same place, we attach listeners to the ",(0,a.jsx)(s.code,{children:"Graphics"})," canvas to capture mouse clicks and movements to modify the velocity field."]}),"\n",(0,a.jsxs)(s.p,{children:["Animation is done using ",(0,a.jsx)(s.code,{children:"AnimationFrameListener"})," coupled to ",(0,a.jsx)(s.code,{children:"fpsLabel"}),", which works as a trigger to a new frame. It serves two goals:"]}),"\n",(0,a.jsxs)(s.ol,{children:["\n",(0,a.jsx)(s.li,{children:"Sync animation with the browser's repaint cycle."}),"\n",(0,a.jsxs)(s.li,{children:["Do not start a new frame until the data is ready, which is indicated by ",(0,a.jsx)(s.code,{children:"fpsLabel"}),". It can also be ",(0,a.jsx)(s.code,{children:"grid"}),", but since ",(0,a.jsx)(s.code,{children:"fpsLabel"})," is the last symbol to be updated before a new frame, we have chosen it to be a trigger."]}),"\n"]}),"\n",(0,a.jsxs)(s.p,{children:["Then, before a new frame, it fires an event object with ",(0,a.jsx)(s.code,{children:'"bframe"'})," uid, which is captured later by ",(0,a.jsx)(s.code,{children:"EventHandler"}),". In the animation loop, it removes divergence, recalculates colors, and then also updates the FPS counter just for the statistics."]}),"\n",(0,a.jsx)(s.p,{children:"An expected result is shown on a GIF below"}),"\n","\n",(0,a.jsx)("video",{width:"100%",controls:!0,children:(0,a.jsx)("source",{src:l})}),"\n",(0,a.jsx)(s.p,{children:"It is quite far from an actual fluid simulation. We should also consider the momentum of it."}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"See you in Part 2"})," \ud83e\udd84"]})]})}function C(e={}){const{wrapper:s}={...(0,n.M)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},46880:(e,s,A)=>{"use strict";A.d(s,{EB:()=>d,gL:()=>m,Af:()=>c});var a,n=A(11504);A(93391),A(28264);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var A=arguments[s];for(var a in A)Object.prototype.hasOwnProperty.call(A,a)&&(e[a]=A[a])}return e},i.apply(this,arguments)}const l=e=>{let{title:s,titleId:A,...l}=e;return n.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"w-5 h-5 ml-auto",viewBox:"0 0 24 24","aria-labelledby":A},l),s?n.createElement("title",{id:A},s):null,a||(a=n.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M17 17h.01m.39-3h.6c.932 0 1.398 0 1.765.152a2 2 0 0 1 1.083 1.083C21 15.602 21 16.068 21 17s0 1.398-.152 1.765a2 2 0 0 1-1.083 1.083C19.398 20 18.932 20 18 20H6c-.932 0-1.398 0-1.765-.152a2 2 0 0 1-1.083-1.083C3 18.398 3 17.932 3 17s0-1.398.152-1.765a2 2 0 0 1 1.083-1.083C4.602 14 5.068 14 6 14h.6m5.4 1V4m0 11-3-3m3 3 3-3"})))};var r=A(66528),t=(A(98684),A(52964),A(93664),A(17624));function c(e){let{json:s,notebook:A,kernel:a}=e;const{colorMode:i,setColorMode:c}=(0,r.U)();return(0,n.useEffect)((()=>{console.warn("Create store"),console.warn(s);const e={},A={},n=[],i=new Deferred;let l=async()=>{l=async()=>{},fetch(s).then((s=>{console.warn("Store loaded!"),s.json().then((s=>{interpretate(s.objects,{hold:!0}).then((s=>{console.warn("Objects loaded!"),Object.keys(s).forEach((e=>{const A=new ObjectStorage(e);A.cache=s[e],A.cached=!0})),Object.keys(e).forEach((A=>{Array.isArray(e[A])?e[A].forEach((e=>e.resolve(s[A]))):e[A].resolve(s[A])}))})),interpretate(s.symbols,{hold:!0}).then((e=>{console.warn("Symbols loaded!"),Object.keys(e).forEach((s=>{core[s]=async(e,A)=>await interpretate(core[s].data,A),core[s].data=e[s],core[s]=async(e,A)=>{console.log("IE: calling our symbol...");const a=await interpretate(core[s].data,A);return A.root&&!A.novirtual&&(core[s].instances[A.root.uid]=A.root),a},core[s].update=async(e,A)=>{if(A.useCache)return core[s].cached&&core[s].currentData==core[s].data||(core[s].cached=await interpretate(core[s].data,A),core[s].currentData=core[s].data),core[s].cached;return await interpretate(core[s].data,A)},core[s].destroy=async(e,A)=>{delete core[s].instances[A.root.uid],console.warn(A.root.uid+" was destroyed"),console.warn("external symbol was destoryed")},core[s].data=structuredClone(e[s]),core[s].virtual=!0,core[s].instances={}})),Object.keys(A).forEach((s=>{console.warn(s),A[s].resolve(e[s])})),i.resolve()}))}))}))};core.Offload=(e,s)=>{if(e.length>1)if("'Static'"===e[1][1]){if(e[1][2])return interpretate(e[0],{...s,static:!0})}else if(e.length>2&&"'Static'"===e[2][1]&&e[2][2])return interpretate(e[0],{...s,static:!0});return interpretate(e[0],s)},core.Offload.update=(e,s)=>{if(e.length>1)if("'Volatile'"===e[1][1]){if(!e[1][2])return void console.log("Update was rejected (Nonvolatile)")}else if(e.length>2&&"'Volatile'"===e[2][1]&&!e[2][2])return void console.log("Update was rejected (Nonvolatile)");return interpretate(e[0],s)},window.server={kernel:{}},window.server.ask=s=>{const A=new Deferred;if(s.length<42)return console.error("Unknown command"),console.error(s),!1;return Array.isArray(e[s.slice(60,-2)])?e[s.slice(60,-2)].push(A):e[s.slice(60,-2)]=[A],l(),A.promise},window.server.getSymbol=e=>{const s=new Deferred;return console.warn("Asking for symbol"+e),A[e]=s,s.promise},window.server.kernel.emitt=function(e,s,A){void 0===A&&(A="Default"),n.push({uid:e,data:s,type:A})},interpretate.anonymous=async(e,s)=>{let a,n;if(console.log("Anonimous symbol: "+JSON.stringify(e)),e instanceof Array)throw console.error(e),"unknown WL expression. Error at "+e[0];a=e;const i=new Deferred;return console.warn("Asking for symbol"+a),A[a]=i,n=await i.promise,core[a]=async(e,s)=>{console.log("IE: calling our symbol...");const A=await interpretate(core[a].data,s);return s.root&&!s.novirtual&&(core[a].instances[s.root.uid]=s.root),A},core[a].update=async(e,s)=>{if(s.useCache)return core[a].cached&&core[a].currentData==core[a].data||(core[a].cached=await interpretate(core[a].data,s),core[a].currentData=core[a].data),core[a].cached;return await interpretate(core[a].data,s)},core[a].destroy=async(e,s)=>{delete core[a].instances[s.root.uid],console.warn(s.root.uid+" was destroyed"),console.warn("external symbol was destoryed")},core[a].data=n,core[a].virtual=!0,core[a].instances={},interpretate(e,s)},(async()=>{if(console.warn("Kernel"),a){if(console.warn("KERNEL"),!window.KernelState){const e=new Deferred,s=document.createElement("script");s.src="https://cdn.jsdelivr.net/gh/JerryI/wljs-export-html@base/dist/decoder.min.js",s.addEventListener("load",(()=>e.resolve())),document.head.appendChild(s),await e.promise,console.warn("KernelState lib loaded!")}fetch(a).then((e=>{console.log(e),e.json().then((async e=>{let s=[];for(const A of e)s.push(await interpretate.unzlib64String(A));s=s.map(KernelMesh.unpack),console.warn("Mesh loaded!"),console.log(s),window.server.kernel.emitt=function(e,A,a){void 0===a&&(a="Default"),setTimeout((()=>{const n={type:"event",uid:e,pattern:a,data:A},i=s;for(let e=0;e<i.length;++e)if(i[e].test(n)){if(i[e].state)i[e].state=new KernelState(i[e].state,n,!0);else{if(i[e].database.has("$initialization")){i[e].database.get("$initialization").forEach((s=>i[e].state=new KernelState(i[e].state,s,!0)))}i[e].state=new KernelState(i[e].state,n,!0)}i[e].state.exec(i[e].database,(e=>{for(const s of Object.keys(e))if(console.warn(s),"$state"!==s)if(1===e[s].set.length){console.log(e[s].set[0]),core[s].data=structuredClone(e[s].set[0]);for(const e of Object.values(core[s].instances))e.update()}else{e[s].i+=1,e[s].i>=e[s].set.length&&(e[s].i=0),core[s].data=structuredClone(e[s].set[e[s].i]);for(const e of Object.values(core[s].instances))e.update()}}))}}),4)},n.forEach((e=>window.server.kernel.emitt(e.uid,e.data,e.type)))}))}))}})()})),console.log("DONE loading mesh"),A?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("a",{href:A,className:"dark"==i?"p-2 text-xs w-full flex ring-1 ring-inset shadow ring-gray-300 text-gray-300 my-2":"p-2 text-xs w-full flex ring-1 ring-inset text-gray-600 shadow ring-gray-300 bg-gray-300 my-2",children:["Download original notebook ",(0,t.jsx)(l,{})]})}):(0,t.jsx)(t.Fragment,{})}function m(e){let{children:s,data:A}=e;const a={__html:decodeURIComponent(s)};return(0,t.jsx)("div",{dangerouslySetInnerHTML:a})}function d(e){let{children:s,nid:A,id:a,type:i,display:l,opts:c}=e;const m=(0,n.useRef)(null),{colorMode:d,setColorMode:o}=(0,r.U)(),C=decodeURIComponent(s),[B,h]=(0,n.useState)(c.Fade),[x,p]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=m.current;let s;if(console.warn("Create Codemirror"),console.warn(l),console.log(C),p(!0),console.warn("Created: "+l),"print"!=l){if(window.SupportedCells[l])return window.SupportedCells[l].view&&(s=new window.SupportedCells[l].view({element:e},C)),s.editor&&c.Fade&&(m.current.addEventListener("focusin",(()=>{h(!1)})),m.current.addEventListener("focusout",(()=>{h(!0)}))),()=>{s&&s.dispose()};console.warn("Not found: "+l)}}),[]),(0,t.jsx)("div",{style:{filter:"dark"==d?"invert(1) contrast(0.8) hue-rotate(-185deg)":"none"},className:"language-mathematica codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block",children:(0,t.jsx)("div",{className:B?"h-fade-20 codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module":"codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module",children:(0,t.jsxs)("pre",{tabIndex:"0",className:"prism-code language-mathematica codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar",style:{color:"rgb(57, 58, 52)",backgroundColor:"rgb(246, 248, 250)"},children:[!x&&(0,t.jsx)("code",{style:{whiteSpace:"pre-wrap"},className:"codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module",children:C}),(0,t.jsx)("code",{ref:m,className:"codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"})]})})})}},148:(e,s,A)=>{"use strict";A.d(s,{c:()=>a});const a=A.p+"418e96abf75d54007a0ca744e251f5a5.txt"},8592:(e,s,A)=>{"use strict";A.d(s,{c:()=>a});const a=A.p+"c499484a380c1ef42e4b43218c452365.wln"},47944:()=>{},73223:()=>{}}]);