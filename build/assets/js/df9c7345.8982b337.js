"use strict";(self.webpackChunkwljs_docs=self.webpackChunkwljs_docs||[]).push([[5270],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(n),u=a,f=p["".concat(s,".").concat(u)]||p[u]||m[u]||i;return n?r.createElement(f,o(o({ref:t},d),{},{components:n})):r.createElement(f,o({ref:t},d))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},6902:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(7294),a=n(412);const i=["https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@latest/src/interpreter.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@latest/src/core.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-cells@main/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-editor@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-editor@master/src/boxes.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-markdown-support@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-js-support@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-html-support@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-inputs@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-graphics-d3@latest/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-plotly@latest/dist/kernel.js"];function o(e){return new Promise(((t,n)=>{if(a.Z.canUseDOM){var r=document.createElement("script");r.src=e,r.type="module",r.onload=()=>{t()},r.onerror=()=>{n("cannot load script "+e)},document.head.appendChild(r)}}))}const l=new Event("load-wljs");function s(){return(0,r.useEffect)((async()=>{if(a.Z.canUseDOM){if(window.loadedNotebooks={},window.LoadedWLJS)return;for(const e of i)await o(e);window.LoadedWLJS=!0,window.dispatchEvent(l)}}),[]),r.createElement("div",{id:"helmet"})}},1365:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(7294),a=n(3778),i=n(412);function o(e){let{children:t,code:n,name:o,width:l,height:s}=e;return(0,r.useEffect)((()=>{if(i.Z.canUseDOM){const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),t=async()=>{if(window.LoadedWLJSForSure=!0,e in window.eventAttr)return;window.eventAttr[e]=!0;const t=a.iF(a.TD(atob(n),!0)),r=a.T8(t),i=JSON.parse(r);console.log(o);for(const e of i[0]){const t=new ObjectStorage(e[0]);t.cache=e[1],t.cached=!0}for(const e of i[1]){const t={local:{},global:{}};console.log(e),await interpretate(e,t)}};return window.LoadedWLJSForSure?t():window.addEventListener("load-wljs",t),()=>{Object.values(window.CellHashStorage).forEach((e=>{console.log(e),"input"===e?.type&&e.dispose()}))}}}),[]),r.createElement("main",{id:"frontend-editor",className:"main-container styles-container-editor"},r.createElement("div",{id:"frontend-editor-content",className:"group-container"},r.createElement("div",{id:o})))}i.Z.canUseDOM&&(window.eventAttr={},window.OfflineMode=!0)},5152:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>f,frontMatter:()=>l,metadata:()=>c,toc:()=>p});var r=n(7462),a=(n(7294),n(3905)),i=n(6902),o=n(1365);const l={slug:"curvesfit-example",title:"Interactive curves fitting example",authors:"jerryi",tags:["frontend","dynamics","fitting"]},s=void 0,c={permalink:"/wljs-docs/blog/curvesfit-example",source:"@site/blog/2023-07-14-curves/index.md",title:"Interactive curves fitting example",description:"Here we will try to recreate a simple example of the interactive curves fitting based on Fit function provided by Wolfram Mathematica.",date:"2023-07-14T00:00:00.000Z",formattedDate:"July 14, 2023",tags:[{label:"frontend",permalink:"/wljs-docs/blog/tags/frontend"},{label:"dynamics",permalink:"/wljs-docs/blog/tags/dynamics"},{label:"fitting",permalink:"/wljs-docs/blog/tags/fitting"}],readingTime:1.3,hasTruncateMarker:!0,authors:[{name:"Kirill Vasin",title:"Maintainer",url:"https://github.com/JerryI",imageURL:"img/jerryi.jpg",key:"jerryi"}],frontMatter:{slug:"curvesfit-example",title:"Interactive curves fitting example",authors:"jerryi",tags:["frontend","dynamics","fitting"]},nextItem:{title:"Interactive graphics example",permalink:"/wljs-docs/blog/balls-example"}},d={authorsImageUrls:[void 0]},p=[{value:"WLJS Frontend version",id:"wljs-frontend-version",level:2}],m={toc:p},u="wrapper";function f(e){let{components:t,...l}=e;return(0,a.kt)(u,(0,r.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)(i.Z,{mdxType:"Component"}),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(7804).Z,width:"557",height:"438"})),(0,a.kt)("p",null,"Here we will try to recreate a simple example of the interactive curves fitting based on ",(0,a.kt)("inlineCode",{parentName:"p"},"Fit")," function provided by Wolfram Mathematica."),(0,a.kt)("h2",{id:"wljs-frontend-version"},"WLJS Frontend version"),(0,a.kt)("p",null,"For the demonstration one can input the data points by clicking on an empty canvas"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-mathematica"},'RGBColor[1,1,1],\n  EventHandler[Rectangle[{-10,10}, {10,-10}], {"click"->Function[xy, \n    points = Append[points, xy]; \n    fit = lineFit[points]\n]}],\n...\n')),(0,a.kt)("p",null,"An event listener is attached to the rectangle at the background. Each time user clicks on it, it will append a new point to the array and recalculate fitter curve using defined ",(0,a.kt)("inlineCode",{parentName:"p"},"lineFit")," function."),(0,a.kt)("p",null,"To draw our points and fitted curve, we need one line of a code"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-mathematica"},"PointSize[0.1],\n  Red, Point[points//Hold], Cyan, Line[fit//Hold]\n")),(0,a.kt)("p",null,"Then, let us define the fitting function"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-mathematica"},"fit = {};\npoints = {};\norder = 1;\n\nlineFit[points_] := With[{o = Table[CM6Superscript[x, i], {i, 0, order}]},\n  With[{f = Fit[points, o, x]}, \n    Table[{x, f}, {x, -1,1, 0.025}]\n  ]\n]\n")),(0,a.kt)("p",null,"Basically,  it is done. However one can make it more interesting if we consider a control slider for changing the order of a curve as well as a clear button"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"in a new cell")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-mathematica"},'Function[data, points = {}; fit = {};] // InputButton["Clear"]\nFunction[data, order = data; fit = lineFit[points]] // InputRange[1, 5, 1]\n')),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"A shortcut to assign a ",(0,a.kt)("inlineCode",{parentName:"p"},"handler")," function to an event-object "),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-mathematica"},"handler // EventObject[...]\n")),(0,a.kt)("p",{parentName:"admonition"},"is an equivalent of"),(0,a.kt)("pre",{parentName:"admonition"},(0,a.kt)("code",{parentName:"pre",className:"language-mathematica"},"EventHandler[EventObject[...], handler]\n"))),(0,a.kt)("p",null,"Here the full code"),(0,a.kt)(o.Z,{code:"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",name:"hydraulics-3ae3e",mdxType:"Notebook"},"hydraulics-3ae3e"),(0,a.kt)("p",null,"Links"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{target:"_blank",href:n(3633).Z},"Download Notebook"))),(0,a.kt)("p",null,"Thanks for reading! See you next time"))}f.isMDXComponent=!0},3633:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/files/CurvesFit-20aaa782ca6e26a146f8f96a273f4479.wl"},7804:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/ezgif.com-video-to-gif-18-94e6a05c41e0ea19c96d840f15a92c17.gif"}}]);