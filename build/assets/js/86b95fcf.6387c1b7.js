"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[63312],{33272:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var t=i(17624),o=i(4552);const s={sidebar_position:0},r=void 0,a={id:"frontend/Development/FAQ",title:"FAQ",description:"Here is a FAQ list for the design choices",source:"@site/docs/frontend/Development/FAQ.md",sourceDirName:"frontend/Development",slug:"/frontend/Development/FAQ",permalink:"/wljs-docs/frontend/Development/FAQ",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1739462254e3,sidebarPosition:0,frontMatter:{sidebar_position:0},sidebar:"tutorialSidebar",previous:{title:"Troubleshooting",permalink:"/wljs-docs/frontend/Troubleshooting/"},next:{title:"Overview",permalink:"/wljs-docs/frontend/Development/Overview"}},l={},d=[{value:"Notebook interface",id:"notebook-interface",level:2},{value:"Why Not Jupyter Notebook, VSCode, Pluto, etc.",id:"why-not-jupyter-notebook-vscode-pluto-etc",level:3},{value:"Summary of Limitations in Existing Solutions",id:"summary-of-limitations-in-existing-solutions",level:3},{value:"Do I know what I am talking about?",id:"do-i-know-what-i-am-talking-about",level:3},{value:"Deficiencies of Jupyter",id:"deficiencies-of-jupyter",level:3},{value:"On WLJS",id:"on-wljs",level:3},{value:"Code editor",id:"code-editor",level:3},{value:"Dynamics",id:"dynamics",level:2},{value:"Dynamics Works Differently Compared to Mathematica",id:"dynamics-works-differently-compared-to-mathematica",level:3},{value:"General",id:"general",level:2},{value:"Would you join Mathics to go fully open-source",id:"would-you-join-mathics-to-go-fully-open-source",level:3},{value:"Our goals",id:"our-goals",level:3},{value:"Javascript",id:"javascript",level:2},{value:"Why not to use X-framework",id:"why-not-to-use-x-framework",level:3},{value:"Why Not Use a Centralized Build System",id:"why-not-use-a-centralized-build-system",level:3}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.M)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Here is a FAQ list for the design choices"}),"\n",(0,t.jsx)(n.h2,{id:"notebook-interface",children:"Notebook interface"}),"\n",(0,t.jsx)(n.h3,{id:"why-not-jupyter-notebook-vscode-pluto-etc",children:"Why Not Jupyter Notebook, VSCode, Pluto, etc."}),"\n",(0,t.jsx)(n.p,{children:"Our primary focus was to bring easy, fast, and snappy dynamics to Wolfram Notebooks\u2014 similar to Observable or Pluto \u2014 while keeping portability and the ability to run some calculations offline (without requiring a running kernel or server)."}),"\n",(0,t.jsx)(n.p,{children:"We initially experimented with the Jupyter API and later with Observable, but neither provided enough flexibility to implement syntax sugar, editable math expressions, and interactive output cells. Storing and rendering elements like interactive 3D plots with embedded JavaScript is particularly challenging. The official Wolfram Language Extension only supports rasterized static images as output. While it's possible to embed JavaScript in output cells, this approach is highly inefficient for dynamic evaluation."}),"\n",(0,t.jsx)(n.p,{children:"In contrast, WLJS stores raw Wolfram Language (WL) data in the notebook, which the frontend then interprets as plots or 2D/3D images. This increases file size but enables more functionality, such as panning or rotating a plot and adjusting some sliders entirely offline without a working kernel."}),"\n",(0,t.jsx)(n.h3,{id:"summary-of-limitations-in-existing-solutions",children:"Summary of Limitations in Existing Solutions"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.strong,{children:"Uneditable output cells"})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"No support for syntax sugar or 2D math input"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"We rely on a customized CodeMirror 6 editor with extensive optimizations for speed."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Significant overhead from the ZMQ protocol used in Jupyter Kernels"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Dedicated WebSocket links for each evaluation kernel enables much faster performance."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Maintaining two separate systems"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Supporting both a Python/Julia interpreter and the Wolfram Engine would add complexity."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If we removed our key features, WLJS would be no different from VSCode Notebooks or Jupyter/Pluto with an attached Wolfram Kernel."}),"\n",(0,t.jsxs)(i,{children:[(0,t.jsxs)("summary",{children:["Feedback from ",(0,t.jsx)(n.em,{children:"Anton Antonov, Accendo Data LLC"})]}),(0,t.jsx)(n.h3,{id:"do-i-know-what-i-am-talking-about",children:"Do I know what I am talking about?"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"I have developed a few Jupyter packages in Python and Raku."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["See\xa0",(0,t.jsx)(n.a,{href:"https://pypi.org/project/JupyterChatbook/",children:'"JupyterChatbook"'}),"\xa0(pypi.org) and\xa0",(0,t.jsx)(n.a,{href:"https://raku.land/zef:antononcube/Jupyter::Chatbook",children:'"Jupyter::Chatbook"'}),"\xa0(raku.land)."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:'Those are "full featured" chatbooks, which I use everyday in different contexts.'}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["See for example this\xa0",(0,t.jsx)(n.a,{href:"https://www.youtube.com/watch?v=5qXgqqRZHow",children:"recent video of mine"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Here is a\xa0",(0,t.jsx)(n.a,{href:"https://community.wolfram.com/groups/-/m/t/3053519",children:"comparison"}),"\xa0of Python, Raku, and WL on LLM functionalities that includes chatbooks."]}),"\n"]}),"\n"]}),(0,t.jsx)(n.h3,{id:"deficiencies-of-jupyter",children:"Deficiencies of Jupyter"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"For a long time Jupyter notebooks were clunky and buggy."}),"\n",(0,t.jsxs)(n.li,{children:["Many of the user experience designs for Jupyter are questionable.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'Some sort of "vi mode" is employed!!'}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["It is not trivial to make magic cells with different types of output.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Say,\xa0",(0,t.jsx)(n.a,{href:"https://mermaid.js.org/",children:"Mermaid-JS"}),", featured in the main post."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["There is no reliable way to make JavaScript graphics display in Jupyter notebooks.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Certain hacks are used and they do not always work."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["I tried to develop further Wolfram Language Jupyter Kernel without much success.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"This a personal point of view, of course."}),"\n",(0,t.jsxs)(n.li,{children:["After studying the code, I decided it is not worth\xa0",(0,t.jsx)(n.em,{children:"my time"}),"\xa0to change or develop it further."]}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(n.h3,{id:"on-wljs",children:"On WLJS"}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:'If you are going to use a "web-browser" solution, it should be better if it is "directly" based on JavaScript.'}),"\n",(0,t.jsxs)(n.li,{children:["Jupyter itself has JavaScript roots: a fundamental design decision is to use JSON.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Similar to the use of M-expressions by Mathematica notebooks."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:['A front end programmed in JavaScript gives much more "immediate" interactive functionalities.',"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Including graphics,\xa0",(0,t.jsx)(n.code,{children:"Manipulate"}),"-like interfaces,\xa0",(0,t.jsx)(n.code,{children:"Dataset"}),", etc."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(n.h3,{id:"code-editor",children:"Code editor"}),"\n",(0,t.jsxs)(n.p,{children:["We reply on ",(0,t.jsx)(n.a,{href:"https://codemirror.net/",children:"Code Mirror 6"})," in the combination with a few custom-written replacing decorations"]}),"\n",(0,t.jsx)(n.h2,{id:"dynamics",children:"Dynamics"}),"\n",(0,t.jsx)(n.h3,{id:"dynamics-works-differently-compared-to-mathematica",children:"Dynamics Works Differently Compared to Mathematica"}),"\n",(0,t.jsxs)(n.p,{children:["We have a ",(0,t.jsx)(n.a,{href:"/wljs-docs/frontend/Reference/Interpreter/Manipulate",children:"Manipulate"})," expression that is semi-compatible with Mathematica. However, in general, we enforce different approaches for interactive evaluation, such as an event-based approach and partial reevaluation (see ",(0,t.jsx)(n.a,{href:"/wljs-docs/frontend/Dynamics",children:"Dynamics"}),"). Our methods provide much faster and more efficient dynamic evaluation compared to Mathematica, though they are more limited in terms of supported symbols. In this sense, we see no point in replicating the same architecture using open-source tools."]}),"\n",(0,t.jsx)(n.h2,{id:"general",children:"General"}),"\n",(0,t.jsx)(n.h3,{id:"would-you-join-mathics-to-go-fully-open-source",children:"Would you join Mathics to go fully open-source"}),"\n",(0,t.jsxs)(n.p,{children:["It is possible in the future \ud83e\uddd9\ud83c\udffc\u200d\u2642\ufe0f since ",(0,t.jsx)(n.a,{href:"https://mathics.org/",children:"Mathics project"})," reimplement the core features of Wolfram Language in Python."]}),"\n",(0,t.jsx)(n.h3,{id:"our-goals",children:"Our goals"}),"\n",(0,t.jsx)(n.p,{children:"We make our decisions based on the considerations"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"a notebook should work properly even after 10 years or more"}),"\n",(0,t.jsx)(n.li,{children:"stable API, no possibilities for breaking changes, no migration guides"}),"\n",(0,t.jsx)(n.li,{children:"no external dependencies, which cannot be localized"}),"\n",(0,t.jsx)(n.li,{children:"write once and forget (if no issues found)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"javascript",children:"Javascript"}),"\n",(0,t.jsx)(n.h3,{id:"why-not-to-use-x-framework",children:"Why not to use X-framework"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The direct DOM manipulations are always faster."}),"\n",(0,t.jsx)(n.li,{children:'To reduce the number of "moving" parts.'}),"\n",(0,t.jsx)(n.li,{children:"We are trying to allocate as much room for the user's application and madness as possible."}),"\n",(0,t.jsx)(n.li,{children:"We should be able to ship notebook as a standalone HTML file."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"why-not-use-a-centralized-build-system",children:"Why Not Use a Centralized Build System"}),"\n",(0,t.jsx)(n.p,{children:"We do use ESM and JavaScript bundlers within a dedicated component. Each component is loaded lazily and can have optional interconnections with other components. Managing such a system\u2014where users can load or unload any part without duplicating dependencies\u2014is extremely challenging."}),"\n",(0,t.jsxs)(n.p,{children:["To address this, all interconnections are handled through a few global objects and classes, such as ",(0,t.jsx)(n.code,{children:"interpretate"}),", ",(0,t.jsx)(n.code,{children:"server"}),", ",(0,t.jsx)(n.code,{children:"SupportedCells"}),", ",(0,t.jsx)(n.code,{children:"CellWrapper"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Another reason we use the global scope"})," is to provide users with easy access to the WLJS Interpreter (see ",(0,t.jsx)(n.a,{href:"/wljs-docs/frontend/Advanced/Frontend%20interpretation/WLJS%20Functions",children:"WLJS Functions"}),")."]})]})}function h(e={}){const{wrapper:n}={...(0,o.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},4552:(e,n,i)=>{i.d(n,{I:()=>a,M:()=>r});var t=i(11504);const o={},s=t.createContext(o);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);