"use strict";(self.webpackChunkwljs_docs=self.webpackChunkwljs_docs||[]).push([[3594],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>B});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=r,B=d["".concat(l,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(B,o(o({ref:t},p),{},{components:n})):a.createElement(B,o({ref:t},p))}));function B(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},3e3:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(7294);const r={crush:(e,t=50)=>{let n=[];const a="-_.!~*'()";for(let i=127;--i;)(i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122||a.includes(String.fromCharCode(i)))&&n.push(String.fromCharCode(i));for(let i=32;i<255;++i){let e=String.fromCharCode(i);"\\"==e||n.includes(e)||n.unshift(e)}e=e.replace(new RegExp("\x01","g"),"");const r=((e,n)=>{let a=n.length,r="";const i=e=>encodeURI(encodeURIComponent(e)).replace(/%../g,"i").length,o=e=>{let t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t>=56320&&t<=57343||n>=55296&&n<=56319};let s={};for(let l=2;l<t;l++)for(let t=0;t<e.length-l;++t){let n=e.substr(t,l);if(s[n])continue;if(o(n))continue;let a=1;for(let r=e.indexOf(n,t+l);r>=0;++a)r=e.indexOf(n,r+l);a>1&&(s[n]=a)}for(;;){for(;a--&&e.includes(n[a]););if(a<0)break;let t,o=n[a],l=0,c=i(o);for(let e in s){let n=s[e],a=(n-1)*i(e)-(n+1)*c;r.length||(a-=i("\x01")),a<=0?delete s[e]:a>l&&(t=e,l=a)}if(!t)break;e=e.split(t).join(o)+o+t,r=o+r;let p={};for(let n in s){let a=n.split(t).join(o),r=0;for(let t=e.indexOf(a);t>=0;++r)t=e.indexOf(a,t+a.length);r>1&&(p[a]=r)}s=p}return{a:e,b:r}})(e=i(e),n);let o=r.a;return r.b.length&&(o+="\x01"+r.b),o+="_",o},uncrush:e=>{const t=(e=e.substring(0,e.length-1)).split("\x01");let n=t[0];if(t.length>1){let e=t[1];for(let t of e){let e=n.split(t);n=e.join(e.pop())}}return i(n,0)}},i=(e,t=1)=>{const n=[['"',"'"],["':","!"],[",'","~"],["}",")","\\","\\"],["{","(","\\","\\"]],a=(e,t)=>{let n=new RegExp(`${(t[2]?t[2]:"")+t[0]}|${(t[3]?t[3]:"")+t[1]}`,"g");return e.replace(n,(e=>e===t[0]?t[1]:t[0]))};if(t)for(let r=0;r<n.length;++r)e=a(e,n[r]);else for(let r=n.length;r--;)e=a(e,n[r]);return e};function o(e){let{children:t,code:n,width:i,height:o}=e;(0,a.useRef)();const s=JSON.parse(r.uncrush(decodeURIComponent(n))),l=s.js,c=s.compiled,p=`<html>\n  <head>  \n\n    <script>             \n    function isElement(o){\n      return (\n        typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2\n        o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName==="string"\n    );\n    }\n    <\/script>\n \n  </head>\n  <body>\n    <div id="canvas"></div>\n\n    \n    <script type="module" src="https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@main/dist/interpreter.js"><\/script>\n    <script type="module" src="https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@main/dist/core.js"><\/script>\n\n    ${(s.includes||[]).map((e=>`<script type="module" src="${e}"><\/script>`)).join("")}\n    \n\n    <script type="module">\n    console.log('start');\n      let global = {};\n      let env = {global: global};\n\n\n        const $f = async () => {\n          ${l}\n        };\n\n        const r = await $f();\n\n        console.log('js');\n\n        if (isElement(r)) {\n          document.getElementById('canvas').appendChild(r);\n        } else {\n          console.log(r);\n        }\n        console.log('op');\n        await interpretate(${JSON.stringify(c)}, env);\n        console.log('ok');\n\n\n    <\/script>\n  </body>\n  </html>`;return a.createElement("iframe",{width:i||"100%",height:o||"auto",srcDoc:p})}},52:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(7462),r=(n(7294),n(3905)),i=n(3e3);const o={sidebar_position:3},s="Javascript integration",l={unversionedId:"interpreter/Basics/js-access",id:"interpreter/Basics/js-access",title:"Javascript integration",description:"For deep overview of functions, containers and advanced control of evaluation process, please, see pages executables and front-end-functions.",source:"@site/docs/interpreter/Basics/js-access.md",sourceDirName:"interpreter/Basics",slug:"/interpreter/Basics/js-access",permalink:"/wljs-interpreter/docs/interpreter/Basics/js-access",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/interpreter/Basics/js-access.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"interpreterSidebar",previous:{title:"Symbols and expressions",permalink:"/wljs-interpreter/docs/interpreter/Basics/scripts"},next:{title:"Working with graphics",permalink:"/wljs-interpreter/docs/interpreter/Basics/graphics"}},c={},p=[{value:"Reading objects",id:"reading-objects",level:2},{value:"Calling functions",id:"calling-functions",level:2},{value:"Event-based approach",id:"event-based-approach",level:2}],d={toc:p},u="wrapper";function m(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"javascript-integration"},"Javascript integration"),(0,r.kt)("p",null,"For deep overview of functions, containers and advanced control of evaluation process, please, see pages ",(0,r.kt)("a",{parentName:"p",href:"/wljs-interpreter/docs/frontend/executables"},"executables")," and ",(0,r.kt)("a",{parentName:"p",href:"/wljs-interpreter/docs/frontend/front-end-functions"},"front-end-functions"),"."),(0,r.kt)("h2",{id:"reading-objects"},"Reading objects"),(0,r.kt)("p",null,"Let us define some variable on the page"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"var variable = Array.apply(null, Array(100)).map(function (_, i) {return [i/100.0 - 1, Math.sin(i/6.28)];});\n")),(0,r.kt)("p",null,"or if you want to isolate it as a module (it is better, since it execute the script in the right sequence and prevents the early evaluation of the next included file)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<script type="module">\n    window.variable = ...\n<\/script>\n')),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Always put your scripts into ",(0,r.kt)("inlineCode",{parentName:"p"},'<script type="module">')," tag, since it guarantees that the sequence of executing of those scripts (as they appear in HTML document) will be preserved")),(0,r.kt)("p",null,"All functions of WLJS intepreter must return a javascript primitive data type, therefore it is possible to assign it to a WL symbol directly using ",(0,r.kt)("inlineCode",{parentName:"p"},"WindowScope")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'v = WindowScope["variable"];\n')),(0,r.kt)("p",null,"Then we can plot this array as if it was a ",(0,r.kt)("inlineCode",{parentName:"p"},"List")," "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndVirtual[{ \n    (* attach a dom element to draw *)\n    AttachDOM["canvas"],\n    (* our graphics *)\n    Graphics[{RGBColor[1.0,1.0,0], Line[v]}, ImageSize->{400,200}] \n}] \n')),(0,r.kt)(i.Z,{code:"('wls!'v%20%3D%20%2B%5BZ%24Z%5D%3BNv%2F%2FPrint%3BN%7B*qbe%20ableqanimate%20we%20need%20a%20container%25N%23%5B(%20N%5Ct%7B*%20attach%20a%20dom%20elementqdraw%259AttachDOM%5BZcanvasZ%5D%2C9%7B*%20our%20gX%259GX%5B(PointSize%5B0.05%5DK9QRGBColor%5B1.0%2C1.0%2C0%5D%2C9QLine%5Bv%5DQ9)KZYZ-%3E400KImageSize-%3E(500%2C100)%5D%20N)%5D%3B%20NN'~js!'window.%24%20%3D%20Array.apply%7BnullKArray%7B100%7D%7D.map%7Bfunction%20%7B_Ki%7D%20(return%20%5Bi%2F100.0%20-%201KMath.sin%7Bi%2F6.28%7D%5D%3B)%7D%3B'~includes!%5B'https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2FJerryI%2Fwljs-gX-d3%40latest%2Fdist%2Fkernel.js'%5D~compiled!%5B'Hold'7CompoundExpression'7Set'~v'7%2B'~%22%24%22'U7Print'~v'%5D7%23%267AttachDOM'~%22canvas%22'%5D7GX%267PointSize'%2C0.05%5D7RGBColor'%2C1%2C1%2C0%5D7Line'~v'U7Rule'~%22Y%22'%2C400%5D7Rule'~ImageSize%26%2C500%2C100UU%5D%2CnullU)7%2C%5B'9NQQK%2C%20N%5CnQ%20%20U%5D%5DXraphicsYTransitionDurationZ%5C'q%20to%20%23FrontEndVirtual%24variable%25%20*%7D%26'7List'%2BWindowScope%01%2B%26%25%24%23qZYXUQNK97_",mdxType:"Sandbox"},"Sinewave"),(0,r.kt)("h2",{id:"calling-functions"},"Calling functions"),(0,r.kt)("p",null,"In principle in the this manner the whole WLJS interpeter including all libraries was made. Anything even simple like ",(0,r.kt)("inlineCode",{parentName:"p"},"List"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Times")," are Javascript functions defined as"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"core.Function = async (args, env) => {\n    //executing arguments\n    const arg1 = await interpretate(args[0], copy);\n    const arg2 = await interpretate(args[1], copy);\n    //...\n    //computing something\n\n    //return the result\n    return result;\n};\n")),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Please, see ",(0,r.kt)("a",{parentName:"p",href:"../Advanced"},"Advanced")," section for more information about it")),(0,r.kt)("p",null,"\ud83c\udfa1  Let us show you a fancy example. "),(0,r.kt)("details",null,(0,r.kt)("p",null,"This is an adaptation of ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/valnub/particle-animation-javascript/tree/master"},"@valnub")," animation.\nHere is a Javascript function, that creates a bunch of rectangles and animate them according to their speed and position"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"const canvas = document.createElement('canvas');\ncanvas.width = 600;\ncanvas.height = 400;\nconst context = canvas.getContext('2d');\nconst particles = [];\n\nfunction random (min, max) {\n  return Math.random() * (max - min) + min;\n}\n\n//function definition \ncore.Draw = async (args, env) => {\n  //position\n  const c = await interpretate(args[0], env);\n  //velocity\n  const v = await interpretate(args[1], env);\n  \n  const particle = {\n    x: c[0],\n    y: c[1],\n    xvel: v[0],\n    yvel: v[1],\n    color: `rgba(${random(0, 255)}, ${random(0, 255)}, ${random(0, 255)})`,\n    size: 7,\n  };\n  \n  particles.push(particle);\n  if (particles.length > 200) {\n    particles.shift();\n  }\n  \n  context.clearRect(0, 0, canvas.width, canvas.height);\n  for (let i = 0; i < particles.length; i += 1){\n    const p = particles[i];\n    context.fillStyle = p.color;\n    context.fillRect(p.x, p.y, p.size, p.size);\n    p.x += p.xvel;\n    p.y -= p.yvel;  \n  }\n};\n\nreturn canvas;\n")),(0,r.kt)("p",null,"This ",(0,r.kt)("strong",{parentName:"p"},"code is applicable for ",(0,r.kt)("a",{parentName:"strong",href:"/wljs-interpreter/docs/interpreter/intro"},"WLJS Playground")," (see ",(0,r.kt)("em",{parentName:"strong"},"Quick start"),")"),", if you want to run it in a custom environment, you would need to put in inside a module and replace the last line with"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},'<script type="module">\n...\n//return canvas;\ndocument.body.appendChild(canvas);\n<\/script>\n')),(0,r.kt)("p",null,"Then we can run WL script and call it directly"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},"While[True,\n  Draw[{RandomReal[{0,600}],RandomReal[{0,400}]},  RandomReal[{2,-2},2]];\n  Pause[0.05]; \n] \n")),(0,r.kt)("p",null,"WLJS interpreter looks for the particular name ",(0,r.kt)("inlineCode",{parentName:"p"},"Draw")," in the ",(0,r.kt)("inlineCode",{parentName:"p"},"core")," context and pass evaluated arguments to it")),(0,r.kt)(i.Z,{code:"('wls!'While%5BTrue%2C3Draw%5B(34X0%2C600)U34X0%2C100)%5D%2034)%2CX2%2C-2)%2C2%5D3%5D%3B3Pause%5B0.05%5D%3B%209%5D%209'~js!'JQ8document.createElement%7B%22Q%22K9Q.width8600ZQ.height8100ZJc%5E8Q.getC%5E%7B%222d%22K9JIs8%5B%5DZ9function%20r%7C_minBmaxk(3return%20Math.r%7C%7Bk*_max%20-%20mink%2B%20minZ)9%209%2F*%20visualization%20by%20%40valnub4*%2F9%26%20see%20https%3A%26github.com%2Fvalnub%2FI-animation-javascript%2Ftree%2Fmaster99Jdraw8async_argsBenvk%3D%3E%20(3JcV0%5DBenvK3JvV1%5DBenvK33JI8(34xYc%5B0U34yYc%5B1U34xvelYv%5B0U34yvelYv%5B1U34colorY%60rgba%7BNBNBN%7D%60%2C34sizeY7%2C3)Z3Is.push%7BIK93if_Is.length%20%3E%2020k(34Is.shift%7BK3)3c%5E.clearRect%7B0B0BQ.widthBQ.heightK93for_let%20i80%7F%3C%20Is.length%7F%2B%251%7D(34Jp8Is%5Bi%5D%23Style8p.color%23Rect%7Bp.xBp.yBp.sizeBp.sizeK34p.x%20%2B%25p.xvel%3B34p.y%20-%25p.yvel%3B49343)93%26window.requestAnimationFrame%7BdrawK9)Z9core.Draw8drawZ9%26draw%7BK99return%20QZ999'~includes!%5B''%5D~compiled!%5B'Hold'OWhile'%2CtrueOCompoundExpression'ODraw'OList'G0%2C600%3FG0%2C100%3F%5DG2%2C-2U2%3FOPause'%2C0.05Unull%3F%5D)3944%20%208%20%259%5CnB%2C%20GOR%7CReal'OList'%2CIparticleJconst%20K%7D%3BN%24(r%7C%7B0B255%7D)O%2C%5B'QcanvasU%5D%2CV8await%20interpretate%7Bargs%5BX4R%7CReal%5B(Y%3A%20Z%3B9_%20%7Bk%7D%20%23%3B34c%5E.fill%25%3D%20%26%2F%2F%3F%5D%5D%5Eontext%7Candom%7F%3B%20i%20%01%7F%7C%5E%3F%26%25%23k_ZYXVUQONKJIGB9843_",mdxType:"Sandbox"},"Particles"),(0,r.kt)("p",null,"\ud83c\udfa1  One can go event further and plot something more interesting"),(0,r.kt)("details",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},"x = 0;\ny = 0;\n\nWhile[True, \n  Draw[{x, y},  RandomReal[{2,-2},2]];\n  y = 49 (1 + Sin[x/(10)]);    \n  x = x + 1;   \n  If[x > 599, x = 0];\n  Pause[0.01]; \n] \n"))),(0,r.kt)(i.Z,{code:"('wls!'x80ky80kJWhile%5BTrueN3Draw%5B(xNy)%2CKRandomReal%5B(2%2C-2)%2C2X%3B3y849%251%7C%20Sin%5Bx%2F%7B10%7D%5DQKK3x8x%7C%201%3BK%203If%5Bx%20%3E%20599Nx80%5D%3B3Pause%5B0.01%5D%3B%20J%5D%20J'~js!'UY8document.createElement%7B%22Y%22QJY.width8600kY.height8100kUcontext8Y.getContext%7B%222d%22QJUOs8%5B%5DkJfunction%20random%25minNmax%7D%20(3return%20Math.random%7B%7D%20*%25max%20-%20min%7D%7C%20mink)J%20J%2F*%20visualization%20by%20%40valnubK*%2FJ%2F%2F%20see%20https%3A%2F%2Fgithub.com%2Fvalnub%2FO-animation-javascript%2Ftree%2FmasterJJUdraw8async%25argsNenv%7D%20%3D%3E%20(3Uc_0%5DNenvQ3Uv_1%5DNenvQ33UO8(3Kx%3Fc%5B0%263Ky%3Fc%5B1%263Kxvel%3Fv%5B0%263Kyvel%3Fv%5B1%263Kcolor%3F%60rgba%7BVNVNV%7D%60%2C3Ksize%3F7%2C3)k3Os.push%7BOQJ3if%25Os.length%20%3E%2020%7D%20(3KOs.shift%7BQ3)3context.clearRect%7B0N0NY.widthNY.heightQJ3for%25let%20i80%3B%20i%20%3C%20Os.length%3B%20i%7C%7F1%7D(3KUp8Os%5Bi%5D%5EStyle8p.color%5ERect%7Bp.xNp.yNp.sizeNp.sizeQ3Kp.x%7C%7Fp.xvel%3B3Kp.y%20-%7Fp.yvel%3BKJ3K3)J3%2F%2Fwindow.requestAnimationFrame%7BdrawQJ)kJcore.Draw8drawkJ%2F%2Fdraw%7BQJJreturn%20YkJJJ'~includes!%5B''%5D~compiled!%5B'Hold'%23Set'~xZ0%5DBSet'~yZ0%5DBWhileZtrue%23Draw'BList'~x'~y'%5DBRandomReal'BListZ2%2C-2%262XBSet'~y'BTimesZ49BPlusZ1BSin'BTimes'~x'BPowerZ10%2C-1XXXBSet'~x'BPlus'~xZ1XBIf'BGreater'~xZ599%5DBSet'~xZ0XBPauseZ0.01%26nullXX)3JK8%20%7FB%2C%5B'J%5CnK%20%20N%2C%20OparticleQ%7D%3BUconst%20V%24(random%7B0N255%7D)X%5D%5DYcanvasZ'%2C_8await%20interpretate%7Bargs%5Bk%3BJ%23BCompoundExpression'B%25%20%7B%26%5D%2C%3F%3A%20%5E%3B3Kcontext.fill%7C%20%2B%7F%3D%20%01%7F%7C%5E%3F%26%25%23k_ZYXVUQONKJB83_",mdxType:"Sandbox"},"Heavy sine animation"),(0,r.kt)("p",null,"\ud83c\udfa1 Or we can also change the way how it is drawn to"),(0,r.kt)("details",null,(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},"data = Table[{i, 15 + 30 (1 + Sin[i/(20)])}, {i, 1, 599,10}];\n \nWhile[True,\n  Table[\n    Draw[i,  RandomReal[{0.1,-0.1},2]];\n  , {i, data}];   \n  Pause[0.02];   \n];\n"))),(0,r.kt)(i.Z,{code:"('wls!'dataITable%5B(iG15%7F30Z1%7FSin%5Bi%2F%7B20%7D%5D%7D)G(iG1G599%2C10)%5DO%20BWhile%5BTrue%2C4Table%5B4JDraw%5BiG%20RandomReal%5B(0.1%2C-0.1)%2C2U%3B4G(iGdata)%5D%3BJ%204Pause%5B0.02%5D%3BJ%20B%5DOBBB'~js!'NXIdocument.createElement%7B%22X%22%7DOX.widthI600OX.heightI100ONcontextIX.getContext%7B%222d%22%7DONKsI%5B%5DOBfunction%20randomZminGmax%5E(4return%20Math.random%7B%5E*Zmax%20-%20min%7D%7FminO)B%20B%2F*%20visualization%20by%20%40valnubJ*%2FB%7C%20see%20https%3A%7Cgithub.com%2Fvalnub%2FK-animation-javascript%2Ftree%2FmasterBBNdrawIasyncZargsGenv%5E%3D%3E%20(4NcY0%5DGenv%7DO4NvY1%5DGenv%7D%3B44NKI(4Jxkc%5B0_4Jykc%5B1_4Jxvelkv%5B0_4Jyvelkv%5B1_4Jcolork%60rgba%7BQGQGQ%7D%60%2C4Jsizek7%2C4)O4Ks.push%7BK%7DO4ifZKs.length%20%3E%20200%5E(4JKs.shift%7B%7D%3B4)4context.clearRect%7B0G0GX.widthGX.height%7DO4forZlet%20iI0%3B%20i%20%3C%20Ks.length%3B%20i%25%3F1%7D(4JNpIKs%5Bi%5D%23StyleIp.color%23Rect%7Bp.xGp.yGp.sizeGp.size%7D%3B4Jp.x%25%3Fp.xvel%3B4Jp.y%20-%3Fp.yvel%3BJB4J4)B4%7Cwindow.requestAnimationFrame%7Bdraw%7DO)OBcore.DrawIdrawOB%7Cdraw%7B%7DOBreturn%20XOBBB'~includes!%5B''%5D~compiled!%5B'Hold'VSet'~data'8Table'%268Plus'%2C158Times'%2C308Plus'%2C18Sin'8Times'~i'8Power'%2C20%2C-1UUU%5D%26%2C1%2C599%2C10U%5D8While'%2CtrueVTable'VDraw'~i'8RandomReal'8List'%2C0.1%2C-0.1_2U%2Cnull%5D%26~data'U8Pause'%2C0.02_nullU%2CnullU)4BJ8%2C%5B'B%5CnG%2C%20I%20%3FJ%20%20KparticleNconst%20O%3BBQ%24(random%7B0G255%7D)U%5D%5DV8CompoundExpression'8XcanvasYIawait%20interpretate%7Bargs%5BZ%20%7B_%5D%2Ck%3A%20%23%3B4Jcontext.fill%7F%2B%268List'~i'%3F%3D%20%5E%7D%20%7C%2F%2F%7F%25%20%01%7F%7C%5E%3F%26%25%23k_ZYXVUQONKJIGB84_",mdxType:"Sandbox"},"200 particles"),(0,r.kt)("h2",{id:"event-based-approach"},"Event-based approach"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This section is in development")))}m.isMDXComponent=!0}}]);