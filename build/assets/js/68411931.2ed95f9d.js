"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[1882],{27560:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/Screenshot 2025-06-12 at 20.37.37-e8bed9b072cc193cad89377955589ee8.png"},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var a=s(96540);const r={},t=a.createContext(r);function i(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(t.Provider,{value:n},e.children)}},30042:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/Screenshot 2025-06-12 at 20.01.01-1862701bd2304b6d4f94223958f485f3.png"},32422:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/Screenshot 2025-06-12 at 20.41.27-af02b0a65b4210e65c0cfc5b3573c354.png"},42334:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>c});var a=s(74848),r=s(28453);const t={},i=void 0,o={id:"frontend/Advanced/Syntax sugar/Output forms",title:"Output forms",description:"What you see as an expression in the output cell",source:"@site/docs/frontend/Advanced/Syntax sugar/Output forms.md",sourceDirName:"frontend/Advanced/Syntax sugar",slug:"/frontend/Advanced/Syntax sugar/Output forms",permalink:"/frontend/Advanced/Syntax sugar/Output forms",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Decorating symbols",permalink:"/frontend/Advanced/Syntax sugar/Decorating symbols"},next:{title:"Export formats",permalink:"/category/export-formats"}},l={},c=[{value:"Wolfram Language cells",id:"wolfram-language-cells",level:2},{value:"Define your own",id:"define-your-own",level:3},{value:"What if the output form is not defined?",id:"what-if-the-output-form-is-not-defined",level:3},{value:"Overall diagram",id:"overall-diagram",level:3},{value:"WLX, Slide, Markdown cells",id:"wlx-slide-markdown-cells",level:2}];function d(e){const n={a:"a",admonition:"admonition",annotation:"annotation",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",math:"math",mermaid:"mermaid",mfrac:"mfrac",mn:"mn",mrow:"mrow",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{CodeMirror:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CodeMirror",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"What you see as an expression in the output cell"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",metastring:'title="input cell"',children:"1/2\n"})}),"\n",(0,a.jsx)(t,{children:"(*FB[*)((1)(*,*)/(*,*)(2))(*]FB*)"}),"\n",(0,a.jsxs)(n.p,{children:["is the ",(0,a.jsx)(n.strong,{children:"output form"})," of expression ",(0,a.jsx)(n.code,{children:"Times[1, Power[2,-1]]"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"wolfram-language-cells",children:"Wolfram Language cells"}),"\n",(0,a.jsxs)(n.p,{children:["By the default all expressions in Wolfram Language cells are printed using so-called ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/StandardForm",children:"StandardForm"}),", which is usually an original expression decorated with some syntax sugar. This means that ",(0,a.jsx)(n.strong,{children:"most output expressions are also valid for input"})," and evaluation."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/StandardForm",children:"StandardForm"})," automatically transforms on output all fraction-like expressions into eye-pleasing fractions like this one ",(0,a.jsxs)(n.span,{className:"katex",children:[(0,a.jsx)(n.span,{className:"katex-mathml",children:(0,a.jsx)(n.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,a.jsxs)(n.semantics,{children:[(0,a.jsx)(n.mrow,{children:(0,a.jsxs)(n.mfrac,{children:[(0,a.jsx)(n.mn,{children:"1"}),(0,a.jsx)(n.mn,{children:"2"})]})}),(0,a.jsx)(n.annotation,{encoding:"application/x-tex",children:"\\frac{1}{2}"})]})})}),(0,a.jsx)(n.span,{className:"katex-html","aria-hidden":"true",children:(0,a.jsxs)(n.span,{className:"base",children:[(0,a.jsx)(n.span,{className:"strut",style:{height:"1.1901em",verticalAlign:"-0.345em"}}),(0,a.jsxs)(n.span,{className:"mord",children:[(0,a.jsx)(n.span,{className:"mopen nulldelimiter"}),(0,a.jsx)(n.span,{className:"mfrac",children:(0,a.jsxs)(n.span,{className:"vlist-t vlist-t2",children:[(0,a.jsxs)(n.span,{className:"vlist-r",children:[(0,a.jsxs)(n.span,{className:"vlist",style:{height:"0.8451em"},children:[(0,a.jsxs)(n.span,{style:{top:"-2.655em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(n.span,{className:"mord mtight",children:(0,a.jsx)(n.span,{className:"mord mtight",children:"2"})})})]}),(0,a.jsxs)(n.span,{style:{top:"-3.23em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,a.jsxs)(n.span,{style:{top:"-3.394em"},children:[(0,a.jsx)(n.span,{className:"pstrut",style:{height:"3em"}}),(0,a.jsx)(n.span,{className:"sizing reset-size6 size3 mtight",children:(0,a.jsx)(n.span,{className:"mord mtight",children:(0,a.jsx)(n.span,{className:"mord mtight",children:"1"})})})]})]}),(0,a.jsx)(n.span,{className:"vlist-s",children:"\u200b"})]}),(0,a.jsx)(n.span,{className:"vlist-r",children:(0,a.jsx)(n.span,{className:"vlist",style:{height:"0.345em"},children:(0,a.jsx)(n.span,{})})})]})}),(0,a.jsx)(n.span,{className:"mclose nulldelimiter"})]})]})})]}),", all graphical elements into actual visible graphics, colors to small color boxes and etc."]}),"\n",(0,a.jsxs)(n.p,{children:["To bypass all of this and reveal the actual expression behind the syntax sugar you can apply ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/InputForm",children:"InputForm"})," or ",(0,a.jsx)(n.code,{children:"FullForm"}),":"]}),"\n",(0,a.jsx)(t,{children:'(*VB[*)(RGBColor[1, 0, 0])(*,*)(*"1:eJxTTMoPSmNiYGAo5gUSYZmp5S6pyflFiSX5RcEsQBHn4PCQNGaQPAeQCHJ3cs7PyS8qYgCDD/ZQBgMDnAEA4iUPRg=="*)(*]VB*) // InputForm'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"RGBColor[1, 0, 0]\n"})}),"\n",(0,a.jsx)(n.h3,{id:"define-your-own",children:"Define your own"}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["To define your own representation you can follows the guide ",(0,a.jsx)(n.a,{href:"/frontend/Advanced/Syntax%20sugar/Decorating%20symbols",children:"Decorating symbols"}),", but here we will try simpler examples."]})}),"\n",(0,a.jsxs)(n.p,{children:["Let's say we have a special symbol ",(0,a.jsx)(n.code,{children:"specialSymbol[]"}),", we want to decorate. For this reason we define ",(0,a.jsx)(n.code,{children:"UpValues"})," for ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/MakeBoxes",children:"MakeBoxes"})," expression applied on any output:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:'specialSymbol /: MakeBoxes[s_specialSymbol, StandardForm] := "49"\n'})}),"\n",(0,a.jsxs)(n.p,{children:["If you try to evaluate now ",(0,a.jsx)(n.code,{children:"specialSymbol"})," you might be surprised:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"specialSymbol[]\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"49\n"})}),"\n",(0,a.jsx)(n.p,{children:"However this approach breaks the holy rule of Wolfram Language:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.strong,{children:"output result has be valid input expression"})}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Here ",(0,a.jsx)(n.code,{children:"49"})," is valid, but ",(0,a.jsx)(n.strong,{children:"no longer connected"})," to ",(0,a.jsx)(n.code,{children:"specialSymbol"}),", i.e."]}),"\n",(0,a.jsx)(t,{children:"49 // InputForm"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"49\n"})}),"\n",(0,a.jsxs)(n.p,{children:["To fix that we can use ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/Low-level/InterpretationBox",children:"InterpretationBox"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:'specialSymbol /: MakeBoxes[s_specialSymbol, StandardForm] := InterpretationBox["49", s]\n'})}),"\n",(0,a.jsx)(n.p,{children:"Now if we evaluate:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"specialSymbol[]\n"})}),"\n",(0,a.jsx)(t,{children:'(*VB[*)(specialSymbol[])(*,*)(*"1:eJxTTMoPSmNiYGAo5gISrimZJflFYZmp5cEgMRNLiBQLkAgqzUkN5gAxUhNT/PNyKsGiIUWlqQDl+w71"*)(*]VB*)'}),"\n",(0,a.jsxs)(n.p,{children:["And ",(0,a.jsx)(n.code,{children:"InputForm"})," reveals the actual symbol decorated by 49:"]}),"\n",(0,a.jsx)(t,{children:'(*VB[*)(specialSymbol[])(*,*)(*"1:eJxTTMoPSmNiYGAo5gISrimZJflFYZmp5cEgMRNLiBQLkAgqzUkN5gAxUhNT/PNyKsGiIUWlqQDl+w71"*)(*]VB*) // InputForm'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"specialSymbol[]\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsx)(n.p,{children:"Check it by yourself by coping it from the cell to a normal text-editor app."})}),"\n",(0,a.jsx)(n.p,{children:"We can go further and replace it with a little icon image:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"\nround[i_, r_] :=\n Module[{w, h},\n  {w, h} = ImageDimensions@i;\n  With[{\n    f = Reverse,\n    p = PadRight[DiskMatrix[r][[;; r, ;; r]], {h, w}, 1]},\n   i~ImageAdd~ColorNegate@Image[p f /@ p f@p f[f /@ p]]]]\n\n\n\nspecialSymbol /: MakeBoxes[s_specialSymbol, StandardForm] := With[{\n\ticon = round[Colorize[Blur[RandomImage[LaplaceDistribution[0.1, .1], {100, 100}],20]], 30]}, \n\t\n\tWith[{\n\t\timg = MakeBoxes[icon, StandardForm]\n\t},\n\t\tInterpretationBox[img, s]\n\t]\n]\n"})}),"\n",(0,a.jsx)(n.p,{children:"Now if we try:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"specialSymbol[]\n"})}),"\n",(0,a.jsx)(n.p,{children:"We will get a randomly generated icon"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:s(30042).A+"",width:"948",height:"230"})}),"\n",(0,a.jsx)(n.h3,{id:"what-if-the-output-form-is-not-defined",children:"What if the output form is not defined?"}),"\n",(0,a.jsxs)(n.p,{children:["It will fallback to an ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/InputForm",children:"InputForm"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"overall-diagram",children:"Overall diagram"}),"\n",(0,a.jsx)(n.p,{children:"These lead us to the following diagram:"}),"\n",(0,a.jsx)(n.mermaid,{value:'flowchart LR\n  %% Pipeline 1\n  subgraph P1["_ [_, _]"]\n    A1["_ [_, _]"] --\x3e B1["MakeBoxes for arguments"] --\x3e C1["MakeBoxes for head"] --\x3e D1["Recursively"]\n  end\n\n  %% Pipeline 2\n  subgraph P2["_RGBColor"]\n    A2["_RGBColor"] --\x3e B2["MakeBoxes"] --\x3e C2["ViewBox: InputForm + ViewDecorator (Color)"]\n  end\n\n  %% Pipeline 3\n  subgraph P3["_DateObject"]\n    A3["_DateObject"] --\x3e B3["MakeBoxes"] --\x3e C3["ViewBox: InputForm + ViewDecorator (Date)"]\n  end\n\n  %% Pipeline 4\n  subgraph P4["_Sqrt"]\n    A4["_Sqrt"] --\x3e B4["MakeBoxes"] --\x3e C4["Native Decorator: InputForm + \u221a sign"]\n  end\n\n  %% Pipeline 5\n  subgraph P5["_Graphics"]\n    A5["_Graphics"] --\x3e B5["MakeBoxes"] --\x3e C5["CreateFrontEndObject"] --\x3e D5["MakeBoxes"] --\x3e E5["ViewBox: InputForm + Meta"]\n  end\n\n  %% Pipeline 6\n  subgraph P6["_Image"]\n    A6["_Image"] --\x3e B6["MakeBoxes"] --\x3e C6["CreateFrontEndObject"] --\x3e D6["MakeBoxes"] --\x3e E6["ViewBox: InputForm + Meta"]\n  end\n\n  %% Pipeline 7\n  subgraph P7["Other _"]\n    A7["_"] --\x3e B7["MakeBoxes"] --\x3e C7["InputForm"]\n  end\n\n  %% Common terminal\n  S["String"]\n\n  %% Converge all pipelines to the common String node\n  D1 --\x3e S\n  C2 --\x3e S\n  C3 --\x3e S\n  C4 --\x3e S\n  E5 --\x3e S\n  E6 --\x3e S\n  C7 --\x3e S\n'}),"\n",(0,a.jsx)(n.p,{children:"If you may noticed there are some differences for:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"_Sqrt"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"_Graphics"})," | ",(0,a.jsx)(n.code,{children:"_Image"})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["Fractions, square roots are using different technique optimized for the case if you have them many in the final expression, while ",(0,a.jsx)(n.code,{children:"DateObject"})," and ",(0,a.jsx)(n.code,{children:"RGBColor"}),", ",(0,a.jsx)(n.code,{children:"Hue"})," and man others rely directly on ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/Low-level/ViewBox",children:"ViewBox"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"Graphics"}),", ",(0,a.jsx)(n.code,{children:"Graphics3D"}),", ",(0,a.jsx)(n.code,{children:"Image"}),", ",(0,a.jsx)(n.code,{children:"Image3D"}),", ",(0,a.jsx)(n.code,{children:"Sound"}),' are usually quite "heavy" object and keeping them inside our editor would be a huge mess. Therefore they are converted to a more compact form - ',(0,a.jsx)(n.a,{href:"/frontend/Advanced/Frontend%20interpretation/Frontend%20Objects",children:"Frontend Objects"})," to save up space keeping only the reference in the actual output expression."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"In the end we should always get a string"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"wlx-slide-markdown-cells",children:"WLX, Slide, Markdown cells"}),"\n",(0,a.jsxs)(n.p,{children:["It follows similar principles as ",(0,a.jsx)(n.a,{href:"#Wolfram%20Language%20cells",children:"Wolfram Language cells"}),". The default output form is ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/WLXForm",children:"WLXForm"})," and the end result again ",(0,a.jsx)(n.strong,{children:"has to be a string"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Since ",(0,a.jsx)(n.a,{href:"/frontend/Cell%20types/Slides",children:"Slides"}),", ",(0,a.jsx)(n.a,{href:"/frontend/Cell%20types/Markdown",children:"Markdown"}),", ",(0,a.jsx)(n.a,{href:"/frontend/Cell%20types/WLX",children:"WLX"})," outputs are not meant to be edited we should not worry about the expressions behind and focus only on the displayed ones."]}),"\n",(0,a.jsx)(n.p,{children:"Let's try this example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:'SpecialSymbol /: MakeBoxes[SpecialSymbol, WLXForm] := "49"\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.em,{children:"Note: we capitalized the name that it can be correctly parsed by WLX"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:".slide\n\n## Have a look at\n\n<SpecialSymbol/>\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:s(27560).A+"",width:"1202",height:"582"})}),"\n",(0,a.jsx)(n.p,{children:"We can do the same for graphical symbols:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"round[i_, r_] :=\n Module[{w, h},\n  {w, h} = ImageDimensions@i;\n  With[{\n    f = Reverse,\n    p = PadRight[DiskMatrix[r][[;; r, ;; r]], {h, w}, 1]},\n   i~ImageAdd~ColorNegate@Image[p f /@ p f@p f[f /@ p]]]]\n\n\n\nSpecialSymbol /: MakeBoxes[SpecialSymbol, WLXForm] := With[{\n\ticon = round[Colorize[Blur[RandomImage[LaplaceDistribution[0.1, .1], {100, 100}],20]], 30]}, \n\t\n\tWith[{\n\t\timg = MakeBoxes[icon, WLXForm]\n\t},\n\t\timg\n\t]\n]\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:s(32422).A+"",width:"1206",height:"582"})}),"\n",(0,a.jsxs)(n.p,{children:["We do not have as many ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/WLXForm",children:"WLXForm"})," definitions as for ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Formatting/StandardForm",children:"StandardForm"})," for the obvious reasons. In thee case of ",(0,a.jsx)(n.code,{children:"WLXForm"})," is not explicitly defined ",(0,a.jsx)(n.code,{children:"ToString"})," will be applied directly."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);