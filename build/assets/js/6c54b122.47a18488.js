"use strict";(self.webpackChunkwljs_docs=self.webpackChunkwljs_docs||[]).push([[6240],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=r.createContext({}),c=function(e){var t=r.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(l.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(n),m=o,f=p["".concat(l,".").concat(m)]||p[m]||u[m]||i;return n?r.createElement(f,a(a({ref:t},d),{},{components:n})):r.createElement(f,a({ref:t},d))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:o,a[1]=s;for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6902:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(7294),o=n(412);const i=["https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@latest/dist/interpreter.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-interpreter@latest/dist/core.js","/wljs-docs/js/merged.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-editor@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-editor@master/src/boxes.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-markdown-support@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-js-support@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-html-support@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-inputs@master/dist/kernel.js","https://cdn.jsdelivr.net/gh/JerryI/wljs-graphics-d3@master/dist/kernel.js"];function a(e){return new Promise(((t,n)=>{if(o.Z.canUseDOM){var r=document.createElement("script");r.src=e,r.type="module",r.onload=()=>{t()},r.onerror=()=>{n("cannot load script "+e)},document.head.appendChild(r)}}))}const s=new Event("load-wljs");function l(){return(0,r.useEffect)((async()=>{if(o.Z.canUseDOM){if(window.loadedNotebooks={},window.LoadedWLJS)return;for(const e of i)await a(e);window.LoadedWLJS=!0,window.dispatchEvent(s)}}),[]),r.createElement("div",{id:"helmet"})}},1365:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(7294),o=n(3778),i=n(412);function a(e){let{children:t,code:n,name:a,width:s,height:l}=e;return(0,r.useEffect)((()=>{if(i.Z.canUseDOM){const e=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),t=async()=>{if(window.LoadedWLJSForSure=!0,e in window.eventAttr)return;window.eventAttr[e]=!0;const t=o.iF(o.TD(atob(n),!0)),r=o.T8(t),i=JSON.parse(r);console.log(a);for(const e of i[0]){const t=new ObjectStorage(e[0]);t.cache=e[1],t.cached=!0}for(const e of i[1]){const t={local:{},global:{}};console.log(e),await interpretate(e,t)}};return window.LoadedWLJSForSure?t():window.addEventListener("load-wljs",t),()=>{Object.values(window.CellHashStorage).forEach((e=>{console.log(e),"input"===e?.type&&e.dispose()}))}}}),[]),r.createElement("main",{id:"frontend-editor",className:"main-container styles-container-editor"},r.createElement("div",{id:"frontend-editor-content",className:"group-container"},r.createElement("div",{id:a})))}i.Z.canUseDOM&&(window.eventAttr={},window.OfflineMode=!0)},7812:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>f,frontMatter:()=>s,metadata:()=>c,toc:()=>p});var r=n(7462),o=(n(7294),n(3905)),i=n(6902),a=n(1365);const s={sidebar_position:4},l=void 0,c={unversionedId:"frontend/Cell types/Javascript",id:"frontend/Cell types/Javascript",title:"Javascript",description:"Github repo",source:"@site/docs/frontend/Cell types/Javascript.md",sourceDirName:"frontend/Cell types",slug:"/frontend/Cell types/Javascript",permalink:"/wljs-docs/docs/frontend/Cell types/Javascript",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"frontendSidebar",previous:{title:"HTML",permalink:"/wljs-docs/docs/frontend/Cell types/HTML"},next:{title:"Many more...",permalink:"/wljs-docs/docs/frontend/Cell types/Many more..."}},d={},p=[{value:"Output cell",id:"output-cell",level:2},{value:"Handlers",id:"handlers",level:2},{value:"this.ondestroy",id:"thisondestroy",level:3},{value:"requestAnimationFrame",id:"requestanimationframe",level:3},{value:"Communication with Wolfram Kernel",id:"communication-with-wolfram-kernel",level:2}],u={toc:p},m="wrapper";function f(e){let{components:t,...n}=e;return(0,o.kt)(m,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)(i.Z,{mdxType:"Component"}),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://github.com/JerryI/wljs-js-support"},"Github repo")),"\nJavascript code is evaluated as a module, i.e. ",(0,o.kt)("strong",{parentName:"p"},"all defined variables are isolated to the cell"),"."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"To define global variables, use ",(0,o.kt)("inlineCode",{parentName:"p"},"window")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"core")," object."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-js"},"window.variable = 1\n"))),(0,o.kt)("h2",{id:"output-cell"},"Output cell"),(0,o.kt)("p",null,"The returned value from the function can be a Javascript object or DOM element. The last one will be displayed in the output cell"),(0,o.kt)(a.Z,{code:"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",name:"pusillanimous-88281",mdxType:"Notebook"},"pusillanimous-88281"),(0,o.kt)("h2",{id:"handlers"},"Handlers"),(0,o.kt)("p",null,"There is a few quite useful built-in objects accesable from the cell. "),(0,o.kt)("h3",{id:"thisondestroy"},"this.ondestroy"),(0,o.kt)("p",null,"This object is called when a cell has been destroyed. Assign any clean-up function to the given object"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"this.ondestroy = () => {\n    //clean up the stuff\n}\n")),(0,o.kt)("admonition",{type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"Always clean up any timers using ",(0,o.kt)("inlineCode",{parentName:"p"},"this.ondestroy")," variable. Otherwise those timers and animation loops will continue to work even after reevaluating the cell.")),(0,o.kt)("h3",{id:"requestanimationframe"},"requestAnimationFrame"),(0,o.kt)("p",null,"It is well-common method used in Javascript to synchronize with a framerate of the browser and render some graphics"),(0,o.kt)(a.Z,{code:"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",name:"blood-b8070",mdxType:"Notebook"},"blood-b8070"),(0,o.kt)("admonition",{type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"Do not forget to ",(0,o.kt)("inlineCode",{parentName:"p"},"cancelAnimationFrame")," using ",(0,o.kt)("inlineCode",{parentName:"p"},"this.ondestroy")," method")),(0,o.kt)("h2",{id:"communication-with-wolfram-kernel"},"Communication with Wolfram Kernel"),(0,o.kt)("p",null,"In general one can define any function for WLJS Interpreter using Javascript cells, please see guide here ",(0,o.kt)("a",{parentName:"p",href:"/wljs-docs/docs/interpreter/Basics/js-access"},"js-access"),". "),(0,o.kt)("p",null,"For the most applications event-based system is used, see ",(0,o.kt)("a",{parentName:"p",href:"/wljs-docs/docs/frontend/Evaluation/Dynamic"},"Dynamic")),(0,o.kt)("p",null,"WSP Template engine is also working."))}f.isMDXComponent=!0}}]);