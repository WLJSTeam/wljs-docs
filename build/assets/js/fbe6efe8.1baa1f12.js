(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[35544],{7568:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"c1d16a64b2ba4fe2ef75a45dc10ad4e9.wln"},18535:()=>{},23725:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/image-372-b937ac0b0d52905758f835a93cb419d6.png"},26046:(e,s,a)=>{"use strict";a.r(s),a.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>r,metadata:()=>c,toc:()=>d});var n=a(74848),t=a(28453),i=a(33152);const r={authors:"jerryi",tags:["animation","geo"],enableComments:!0},l="Modeling Earth",c={permalink:"/blog/2025/01/08/earth",source:"@site/blog/2025-01-08-earth/index.mdx",title:"Modeling Earth",description:"using GeoData, surface plot, and a bunch of other beautiful stuff",date:"2025-01-08T00:00:00.000Z",tags:[{label:"animation",permalink:"/blog/tags/animation"},{label:"geo",permalink:"/blog/tags/geo"}],readingTime:7.39,hasTruncateMarker:!0,authors:[{name:"Kirill Vasin",title:"Maintainer",url:"https://github.com/JerryI",imageURL:"https://avatars.githubusercontent.com/u/4111822?s=48&v=4",key:"jerryi"}],frontMatter:{authors:"jerryi",tags:["animation","geo"],enableComments:!0},unlisted:!1,prevItem:{title:"Dynamic Presentation, or How to Code a Slide with Markdown and WL",permalink:"/blog/2025/03/02/ultimate-ppt"},nextItem:{title:"Automata-like shooter. A teaser",permalink:"/blog/2025/01/07/nier"}},o={authorsImageUrls:[void 0]},d=[{value:"Spreading points on a sphere",id:"spreading-points-on-a-sphere",level:2},{value:"Get Elevation Data",id:"get-elevation-data",level:2},{value:"Generating clouds",id:"generating-clouds",level:2},{value:"Inverse UV-mapping",id:"inverse-uv-mapping",level:3},{value:"Correcting aspect ratio",id:"correcting-aspect-ratio",level:3},{value:"Mapping things to a sphere",id:"mapping-things-to-a-sphere",level:3},{value:"Putting it all together",id:"putting-it-all-together",level:2},{value:"Animation",id:"animation",level:2}];function h(e){const s={a:"a",admonition:"admonition",annotation:"annotation",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",math:"math",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",mstyle:"mstyle",msup:"msup",mtable:"mtable",mtd:"mtd",mtext:"mtext",mtr:"mtr",p:"p",semantics:"semantics",span:"span",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:"using GeoData, surface plot, and a bunch of other beautiful stuff"})}),"\n",(0,n.jsx)(s.p,{children:"Have you ever played Outer Wilds? The planets there are incredibly beautiful. This actually became the main motivation to create my own simple model of a planet, using real geographical elevation data and a bit of Wolfram Language magic."}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(82337).A+"",width:"670",height:"410"})}),"\n","\n",(0,n.jsx)(i.k8,{kernel:a(91771).A,json:a(30622).A,notebook:a(7568).A}),"\n",(0,n.jsx)(s.h2,{id:"spreading-points-on-a-sphere",children:"Spreading points on a sphere"}),"\n",(0,n.jsx)(s.p,{children:"Obviously, even if we grab Earth's elevation map, there\u2019s the problem of projecting it onto a sphere. This is a complex topic involving triangulation (since we need to create polygons from it afterward) and more, with plenty written on the subject. For example:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://www.redblobgames.com/x/1842-delaunay-voronoi-sphere/",children:"Delaunay and Voronoi on a Sphere"})}),"\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"https://medium.com/@oscarsc/four-ways-to-create-a-mesh-for-a-sphere-d7956b825db4",children:"Four Ways to Create a Mesh for a Sphere"})}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"As one approach, we\u2019ll go the other way around\u2014first generating sample points on the sphere, then querying the elevation data for those points."}),"\n",(0,n.jsxs)(s.p,{children:["So, we need to evenly distribute ",(0,n.jsx)(s.strong,{children:"N"})," points across a sphere. No need to reinvent the wheel when a rich standard library is available."]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"bbd2d06b-5d31-4c91-ad0b-82ddcc132589",type:"Input",opts:{},children:"Graphics3D%5B%7B%0A%20%20Sphere%5B%5D%2C%0A%20%20Red%2C%20PointSize%5B0.01%5D%2C%20SpherePoints%5B1000%5D%2F%2FPoint%0A%7D%5D%0A"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(38590).A+"",width:"720",height:"522"})}),"\n",(0,n.jsx)(s.h2,{id:"get-elevation-data",children:"Get Elevation Data"}),"\n",(0,n.jsx)(s.p,{children:"Fortunately (or unfortunately), the standard WL library already includes a rough map of the entire Earth (just in case). If more precision is needed, it can go online and fetch higher-resolution data."}),"\n",(0,n.jsx)(s.p,{children:"So, let\u2019s get down to business"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"1282a522-deb2-46d9-9239-a9365b896b47",type:"Input",opts:{},children:"GeoElevationData%5BGeoPosition%5BHere%5D%5D"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"a919f2ad-c056-459f-ab1e-f42895e96f22",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28q%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KWlMIB43kAgsTcwrySypdMqvKGIAgQV1DsFsQNo3tSS1qBgAdxkNsQ%3D%3D%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,n.jsxs)(s.p,{children:["Here, ",(0,n.jsx)(s.code,{children:"Here"})," returns the current latitude and longitude in degrees. The function can take not just a single value but an entire list. Naturally, we\u2019ll use this list from the points on the sphere."]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"bc08a857-e1bf-4828-8d19-331be92abcd4",type:"Input",opts:{},children:"points%20%3D%20SpherePoints%5B5000%5D%3B%0AlatLon%20%3D%20%28%2AFB%5B%2A%29%28%28180%29%28%2A%2C%2A%29%2F%28%2A%2C%2A%29%28Pi%29%29%28%2A%5DFB%2A%29%20%7B90Degree%20-%20ArcCos%5B%23%5B%5B3%5D%5D%5D%2C%20ArcTan%5B%23%5B%5B1%5D%5D%2C%20%23%5B%5B2%5D%5D%5D%7D%20%26%2F%40%20points%3B%0Aelevation%20%3D%20GeoElevationData%5BGeoPosition%5BlatLon%5D%5D%3B%0Aelevation%20%3D%20%28elevation%20%2B%20Min%5Belevation%5D%29%2FMax%5Belevation%5D%3B"}),"\n",(0,n.jsxs)(s.p,{children:["In the case if ",(0,n.jsx)(s.code,{children:"Geo"})," did not work. Here is a dump"]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"7063a966-d01e-4416-8589-fd3b335e6521",type:"Input",opts:{},children:"%7Bpoints%2C%20latLon%2C%20elevation%7D%20%3D%20NotebookStore%5B%22mouse-850%22%5D%3B"}),"\n",(0,n.jsx)(s.p,{children:"Here we convert from Cartesian coordinates to spherical (more precisely, geodetic) coordinates"}),"\n",(0,n.jsx)(s.span,{className:"katex-display",children:(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mtable,{rowspacing:"0.16em",columnalign:"center center",columnspacing:"1em",children:[(0,n.jsxs)(s.mtr,{children:[(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"l"}),(0,n.jsx)(s.mi,{children:"a"}),(0,n.jsx)(s.mi,{children:"t"}),(0,n.jsx)(s.mo,{children:"="})]})})}),(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mn,{children:"9"}),(0,n.jsxs)(s.msup,{children:[(0,n.jsx)(s.mn,{children:"0"}),(0,n.jsx)(s.mo,{children:"\u2218"})]}),(0,n.jsx)(s.mo,{children:"\u2212"}),(0,n.jsx)(s.mi,{children:"a"}),(0,n.jsx)(s.mi,{children:"r"}),(0,n.jsx)(s.mi,{children:"c"}),(0,n.jsx)(s.mi,{children:"c"}),(0,n.jsx)(s.mi,{children:"o"}),(0,n.jsx)(s.mi,{children:"s"}),(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mi,{children:"z"}),(0,n.jsx)(s.mi,{mathvariant:"normal",children:"/"}),(0,n.jsx)(s.mi,{children:"r"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"})]})})})]}),(0,n.jsxs)(s.mtr,{children:[(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"l"}),(0,n.jsx)(s.mi,{children:"o"}),(0,n.jsx)(s.mi,{children:"n"}),(0,n.jsx)(s.mo,{children:"="})]})})}),(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"a"}),(0,n.jsx)(s.mi,{children:"r"}),(0,n.jsx)(s.mi,{children:"c"}),(0,n.jsx)(s.mi,{children:"t"}),(0,n.jsx)(s.mi,{children:"a"}),(0,n.jsx)(s.mi,{children:"n"}),(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mi,{children:"x"}),(0,n.jsx)(s.mi,{mathvariant:"normal",children:"/"}),(0,n.jsx)(s.mi,{children:"y"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"})]})})})]})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\begin{matrix}\n\nlat =& 90^\\circ - arccos(z/r) \\\\\nlon =& arctan(x/y)\n\\end{matrix}"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"2.4em",verticalAlign:"-0.95em"}}),(0,n.jsx)(s.span,{className:"mord",children:(0,n.jsxs)(s.span,{className:"mtable",children:[(0,n.jsx)(s.span,{className:"col-align-c",children:(0,n.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(s.span,{className:"vlist-r",children:[(0,n.jsxs)(s.span,{className:"vlist",style:{height:"1.45em"},children:[(0,n.jsxs)(s.span,{style:{top:"-3.61em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"a"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"t"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(s.span,{className:"mrel",children:"="})]})]}),(0,n.jsxs)(s.span,{style:{top:"-2.41em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.01968em"},children:"l"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"o"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"n"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(s.span,{className:"mrel",children:"="})]})]})]}),(0,n.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(s.span,{className:"vlist-r",children:(0,n.jsx)(s.span,{className:"vlist",style:{height:"0.95em"},children:(0,n.jsx)(s.span,{})})})]})}),(0,n.jsx)(s.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,n.jsx)(s.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,n.jsx)(s.span,{className:"col-align-c",children:(0,n.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(s.span,{className:"vlist-r",children:[(0,n.jsxs)(s.span,{className:"vlist",style:{height:"1.45em"},children:[(0,n.jsxs)(s.span,{style:{top:"-3.61em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord",children:"9"}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord",children:"0"}),(0,n.jsx)(s.span,{className:"msupsub",children:(0,n.jsx)(s.span,{className:"vlist-t",children:(0,n.jsx)(s.span,{className:"vlist-r",children:(0,n.jsx)(s.span,{className:"vlist",style:{height:"0.6741em"},children:(0,n.jsxs)(s.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"2.7em"}}),(0,n.jsx)(s.span,{className:"sizing reset-size6 size3 mtight",children:(0,n.jsx)(s.span,{className:"mbin mtight",children:"\u2218"})})]})})})})})]}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(s.span,{className:"mbin",children:"\u2212"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2222em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"a"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"rccos"}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.04398em"},children:"z"}),(0,n.jsx)(s.span,{className:"mord",children:"/"}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"r"}),(0,n.jsx)(s.span,{className:"mclose",children:")"})]})]}),(0,n.jsxs)(s.span,{style:{top:"-2.41em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord mathnormal",children:"a"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"rc"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"t"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"an"}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"}),(0,n.jsx)(s.span,{className:"mord",children:"/"}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,n.jsx)(s.span,{className:"mclose",children:")"})]})]})]}),(0,n.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(s.span,{className:"vlist-r",children:(0,n.jsx)(s.span,{className:"vlist",style:{height:"0.95em"},children:(0,n.jsx)(s.span,{})})})]})})]})})]})})]})}),"\n",(0,n.jsx)(s.p,{children:"we retrieve the elevations and normalize them."}),"\n",(0,n.jsx)(s.p,{children:"The final step is to link them back to the original points on the sphere, using the normalized elevation as the distance along the normal."}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"54ca5e22-e45d-4bd0-b281-e5b8825c1617",type:"Input",opts:{},children:"surface%20%3D%20MapThread%5B%28%231%20%280.8%20%2B%200.1%20%232%29%29%26%2C%20%7Bpoints%2C%20elevation%7D%5D%3B"}),"\n",(0,n.jsx)(s.p,{children:'Here, we scale them by eye so that the height above sea level only slightly "modulates" the sphere\u2019s surface. This way, we get a visible relief of the Earth'}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"b1122254-4d6a-4cdc-b8e4-24b6f0157be0",type:"Input",opts:{Hidden:!1},children:"rainbow%20%3D%20ColorData%5B%22DarkRainbow%22%5D%3B%0A%0AListSurfacePlot3D%5Bsurface%2C%20%0A%20%20Mesh-%3ENone%2C%20MaxPlotPoints-%3E100%2C%20%0A%20%20ColorFunction%20-%3E%20Function%5B%7Bx%2Cy%2Cz%7D%2C%20%0A%20%20%20%20%20%20rainbow%5B1.5%282%20Norm%5B%7Bx%2Cy%2Cz%7D%5D-1%29%5D%0A%20%20%5D%2C%20ColorFunctionScaling%20-%3E%20False%0A%5D"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(87307).A+"",width:"754",height:"480"})}),"\n",(0,n.jsx)(s.p,{children:"That looks like Earth!"}),"\n",(0,n.jsx)(s.h2,{id:"generating-clouds",children:"Generating clouds"}),"\n",(0,n.jsx)(s.p,{children:"What\u2019s Earth without clouds? And what are clouds without Perlin noise?"}),"\n",(0,n.jsx)(s.p,{children:"The next piece I honestly stole from one of the forums (no GPT for you!)"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"1f8c889b-6c72-4223-b723-8c980b115fc5",type:"Input",opts:{},children:"n%20%3D%20128%3B%0Ak2%20%3D%20Outer%5BPlus%2C%20%23%2C%20%23%5D%20%26%5BRotateRight%5BN%40Range%5B-n%2C%20n%20-%201%2C%202%5D%2Fn%2C%20n%2F2%5D%5E2%5D%3B%0A%0Aspectrum%20%3D%20With%5B%7Bd%20%3A%3D%20RandomReal%5BNormalDistribution%5B%5D%2C%20%7Bn%2C%20n%7D%5D%7D%2C%0A%20%20%20%281%2Fn%29%20%28d%20%2B%20I%20d%29%2F%280.002%20%2B%20k2%29%5D%3B%20%0Aspectrum%5B%5B1%2C%201%5D%5D%20%2A%3D%200%3B%0A%0Aim%5Bp_%5D%20%3A%3D%20Clip%5BRe%5BInverseFourier%5Bspectrum%20Exp%5BI%20p%5D%5D%5D%2C%20%7B0%2C%20%E2%88%9E%7D%5D%5E0.5%0A%0Ap0%20%3D%20p%20%3D%20Sqrt%5Bk2%5D%3B%0A%0AImage%5Bim%5Bp0%20%2B%3D%20p%5D%2C%20Magnification-%3E2%5D"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(58736).A+"",width:"336",height:"296"})}),"\n",(0,n.jsx)(s.p,{children:"Here animated version"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"5682a891-31ac-49e3-8083-04e61290a953",type:"Input",opts:{},children:"Module%5B%7Bbuffer%20%3D%20im%5Bp0%20%2B%3D%20p%5D%2C%20frame%20%3D%20CreateUUID%5B%5D%7D%2C%0A%20%20EventHandler%5Bframe%2C%20%28buffer%20%3D%20im%5Bp0%20%2B%3D%20p%5D%29%26%5D%3B%0A%20%20%0A%20%20Image%5Bbuffer%20%2F%2F%20Offload%2C%20%0A%20%20%20%20Magnification-%3E2%2C%20%0A%20%20%20%20Epilog-%3EAnimationFrameListener%5Bbuffer%20%2F%2F%20Offload%2C%20%22Event%22-%3Eframe%5D%0A%20%20%5D%0A%5D"}),"\n",(0,n.jsx)(s.p,{children:"How do we make them three-dimensional? I couldn\u2019t think of anything better than using the Marching Cubes technique to generate low-poly clouds."}),"\n",(0,n.jsx)(s.p,{children:'However, to start, we\u2019ll "stretch" the 2D image into 3D with fading at the edges.'}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"d547c0ae-59d6-4167-8ff6-d8049e07ef37",type:"Input",opts:{},children:"With%5B%7Bplain%20%3D%20im%5Bp0%2B%3Dp%5D%7D%2C%20Table%5Bplain%20Exp%5B-%28%20i%29%5E2%2F200.%5D%2C%20%7Bi%2C%20-20%2C20%7D%5D%5D%5B%5B%3B%3B%3B%3B8%2C%20%3B%3B%3B%3B8%2C%20%3B%3B%3B%3B8%5D%5D%20%2F%2F%20Image3D%20"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"526acaa8-1699-4d29-b715-934bde224592",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28Image3DDump28%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKm6WmGRulJlvomhsYGOuamJmZ6Fomm5voJlqaJRkkJ6WmWqSmAgCAOhXh%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:"this is not an image, try to drag"})}),"\n",(0,n.jsxs)(s.p,{children:["To turn this scalar field into polygons, we can use the ",(0,n.jsx)(s.code,{children:"ImageMesh"})," function. However, it's quite challenging to work with when nonlinear transformations need to be applied to the mesh. And we will need to do these transformations, otherwise, how will we map this square onto the sphere?"]}),"\n",(0,n.jsxs)(s.p,{children:["Let\u2019s use an external library, ",(0,n.jsx)(s.code,{children:"wl-marchingcubes"}),"."]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"0da848ad-0138-4d23-964c-6569541a0f0c",type:"Input",opts:{},children:"PacletRepositories%5B%7B%0A%20%20%20%20Github%20-%3E%20%22https%3A%2F%2Fgithub.com%2FJerryI%2Fwl-marching-cubes%22%20-%3E%20%22master%22%0A%7D%5D%0A%0A%3C%3CJerryI%60MarchingCubes%60"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"733317c9-0f7e-48c8-81d9-836c5a5be035",type:"Input",opts:{},children:"With%5B%7Bplain%20%3D%20im%5Bp0%2B%3Dp%5D%7D%2C%20Table%5Bplain%20Exp%5B-%28%20i%29%5E2%2F200.%5D%2C%20%7Bi%2C%20-20%2C20%7D%5D%5D%3B%0A%0A%7Bvertices%2C%20normals%7D%20%3D%20CMarchingCubes%5B%25%2C%200.2%5D%3B"}),"\n",(0,n.jsxs)(s.p,{children:["The result is stored in ",(0,n.jsx)(s.code,{children:"vertices"}),". By default, the library generates an unindexed set of triangle vertices. This means we can directly interpret them as"]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"b261854a-a9c9-4aa6-aa68-954f1b1f2b1f",type:"Input",opts:{},children:"Polygon%5B%7B%0A%20%20%7B1%2C%202%2C%203%7D%2C%20%2F%2F%20Triangle%201%0A%20%20%7B4%2C%205%2C%206%7D%2C%20%2F%2F%20Triangle%202%0A%20%20...%0A%7D%5D"}),"\n",(0,n.jsxs)(s.p,{children:["Where none of the vertices are reused by another triangle. This format is especially simple for the GPU, as only one such list needs to be sent to one of the WebGL buffers. Fortunately, the ",(0,n.jsx)(s.code,{children:"Polygon"})," primitive supports this format"]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"706bf7f9-87c2-489f-9542-410fb0eb7aa1",type:"Input",opts:{},children:"GraphicsComplex%5Bvertices%2C%20Polygon%5B1%2C%20Length%5Bvertices%5D%5D%5D%20%2F%2F%20Graphics3D"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(27068).A+"",width:"804",height:"504"})}),"\n",(0,n.jsx)(s.h3,{id:"inverse-uv-mapping",children:"Inverse UV-mapping"}),"\n",(0,n.jsxs)(s.p,{children:["It is important to note, that on the next few steps we will map those clouds on the sphere (our Earth surface model). The easiest way is to perform so-called ",(0,n.jsx)(s.strong,{children:"UV-mapping"}),", which will naturally distort our original texture. ==Especially on poles==."]}),"\n",(0,n.jsx)(s.p,{children:'For the educational purpose let\'s perform a naive inverse UV-mapping (from the the "texture" to a sphere)'}),"\n",(0,n.jsx)(s.span,{className:"katex-display",children:(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mtable,{rowspacing:"0.16em",columnalign:"center center",columnspacing:"1em",children:[(0,n.jsxs)(s.mtr,{children:[(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"x"}),(0,n.jsx)(s.mo,{children:"\u2192"})]})})}),(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"\u03c1"}),(0,n.jsx)(s.mtext,{children:"\xa0"}),(0,n.jsx)(s.mi,{children:"c"}),(0,n.jsx)(s.mi,{children:"o"}),(0,n.jsx)(s.mi,{children:"s"}),(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mi,{children:"\u03d5"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"}),(0,n.jsx)(s.mi,{children:"s"}),(0,n.jsx)(s.mi,{children:"i"}),(0,n.jsx)(s.mi,{children:"n"}),(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mi,{children:"\u03b8"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"})]})})})]}),(0,n.jsxs)(s.mtr,{children:[(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"y"}),(0,n.jsx)(s.mo,{children:"\u2192"})]})})}),(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"\u03c1"}),(0,n.jsx)(s.mtext,{children:"\xa0"}),(0,n.jsx)(s.mi,{children:"s"}),(0,n.jsx)(s.mi,{children:"i"}),(0,n.jsx)(s.mi,{children:"n"}),(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mi,{children:"\u03d5"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"}),(0,n.jsx)(s.mi,{children:"s"}),(0,n.jsx)(s.mi,{children:"i"}),(0,n.jsx)(s.mi,{children:"n"}),(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mi,{children:"\u03b8"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"})]})})})]}),(0,n.jsxs)(s.mtr,{children:[(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"z"}),(0,n.jsx)(s.mo,{children:"\u2192"})]})})}),(0,n.jsx)(s.mtd,{children:(0,n.jsx)(s.mstyle,{scriptlevel:"0",displaystyle:"false",children:(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"\u03c1"}),(0,n.jsx)(s.mtext,{children:"\xa0"}),(0,n.jsx)(s.mi,{children:"c"}),(0,n.jsx)(s.mi,{children:"o"}),(0,n.jsx)(s.mi,{children:"s"}),(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mi,{children:"\u03b8"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"})]})})})]})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\begin{matrix}\nx \\rightarrow & \\rho ~ cos(\\phi) sin(\\theta) \\\\\ny \\rightarrow & \\rho ~ sin(\\phi) sin(\\theta) \\\\\nz \\rightarrow & \\rho ~ cos(\\theta)\n\\end{matrix}"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"3.6em",verticalAlign:"-1.55em"}}),(0,n.jsx)(s.span,{className:"mord",children:(0,n.jsxs)(s.span,{className:"mtable",children:[(0,n.jsx)(s.span,{className:"col-align-c",children:(0,n.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(s.span,{className:"vlist-r",children:[(0,n.jsxs)(s.span,{className:"vlist",style:{height:"2.05em"},children:[(0,n.jsxs)(s.span,{style:{top:"-4.21em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord mathnormal",children:"x"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(s.span,{className:"mrel",children:"\u2192"})]})]}),(0,n.jsxs)(s.span,{style:{top:"-3.01em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"y"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(s.span,{className:"mrel",children:"\u2192"})]})]}),(0,n.jsxs)(s.span,{style:{top:"-1.81em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.04398em"},children:"z"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(s.span,{className:"mrel",children:"\u2192"})]})]})]}),(0,n.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(s.span,{className:"vlist-r",children:(0,n.jsx)(s.span,{className:"vlist",style:{height:"1.55em"},children:(0,n.jsx)(s.span,{})})})]})}),(0,n.jsx)(s.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,n.jsx)(s.span,{className:"arraycolsep",style:{width:"0.5em"}}),(0,n.jsx)(s.span,{className:"col-align-c",children:(0,n.jsxs)(s.span,{className:"vlist-t vlist-t2",children:[(0,n.jsxs)(s.span,{className:"vlist-r",children:[(0,n.jsxs)(s.span,{className:"vlist",style:{height:"2.05em"},children:[(0,n.jsxs)(s.span,{style:{top:"-4.21em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03c1"}),(0,n.jsx)(s.span,{className:"mspace nobreak",children:"\xa0"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"cos"}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03d5"}),(0,n.jsx)(s.span,{className:"mclose",children:")"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"s"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"in"}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,n.jsx)(s.span,{className:"mclose",children:")"})]})]}),(0,n.jsxs)(s.span,{style:{top:"-3.01em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03c1"}),(0,n.jsx)(s.span,{className:"mspace nobreak",children:"\xa0"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"s"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"in"}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03d5"}),(0,n.jsx)(s.span,{className:"mclose",children:")"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"s"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"in"}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,n.jsx)(s.span,{className:"mclose",children:")"})]})]}),(0,n.jsxs)(s.span,{style:{top:"-1.81em"},children:[(0,n.jsx)(s.span,{className:"pstrut",style:{height:"3em"}}),(0,n.jsxs)(s.span,{className:"mord",children:[(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03c1"}),(0,n.jsx)(s.span,{className:"mspace nobreak",children:"\xa0"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"cos"}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,n.jsx)(s.span,{className:"mclose",children:")"})]})]})]}),(0,n.jsx)(s.span,{className:"vlist-s",children:"\u200b"})]}),(0,n.jsx)(s.span,{className:"vlist-r",children:(0,n.jsx)(s.span,{className:"vlist",style:{height:"1.55em"},children:(0,n.jsx)(s.span,{})})})]})})]})})]})})]})}),"\n",(0,n.jsxs)(s.p,{children:["where ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"\u03d5"}),(0,n.jsx)(s.mo,{children:"="}),(0,n.jsx)(s.mn,{children:"2"}),(0,n.jsx)(s.mi,{children:"\u03c0"}),(0,n.jsx)(s.mi,{children:"u"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\phi = 2\\pi u"})]})})}),(0,n.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03d5"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(s.span,{className:"mrel",children:"="}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(s.span,{className:"mord",children:"2"}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c0"}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"u"})]})]})]}),", ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"\u03b8"}),(0,n.jsx)(s.mo,{children:"="}),(0,n.jsx)(s.mi,{children:"\u03c0"}),(0,n.jsx)(s.mi,{children:"v"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\theta = \\pi v"})]})})}),(0,n.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(s.span,{className:"mrel",children:"="}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c0"}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"})]})]})]})," and ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"\u03c1"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\rho"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03c1"})]})})]})," is 3rd coordinate (depth). Those 3 coordinates are vertices of generated clouds ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mo,{stretchy:"false",children:"("}),(0,n.jsx)(s.mi,{children:"u"}),(0,n.jsx)(s.mo,{separator:"true",children:","}),(0,n.jsx)(s.mi,{children:"v"}),(0,n.jsx)(s.mo,{separator:"true",children:","}),(0,n.jsx)(s.mi,{children:"\u03c1"}),(0,n.jsx)(s.mo,{stretchy:"false",children:")"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"(u, v, \\rho)"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"1em",verticalAlign:"-0.25em"}}),(0,n.jsx)(s.span,{className:"mopen",children:"("}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"u"}),(0,n.jsx)(s.span,{className:"mpunct",children:","}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,n.jsx)(s.span,{className:"mpunct",children:","}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03c1"}),(0,n.jsx)(s.span,{className:"mclose",children:")"})]})})]})," normalized in the range from 0 to 1 (except ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"\u03c1"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\rho"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03c1"})]})})]}),")"]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"fb9099e2-3df9-47dd-9ce4-c01af9e1a094",type:"Input",opts:{},children:"With%5B%7Bplain%20%3D%20im%5Bp0%20%2B%3D%20p%5D%7D%2C%20Table%5Bplain%20Exp%5B-%28%20i%29%5E2%2F200.%5D%2C%20%7Bi%2C%20-20%2C20%7D%5D%5D%3B%0A%0A%7Bvertices%2C%20normals%7D%20%3D%20CMarchingCubes%5B%25%2C%200.2%2C%20%22CalculateNormals%22%20-%3E%20False%5D%3B%0A%0Avertices%20%3D%20With%5B%7B%0A%20%20offset%20%3D%20%7BMin%5Bvertices%5B%5BAll%2C1%5D%5D%5D%2C%20Min%5Bvertices%5B%5BAll%2C2%5D%5D%5D%2C%200%7D%2C%0A%20%20maxX%20%3D%20Max%5Bvertices%5B%5BAll%2C1%5D%5D%5D%20-%20Min%5Bvertices%5B%5BAll%2C1%5D%5D%5D%2C%0A%20%20maxY%20%3D%20Max%5Bvertices%5B%5BAll%2C2%5D%5D%5D%20-%20Min%5Bvertices%5B%5BAll%2C2%5D%5D%5D%0A%7D%2C%20Map%5BFunction%5Bv%2C%20With%5B%7Bp%20%3D%20v%20-%20offset%7D%2C%20%7Bp%5B%5B1%5D%5D%2FmaxX%2C%20p%5B%5B2%5D%5D%2FmaxY%2C%20p%5B%5B3%5D%5D%7D%5D%5D%2C%20vertices%5D%5D%3B%0A%0Apvertices%20%3D%20Map%5BFunction%5Bv%2C%0A%20%20%20%20With%5B%7B%5C%5BRho%5D%20%3D%2050.0%20%2B%200.25%20%28v%5B%5B3%5D%5D%20-%2010%29%2C%20%5C%5BPhi%5D%20%3D%20%202%20Pi%20Clip%5Bv%5B%5B1%5D%5D%2C%20%7B0%2C1%7D%5D%2C%20%5C%5BTheta%5D%20%3D%20%20Pi%20Clip%5Bv%5B%5B2%5D%5D%2C%20%7B0%2C1%7D%5D%7D%2C%0A%20%20%20%20%20%20%7B%5C%5BRho%5D%20Cos%5B%5C%5BPhi%5D%5D%20Sin%5B%5C%5BTheta%5D%5D%2C%20%5C%5BRho%5D%20Sin%5B%5C%5BPhi%5D%5D%20Sin%5B%5C%5BTheta%5D%5D%2C%20%5C%5BRho%5D%20Cos%5B%5C%5BTheta%5D%5D%7D%0A%20%20%20%20%5D%0A%20%20%5D%0A%2C%20vertices%5D%3B%0A%0A%7B%0A%20%20GraphicsComplex%5B0.017%20pvertices%2C%20Polygon%5B1%2C%20Length%5Bvertices%5D%5D%5D%0A%7D%20%2F%2F%20Graphics3D"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(48024).A+"",width:"830",height:"504"})}),"\n",(0,n.jsxs)(s.p,{children:["This looks horrible on the poles, when ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"\u03b8"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\theta"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"})]})})]})," is approaching ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"\u03c0"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\pi"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c0"})]})})]})," or ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mn,{children:"0"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"0"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(s.span,{className:"mord",children:"0"})]})})]})," \ud83d\udc4e"]}),"\n",(0,n.jsxs)(s.admonition,{type:"note",children:[(0,n.jsxs)(s.p,{children:["There ",(0,n.jsx)(s.strong,{children:"are two problems to solve"})]}),(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"distorshions on poles"}),"\n",(0,n.jsx)(s.li,{children:"incorrect aspect ratio"}),"\n"]})]}),"\n",(0,n.jsx)(i.oN,{children:"%3Cbr%20%2F%3E"}),"\n",(0,n.jsx)(s.p,{children:"We need to go back and rethink our approach."}),"\n",(0,n.jsx)(s.h3,{id:"correcting-aspect-ratio",children:"Correcting aspect ratio"}),"\n",(0,n.jsxs)(s.p,{children:["This is relatively easy to fix, we need a rectangle with 1/2 ratio, since ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"\u03d5"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\phi"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",children:"\u03d5"})]})})]})," goes up to ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mn,{children:"2"}),(0,n.jsx)(s.mi,{children:"\u03c0"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"2\\pi"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6444em"}}),(0,n.jsx)(s.span,{className:"mord",children:"2"}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c0"})]})})]})," compared to ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsx)(s.mrow,{children:(0,n.jsx)(s.mi,{children:"\u03b8"})}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\theta"})]})})}),(0,n.jsx)(s.span,{className:"katex-html","aria-hidden":"true",children:(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"})]})})]})]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"d897f6b9-d487-42c1-9adc-652244812a19",type:"Input",opts:{},children:"n%20%3D%20256%3B%0Aratio%20%3D%201%2F2%3B%0A%0Ak2%20%3D%20Outer%5BPlus%2C%20%23%2C%20%23%5D%20%26%5BRotateRight%5BN%40Range%5B-n%2C%20n%20-%201%2C%202%5D%2Fn%2C%20n%2F2%5D%5E2%5D%3B%0A%0Ak2%20%3D%20k2%5B%5B%3B%3B%20%3B%3B%201%2Fratio%2C%20All%5D%5D%3B%0A%0Aspectrum%20%3D%20With%5B%7Bd%20%3A%3D%20RandomReal%5BNormalDistribution%5B%5D%2C%20%7Bn%20ratio%2C%20n%7D%5D%7D%2C%0A%20%20%20%281%2Fn%29%20%28d%29%2F%280.001%20%2B%20k2%29%5D%3B%20%0Aspectrum%5B%5B1%2C%201%5D%5D%20%2A%3D%200%3B%0A%0Aim%5Bp_%5D%20%3A%3D%20Clip%5BRe%5BInverseFourier%5Bspectrum%20Exp%5BI%20p%5D%5D%5D%2C%20%7B0%2C%20%E2%88%9E%7D%5D%5E0.5%0A%0Ap0%20%3D%20p%20%3D%20Sqrt%5Bk2%5D%3B%0A%0AcloudTexture%20%3D%20im%5Bp0%20%2B%3D%20p%5D%20%2F%2F%20Image%3B"}),"\n",(0,n.jsx)(s.p,{children:"Double check if it is still repeating from all 4 sides"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"6a8a8554-e254-46bd-a693-7cd54f11e6ef",type:"Input",opts:{},children:"Table%5BcloudTexture%2C%20%7B2%7D%2C%20%7B2%7D%5D%20%2F%2F%20Grid%20"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(30327).A+"",width:"556",height:"294"})}),"\n",(0,n.jsx)(s.p,{children:"There is a \ud83d\ude80 science behind the question how to project things on or from the sphere"}),"\n",(0,n.jsx)(s.h3,{id:"mapping-things-to-a-sphere",children:"Mapping things to a sphere"}),"\n",(0,n.jsx)(s.p,{children:'I\'ll mention right away that I\u2019m not an expert in geodesy (@JerryI), but I\u2019ve "heard" about some concepts from computational geometry and 3D graphics ;)'}),"\n",(0,n.jsx)(s.p,{children:'In any case, we\u2019ll be "mapping" this texture onto the sphere in one form or another (as polygons). This means we\u2019ll transform all its points following one of the cartographic projections.'}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsx)(s.p,{children:"A method we used UV-mapping is analogous to an equal-area cartographic projection, with the exception of coefficients responsible for angle shifts."}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Let\u2019s imagine that if we apply some inverse transformation to our original texture, when projecting it onto the sphere, they should compensate for each other, and we\u2019ll see an undistorted image of the clouds."}),"\n",(0,n.jsx)(s.p,{children:"Then, the questions are:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"What is our original texture right now, and what do we want to see in the end?"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"What does an undistorted image mean in this context?"}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsx)(s.p,{children:"How can we generally talk about what we want to see on the sphere while looking at a rectangular Perlin noise image in Cartesian coordinates?"}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"These questions could be answered in this article if I were an expert in the subject \ud83e\uddd0 Unfortunately, I cannot meet that criterion, so let's at least try to find a way to eliminate artifacts at the poles. Looking at textures from games, we can notice a pattern"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(23725).A+"",width:"1284",height:"318"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:(0,n.jsx)(s.a,{href:"https://richardrosenman.com/shop/spherical-mapping-corrector/",children:"https://richardrosenman.com/shop/spherical-mapping-corrector/"})})}),"\n",(0,n.jsx)(i.oN,{children:"%3Cbr%20%2F%3E"}),"\n",(0,n.jsxs)(s.p,{children:["At the edges of the texture projected from the sphere, the details stretch towards the top and bottom edges of the rectangle. This is exactly the case when ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"\u03b8"}),(0,n.jsx)(s.mo,{children:"\u2192"}),(0,n.jsx)(s.mn,{children:"0"}),(0,n.jsx)(s.mo,{separator:"true",children:","}),(0,n.jsx)(s.mi,{children:"\u03c0"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"\\theta \\rightarrow 0, \\pi"})]})})}),(0,n.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.6944em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.02778em"},children:"\u03b8"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(s.span,{className:"mrel",children:"\u2192"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.8389em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(s.span,{className:"mord",children:"0"}),(0,n.jsx)(s.span,{className:"mpunct",children:","}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"\u03c0"})]})]})]})," or ",(0,n.jsxs)(s.span,{className:"katex",children:[(0,n.jsx)(s.span,{className:"katex-mathml",children:(0,n.jsx)(s.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:(0,n.jsxs)(s.semantics,{children:[(0,n.jsxs)(s.mrow,{children:[(0,n.jsx)(s.mi,{children:"v"}),(0,n.jsx)(s.mo,{children:"\u2192"}),(0,n.jsx)(s.mn,{children:"0"}),(0,n.jsx)(s.mo,{separator:"true",children:","}),(0,n.jsx)(s.mn,{children:"1"})]}),(0,n.jsx)(s.annotation,{encoding:"application/x-tex",children:"v \\rightarrow 0, 1"})]})})}),(0,n.jsxs)(s.span,{className:"katex-html","aria-hidden":"true",children:[(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.4306em"}}),(0,n.jsx)(s.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,n.jsx)(s.span,{className:"mrel",children:"\u2192"}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,n.jsxs)(s.span,{className:"base",children:[(0,n.jsx)(s.span,{className:"strut",style:{height:"0.8389em",verticalAlign:"-0.1944em"}}),(0,n.jsx)(s.span,{className:"mord",children:"0"}),(0,n.jsx)(s.span,{className:"mpunct",children:","}),(0,n.jsx)(s.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,n.jsx)(s.span,{className:"mord",children:"1"})]})]})]})," \u2014 our poles."]}),"\n",(0,n.jsx)(s.p,{children:"Thus, if we artificially distort the original texture in the same way, we should eliminate the artifacts at the poles. Do you know what this transformation resembles?"}),"\n",(0,n.jsxs)(s.p,{children:["It\u2019s akin to transforming ",(0,n.jsx)(s.a,{href:"https://mathematica.stackexchange.com/a/79868/53728",children:"the Mollweide projection into an equal-area cartographic projection"})]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"861e4b62-14a0-4a4b-a420-2387d28cdc0a",type:"Input",opts:{},children:"lat%5By_%2C%20rad_%3A1%5D%20%3A%3D%20ArcSin%5B%282%20theta%5By%2C%20rad%5D%20%2B%20Sin%5B2%20theta%5By%2C%20rad%5D%5D%29%2FPi%5D%3B%0Alon%5Bx_%2C%20y_%2C%20rad_%3A1%2C%20lonzero_%3A%200%5D%20%3A%3D%20lonzero%20%2B%20Pi%20x%2F%282%20rad%20Sqrt%5B2%5D%20Cos%5Btheta%5By%2C%20rad%5D%5D%29%3B%0Atheta%5By_%2C%20rad_%3A1%5D%20%3A%3D%20ArcSin%5By%2F%28rad%20Sqrt%5B2%5D%29%5D%3B%0Amollweidetoequirect%5B%7Bx_%2C%20y_%7D%5D%20%3A%3D%20%7Blon%5Bx%2C%20y%2C%201%5D%2C%20lat%5By%5D%7D%3B%0A%0AnewCloudTexture%20%3D%20ImageForwardTransformation%5B%0A%20%20cloudTexture%2C%0A%20%20mollweidetoequirect%2C%0A%20%20DataRange%20-%3E%20%7B%7B-2%20Sqrt%5B2%5D%2C%202%20Sqrt%5B2%5D%7D%2C%20%7B-Sqrt%5B2%5D%2C%20Sqrt%5B2%5D%7D%7D%2C%0A%20%20PlotRange%20-%3E%20All%0A%5D%3B%0A%0AImage%5B%25%2C%20Magnification-%3E2%5D"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(96227).A+"",width:"624",height:"318"})}),"\n",(0,n.jsxs)(s.p,{children:["Next, we simply need to repeat Marching Cubes on it and transform all the vertices using the equation above. As a bonus, let's transform ",(0,n.jsx)(s.code,{children:"normals"})," as well!"]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"ad0974ff-bfc9-45d0-a3a2-2f05c197d462",type:"Input",opts:{},children:"With%5B%7Bplain%20%3D%20ImageData%5BnewCloudTexture%5D%7D%2C%20Table%5Bplain%20Exp%5B-%28%20i%29%5E2%2F200.%5D%2C%20%7Bi%2C%20-20%2C20%7D%5D%5D%3B%0A%0A%7Bvertices%2C%20normals%7D%20%3D%20CMarchingCubes%5B%25%2C%200.2%5D%3B%0A%0Avertices%20%3D%20With%5B%7B%0A%20%20offset%20%3D%20%7BMin%5Bvertices%5B%5BAll%2C1%5D%5D%5D%2C%20Min%5Bvertices%5B%5BAll%2C2%5D%5D%5D%2C%200%7D%2C%0A%20%20maxX%20%3D%20Max%5Bvertices%5B%5BAll%2C1%5D%5D%5D%20-%20Min%5Bvertices%5B%5BAll%2C1%5D%5D%5D%2C%0A%20%20maxY%20%3D%20Max%5Bvertices%5B%5BAll%2C2%5D%5D%5D%20-%20Min%5Bvertices%5B%5BAll%2C2%5D%5D%5D%0A%7D%2C%20Map%5BFunction%5Bv%2C%20With%5B%7Bp%20%3D%20v%20-%20offset%7D%2C%20%7Bp%5B%5B1%5D%5D%2FmaxX%2C%20p%5B%5B2%5D%5D%2FmaxY%2C%20p%5B%5B3%5D%5D%7D%5D%5D%2C%20vertices%5D%5D%3B%0A%0A%7Bpvertices%2C%20pnormals%7D%20%3D%20MapThread%5BFunction%5B%7Bv%2Cn%7D%2C%0A%20%20%20%20With%5B%7B%5C%5BRho%5D%20%3D%2050.0%20%2B%200.25%20%28v%5B%5B3%5D%5D%20-%2010%29%2C%20%5C%5BPhi%5D%20%3D%20%202%20Pi%20Clip%5Bv%5B%5B1%5D%5D%2C%20%7B0%2C1%7D%5D%2C%20%5C%5BTheta%5D%20%3D%20%20Pi%20Clip%5Bv%5B%5B2%5D%5D%2C%20%7B0%2C1%7D%5D%7D%2C%0A%20%20%20%20%20%20%7B%0A%20%20%20%20%20%20%20%20%7B%5C%5BRho%5D%20Cos%5B%5C%5BPhi%5D%5D%20Sin%5B%5C%5BTheta%5D%5D%2C%20%5C%5BRho%5D%20Sin%5B%5C%5BPhi%5D%5D%20Sin%5B%5C%5BTheta%5D%5D%2C%20%5C%5BRho%5D%20Cos%5B%5C%5BTheta%5D%5D%7D%2C%0A%0A%20%20%20%20%20%20%20%20n%5B%5B3%5D%5D%20%7BCos%5B%5C%5BPhi%5D%5D%20Sin%5B%5C%5BTheta%5D%5D%2C%20Sin%5B%5C%5BPhi%5D%5D%20Sin%5B%5C%5BTheta%5D%5D%2C%20Cos%5B%5C%5BTheta%5D%5D%7D%20%2B%20%0A%20%20%20%20%20%20%20%20n%5B%5B2%5D%5D%20%7BCos%5B%5C%5BTheta%5D%5D%20Cos%5B%5C%5BPhi%5D%5D%2CCos%5B%5C%5BTheta%5D%5D%20Sin%5B%5C%5BPhi%5D%5D%2C-Sin%5B%5C%5BTheta%5D%5D%7D%20%2B%20%0A%20%20%20%20%20%20%20%20n%5B%5B1%5D%5D%20%7B-Sin%5B%5C%5BTheta%5D%5D%20Sin%5B%5C%5BPhi%5D%5D%2CCos%5B%5C%5BPhi%5D%5D%20Sin%5B%5C%5BTheta%5D%5D%2C0%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%5D%0A%20%20%5D%0A%2C%20%7Bvertices%2C%20-normals%7D%5D%20%2F%2F%20Transpose%3B%0A%0A%7B%0A%20%20clouds%20%3D%20GraphicsComplex%5B0.017%20pvertices%2C%20Polygon%5B1%2C%20Length%5Bvertices%5D%5D%2C%20VertexNormals-%3Epnormals%5D%0A%7D%20%2F%2F%20Graphics3D"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(43148).A+"",width:"736",height:"502"})}),"\n",(0,n.jsxs)(s.p,{children:["If ",(0,n.jsx)(s.code,{children:"VertexNormals"})," is explicitly set in ",(0,n.jsx)(s.code,{children:"GraphicsComplex"}),", then when shading, the surface will be interpolated across all three normals of the triangle, instead of just one (which is automatically calculated by the graphics library if no other data is provided, in which case the polygon looks like a flat plane \u2014 a.k.a. the effect seen in 80s demos)."]}),"\n",(0,n.jsx)(s.h2,{id:"putting-it-all-together",children:"Putting it all together"}),"\n",(0,n.jsxs)(s.p,{children:["We can extend the original ",(0,n.jsx)(s.code,{children:"SurfacePlot"})," with options and add additional graphic primitives through them. Oh, and don\u2019t forget to turn off the default lighting. After all, we\u2019re in space!"]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"af4a7590-fde2-48dd-b27a-bc99a25a4066",type:"Input",opts:{},children:"rainbow%20%3D%20ColorData%5B%22DarkRainbow%22%5D%3B%0A%0AListSurfacePlot3D%5B%0A%20%20MapThread%5B%28%231%20%280.8%20%2B%200.1%20%232%29%29%26%2C%20%7Bpoints%2C%20elevation%7D%5D%2C%20%0A%20%20Mesh-%3ENone%2C%20MaxPlotPoints-%3E100%2C%20%0A%20%20ColorFunction%20-%3E%20Function%5B%7Bx%2Cy%2Cz%7D%2C%20rainbow%5B1.5%282%20Norm%5B%7Bx%2Cy%2Cz%7D%5D-1%29%5D%5D%2C%20%0A%20%20ColorFunctionScaling%20-%3E%20False%2C%20%0A%20%20Lighting-%3ENone%2C%0A%20%20PlotStyle-%3EDirective%5B%22Shadows%22-%3ETrue%2C%20%22CastShadow%22-%3ETrue%5D%2C%0A%0A%20%20Prolog%20-%3E%20%7B%0A%20%20%20%20Directive%5B%22Shadows%22-%3ETrue%2C%20%22CastShadow%22-%3ETrue%5D%2C%0A%20%20%20%20clouds%2C%0A%20%20%20%20HemisphereLight%5BLightBlue%2C%20Orange%20%2F%2F%20Darker%20%2F%2F%20Darker%5D%2C%0A%20%20%20%20SpotLight%5BOrange%2C%20%7B-2.4909%2C%204.069%2C%203.024%7D%5D%0A%20%20%7D%2C%0A%20%20%0A%20%20Background-%3EBlack%0A%2C%20ImageSize-%3E800%5D%0A"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.img,{src:a(98056).A+"",width:"1600",height:"988"}),(0,n.jsx)(i.oN,{children:"%3Cbr%20%2F%3E"})]}),"\n",(0,n.jsxs)(s.p,{children:["We can play around with real-time lighting by adding a handler to the ",(0,n.jsx)(s.code,{children:"transform"})," property of a small sphere at the light source\u2019s position"]}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"73669941-51fb-4e55-912d-1b58bd0aefea",type:"Input",opts:{},children:"rainbow%20%3D%20ColorData%5B%22DarkRainbow%22%5D%3B%0AlightPos%20%3D%20%7B-2.4909%2C%204.069%2C%203.024%7D%3B%0A%0A%0AListSurfacePlot3D%5B%0A%20%20MapThread%5B%28%231%20%280.8%20%2B%200.1%20%232%29%29%26%2C%20%7Bpoints%2C%20elevation%7D%5D%2C%20%0A%20%20Mesh-%3ENone%2C%20MaxPlotPoints-%3E100%2C%20%0A%20%20ColorFunction%20-%3E%20Function%5B%7Bx%2Cy%2Cz%7D%2C%20rainbow%5B1.5%282%20Norm%5B%7Bx%2Cy%2Cz%7D%5D-1%29%5D%5D%2C%20%0A%20%20ColorFunctionScaling%20-%3E%20False%2C%20%0A%20%20Lighting-%3ENone%2C%0A%20%20PlotStyle-%3EDirective%5B%22Shadows%22-%3ETrue%2C%20%22CastShadow%22-%3ETrue%5D%2C%0A%0A%20%20Prolog%20-%3E%20%7B%0A%20%20%20%20Directive%5B%22Shadows%22-%3ETrue%2C%20%22CastShadow%22-%3ETrue%5D%2C%0A%20%20%20%20clouds%2C%0A%20%20%20%20HemisphereLight%5BLightBlue%2C%20Orange%20%2F%2F%20Darker%20%2F%2F%20Darker%5D%2C%0A%20%20%20%20SpotLight%5BOrange%2C%20lightPos%20%2F%2F%20Offload%5D%2C%0A%20%20%20%20EventHandler%5BSphere%5BlightPos%2C%200.001%5D%2C%20%7B%22transform%22%20-%3E%20Function%5Bt%2C%0A%20%20%20%20%20%20lightPos%20%3D%20t%5B%22position%22%5D%0A%20%20%20%20%5D%7D%5D%0A%20%20%7D%2C%0A%20%20%0A%20%20Background-%3EBlack%0A%2C%20ImageSize-%3E800%5D"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{src:a(42472).A+"",width:"720",height:"444"})}),"\n",(0,n.jsx)(s.h2,{id:"animation",children:"Animation"}),"\n",(0,n.jsx)(s.p,{children:"Let\u2019s add a simple animation for the movement of the light source, as well as the rotation of the cloud sphere to spice up the scene"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"35f1467d-55e1-484f-9815-cb6050ffb0ae",type:"Input",opts:{},children:"rainbow%20%3D%20ColorData%5B%22DarkRainbow%22%5D%3B%0AlightPos%20%3D%20%7B-2.4909%2C%204.069%2C%203.024%7D%3B%0A%0ArotationMatrix%20%3D%20RotationMatrix%5B0.%2C%20%7B0%2C0%2C1%7D%5D%3B%0Aangle%20%3D%200.%3B%0A%0Aanimation%20%3D%20CreateUUID%5B%5D%3B%0A%0AEventHandler%5Banimation%2C%20Function%5BNull%2C%0A%20%20lightPos%20%3D%20RotationMatrix%5B1%20Degree%2C%20%7B1%2C1%2C1%7D%5D.lightPos%3B%0A%20%20rotationMatrix%20%3D%20RotationMatrix%5Bangle%2C%20%7B0%2C0%2C1%7D%5D%3B%0A%20%20angle%20%2B%3D%200.5%20Degree%3B%0A%5D%5D%3B%0A%0AListSurfacePlot3D%5B%0A%20%20MapThread%5B%28%231%20%280.8%20%2B%200.1%20%232%29%29%26%2C%20%7Bpoints%2C%20elevation%7D%5D%2C%20%0A%20%20Mesh-%3ENone%2C%20MaxPlotPoints-%3E100%2C%20%0A%20%20ColorFunction%20-%3E%20Function%5B%7Bx%2Cy%2Cz%7D%2C%20rainbow%5B1.5%282%20Norm%5B%7Bx%2Cy%2Cz%7D%5D-1%29%5D%5D%2C%20%0A%20%20ColorFunctionScaling%20-%3E%20False%2C%20%0A%20%20Lighting-%3E%22Default%22%2C%0A%20%20PlotStyle-%3EDirective%5B%22Shadows%22-%3ETrue%2C%20%22CastShadow%22-%3ETrue%5D%2C%0A%0A%20%20Prolog%20-%3E%20%7B%0A%20%20%20%20Directive%5B%22Shadows%22-%3ETrue%2C%20%22CastShadow%22-%3ETrue%5D%2C%0A%20%20%20%20GeometricTransformation%5Bclouds%2C%20rotationMatrix%20%2F%2F%20Offload%5D%2C%0A%20%20%20%20HemisphereLight%5BLightBlue%2C%20Orange%20%2F%2F%20Darker%20%2F%2F%20Darker%5D%2C%0A%20%20%20%20SpotLight%5BOrange%2C%20lightPos%20%2F%2F%20Offload%5D%0A%20%20%7D%2C%0A%0A%20%20Epilog%20-%3E%20AnimationFrameListener%5BlightPos%20%2F%2F%20Offload%2C%20%22Event%22-%3Eanimation%5D%2C%0A%20%20Background-%3EBlack%2C%0A%20%20ImageSize-%3E800%0A%5D"}),"\n",(0,n.jsx)(s.p,{children:"To start animation"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"753bb7c2-f6d5-4736-b9cc-b15a49d7be62",type:"Input",opts:{},children:"EventFire%5Banimation%2C%20True%5D%3B"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Alternative version for a blog"})}),"\n",(0,n.jsx)(s.p,{children:"Drag a slider to control clouds and etc"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"44fd2ee0-2971-4fee-a7d6-85457d58d138",type:"Input",opts:{},children:"rainbow%20%3D%20ColorData%5B%22DarkRainbow%22%5D%3B%0AlightPos%20%3D%20%7B-2.4909%2C%204.069%2C%203.024%7D%3B%0A%0ArotationMatrix%20%3D%20RotationMatrix%5B0.%2C%20%7B0%2C0%2C1%7D%5D%3B%0A%0AEventHandler%5BInputRange%5B0%2C1%2C%200.01%5D%2C%20Function%5Bvalue%2C%0A%20%20lightPos%20%3D%20RotationMatrix%5B2Pi%20value%2C%20%7B1%2C1%2C1%7D%5D.%7B-2.4909%2C%204.069%2C%203.024%7D%20%2F%2F%20N%3B%0A%20%20rotationMatrix%20%3D%20RotationMatrix%5B2Pi%20value%2C%20%7B0%2C0%2C1%7D%5D%20%2F%2F%20N%3B%0A%5D%5D%0A%0AListSurfacePlot3D%5B%0A%20%20MapThread%5B%28%231%20%280.8%20%2B%200.1%20%232%29%29%26%2C%20%7Bpoints%2C%20elevation%7D%5D%2C%20%0A%20%20Mesh-%3ENone%2C%20MaxPlotPoints-%3E100%2C%20%0A%20%20ColorFunction%20-%3E%20Function%5B%7Bx%2Cy%2Cz%7D%2C%20rainbow%5B1.5%282%20Norm%5B%7Bx%2Cy%2Cz%7D%5D-1%29%5D%5D%2C%20%0A%20%20ColorFunctionScaling%20-%3E%20False%2C%20%0A%20%20Lighting-%3E%22Default%22%2C%0A%20%20PlotStyle-%3EDirective%5B%22Shadows%22-%3ETrue%2C%20%22CastShadow%22-%3ETrue%5D%2C%0A%0A%20%20Prolog%20-%3E%20%7B%0A%20%20%20%20Directive%5B%22Shadows%22-%3ETrue%2C%20%22CastShadow%22-%3ETrue%5D%2C%0A%20%20%20%20GeometricTransformation%5Bclouds%2C%20rotationMatrix%20%2F%2F%20Offload%5D%2C%0A%20%20%20%20HemisphereLight%5BLightBlue%2C%20Orange%20%2F%2F%20Darker%20%2F%2F%20Darker%5D%2C%0A%20%20%20%20SpotLight%5BOrange%2C%20lightPos%20%2F%2F%20Offload%5D%0A%20%20%7D%2C%0A%20%20%0A%20%20Background-%3EBlack%2C%0A%20%20ImageSize-%3E800%0A%5D"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"81b991c6-71f3-4abb-a8f2-3329dbc197b1",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28EventObject%5B%3C%7C%22Id%22%20-%3E%20%22ff6faf86-9d42-4da8-8fbe-f1845435c70f%22%2C%20%22Initial%22%20-%3E%200.5%2C%20%22View%22%20-%3E%20%224df83bb7-528b-4c4d-9e90-d912f21cbea2%22%7C%3E%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKm6SkWRgnJZnrmhpZJOmaJJuk6FqmWhroplgaGqUZGSYnpSYaAQCJ9BYE%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,n.jsx)(i.aO,{display:"codemirror",nid:"8efbb6eb-5f2a-48c8-95ab-69875db3ed41",id:"00c77136-a803-4644-a764-9ad17b2cc046",type:"Output",opts:{},children:"%28%2AVB%5B%2A%29%28FrontEndRef%5B%223d57cc3f-8abb-4477-a47b-08de43858d5a%22%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKG6eYmicnG6fpWiQmJemamJib6yaamCfpGlikpJoYW5hapJgmAgCLwxXd%22%2A%29%28%2A%5DVB%2A%29"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.em,{children:"Try to drag a slider and Earth"})}),"\n",(0,n.jsx)(i.oN,{children:"%3Cbr%20%2F%3E"}),"\n",(0,n.jsx)(i.oN,{children:"%3Cbr%20%2F%3E"}),"\n",(0,n.jsx)(s.p,{children:"See you next time \ud83e\uddb9"})]})}function m(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},27068:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/Screenshot 2025-01-14 at 15.23.39-d9b-9b32c324a31caa087ddb95310ad9391b.png"},28453:(e,s,a)=>{"use strict";a.d(s,{R:()=>r,x:()=>l});var n=a(96540);const t={},i=n.createContext(t);function r(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(i.Provider,{value:s},e.children)}},30327:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/Screenshot 2025-01-14 at 15.26.19-4fe-0f214615bb6bd6b79119d408b4adce7b.png"},30622:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"84676d3bbfaf95b920afbc02acebe846.txt"},33152:(e,s,a)=>{"use strict";a.d(s,{aO:()=>h,oN:()=>d,k8:()=>o});var n,t=a(96540);a(83386),a(44586);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i.apply(null,arguments)}const r=e=>{let{title:s,titleId:a,...r}=e;return t.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"w-5 h-5 ml-auto",viewBox:"0 0 24 24","aria-labelledby":a},r),s?t.createElement("title",{id:a},s):null,n||(n=t.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",d:"M17 17h.01m.39-3h.6c.932 0 1.398 0 1.765.152a2 2 0 0 1 1.083 1.083C21 15.602 21 16.068 21 17s0 1.398-.152 1.765a2 2 0 0 1-1.083 1.083C19.398 20 18.932 20 18 20H6c-.932 0-1.398 0-1.765-.152a2 2 0 0 1-1.083-1.083C3 18.398 3 17.932 3 17s0-1.398.152-1.765a2 2 0 0 1 1.083-1.083C4.602 14 5.068 14 6 14h.6m5.4 1V4m0 11-3-3m3 3 3-3"})))};var l=a(95293),c=(a(38193),a(14195),a(92303),a(74848));function o(e){let{json:s,notebook:a,kernel:n}=e;const{colorMode:i,setColorMode:o}=(0,l.G)();return(0,t.useEffect)((()=>{console.warn("Create store"),console.warn(s);const e={},a={},t=[],i=new Deferred;let r=async()=>{r=async()=>{},fetch(s).then((s=>{console.warn("Store loaded!"),s.json().then((s=>{interpretate(s.objects,{hold:!0}).then((s=>{console.warn("Objects loaded!"),Object.keys(s).forEach((e=>{const a=new ObjectStorage(e);a.cache=s[e],a.cached=!0})),Object.keys(e).forEach((a=>{Array.isArray(e[a])?e[a].forEach((e=>e.resolve(s[a]))):e[a].resolve(s[a])}))})),interpretate(s.symbols,{hold:!0}).then((e=>{console.warn("Symbols loaded!"),Object.keys(e).forEach((s=>{core[s]=async(e,a)=>await interpretate(core[s].data,a),core[s].data=e[s],core[s]=async(e,a)=>{console.log("IE: calling our symbol...");const n=await interpretate(core[s].data,a);return a.root&&!a.novirtual&&(core[s].instances[a.root.uid]=a.root),n},core[s].update=async(e,a)=>{if(a.useCache)return core[s].cached&&core[s].currentData==core[s].data||(core[s].cached=await interpretate(core[s].data,a),core[s].currentData=core[s].data),core[s].cached;return await interpretate(core[s].data,a)},core[s].destroy=async(e,a)=>{delete core[s].instances[a.root.uid],console.warn(a.root.uid+" was destroyed"),console.warn("external symbol was destoryed")},core[s].data=structuredClone(e[s]),core[s].virtual=!0,core[s].instances={}})),Object.keys(a).forEach((s=>{console.warn(s),a[s].resolve(e[s])})),i.resolve()}))}))}))};core.Offload=(e,s)=>{if(e.length>1)if("'Static'"===e[1][1]){if(e[1][2])return interpretate(e[0],{...s,static:!0})}else if(e.length>2&&"'Static'"===e[2][1]&&e[2][2])return interpretate(e[0],{...s,static:!0});return interpretate(e[0],s)},core.Offload.update=(e,s)=>{if(e.length>1)if("'Volatile'"===e[1][1]){if(!e[1][2])return void console.log("Update was rejected (Nonvolatile)")}else if(e.length>2&&"'Volatile'"===e[2][1]&&!e[2][2])return void console.log("Update was rejected (Nonvolatile)");return interpretate(e[0],s)},window.server={kernel:{}},window.server.ask=s=>{const a=new Deferred;if(s.length<42)return console.error("Unknown command"),console.error(s),!1;return Array.isArray(e[s.slice(60,-2)])?e[s.slice(60,-2)].push(a):e[s.slice(60,-2)]=[a],r(),a.promise},window.server.getSymbol=e=>{const s=new Deferred;return console.warn("Asking for symbol"+e),a[e]=s,s.promise},window.server.kernel.emitt=function(e,s,a){void 0===a&&(a="Default"),t.push({uid:e,data:s,type:a})},interpretate.anonymous=async(e,s)=>{let n,t;if(console.log("Anonimous symbol: "+JSON.stringify(e)),e instanceof Array)throw console.error(e),"unknown WL expression. Error at "+e[0];n=e;const i=new Deferred;return console.warn("Asking for symbol"+n),a[n]=i,t=await i.promise,core[n]=async(e,s)=>{console.log("IE: calling our symbol...");const a=await interpretate(core[n].data,s);return s.root&&!s.novirtual&&(core[n].instances[s.root.uid]=s.root),a},core[n].update=async(e,s)=>{if(s.useCache)return core[n].cached&&core[n].currentData==core[n].data||(core[n].cached=await interpretate(core[n].data,s),core[n].currentData=core[n].data),core[n].cached;return await interpretate(core[n].data,s)},core[n].destroy=async(e,s)=>{delete core[n].instances[s.root.uid],console.warn(s.root.uid+" was destroyed"),console.warn("external symbol was destoryed")},core[n].data=t,core[n].virtual=!0,core[n].instances={},interpretate(e,s)},(async()=>{if(console.warn("Kernel"),n){if(console.warn("KERNEL"),!window.KernelState){const e=new Deferred,s=document.createElement("script");s.src="https://cdn.jsdelivr.net/gh/JerryI/wljs-export-html@base/dist/decoder.min.js",s.addEventListener("load",(()=>e.resolve())),document.head.appendChild(s),await e.promise,console.warn("KernelState lib loaded!")}fetch(n).then((e=>{console.log(e),e.json().then((async e=>{let s=[];for(const a of e)s.push(await interpretate.unzlib64String(a));s=s.map(KernelMesh.unpack),console.warn("Mesh loaded!"),console.log(s),window.server.kernel.emitt=function(e,a,n){void 0===n&&(n="Default"),setTimeout((()=>{const t={type:"event",uid:e,pattern:n,data:a},i=s;for(let e=0;e<i.length;++e)if(i[e].test(t)){if(i[e].state)i[e].state=new KernelState(i[e].state,t,!0);else{if(i[e].database.has("$initialization")){i[e].database.get("$initialization").forEach((s=>i[e].state=new KernelState(i[e].state,s,!0)))}i[e].state=new KernelState(i[e].state,t,!0)}i[e].state.exec(i[e].database,(e=>{for(const s of Object.keys(e))if(console.warn(s),"$state"!==s)if(1===e[s].set.length){console.log(e[s].set[0]),core[s].data=structuredClone(e[s].set[0]);for(const e of Object.values(core[s].instances))e.update()}else{e[s].i+=1,e[s].i>=e[s].set.length&&(e[s].i=0),core[s].data=structuredClone(e[s].set[e[s].i]);for(const e of Object.values(core[s].instances))e.update()}}))}}),4)},t.forEach((e=>window.server.kernel.emitt(e.uid,e.data,e.type)))}))}))}})()})),console.log("DONE loading mesh"),a?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("a",{href:a,className:"dark"==i?"p-2 text-xs w-full flex ring-1 ring-inset shadow ring-gray-300 text-gray-300 my-2":"p-2 text-xs w-full flex ring-1 ring-inset text-gray-600 shadow ring-gray-300 bg-gray-300 my-2",children:["Download original notebook ",(0,c.jsx)(r,{})]})}):(0,c.jsx)(c.Fragment,{})}function d(e){let{children:s,data:a}=e;const n={__html:decodeURIComponent(s)};return(0,c.jsx)("div",{dangerouslySetInnerHTML:n})}function h(e){let{children:s,nid:a,id:n,type:i,display:r,opts:o}=e;const d=(0,t.useRef)(null),{colorMode:h,setColorMode:m}=(0,l.G)(),p=decodeURIComponent(s),[x,j]=(0,t.useState)(o.Fade),[g,D]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{const e=d.current;let s;if(console.warn("Create Codemirror"),console.warn(r),console.log(p),D(!0),console.warn("Created: "+r),"print"!=r){if(window.SupportedCells[r])return window.SupportedCells[r].view&&(s=new window.SupportedCells[r].view({element:e},p)),s.editor&&o.Fade&&(d.current.addEventListener("focusin",(()=>{j(!1)})),d.current.addEventListener("focusout",(()=>{j(!0)}))),()=>{s&&s.dispose()};console.warn("Not found: "+r)}}),[]),(0,c.jsx)("div",{style:{filter:"dark"==h?"invert(1) contrast(0.8) hue-rotate(-185deg)":"none"},className:"language-mathematica codeBlockContainer_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Container-styles-module theme-code-block",children:(0,c.jsx)("div",{className:x?"h-fade-20 codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module":"codeBlockContent_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module",children:(0,c.jsxs)("pre",{tabIndex:"0",className:"prism-code language-mathematica codeBlock_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module thin-scrollbar",style:{color:"rgb(57, 58, 52)",backgroundColor:"rgb(246, 248, 250)"},children:[!g&&(0,c.jsx)("code",{style:{whiteSpace:"pre-wrap"},className:"codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module",children:p}),(0,c.jsx)("code",{ref:d,className:"codeBlockLines_node_modules-@docusaurus-theme-classic-lib-theme-CodeBlock-Content-styles-module"})]})})})}},38590:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/Screenshot 2025-01-14 at 15.32.57-a53-07ad894fa74c0b729c25294b68624917.png"},42472:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/play33-96b-dd6d9f6322bf96ddcd38b53b78495cff.gif"},43148:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/Screenshot 2025-01-14 at 15.27.12-37b-aacd9f282860d18c91ec279eb5b3ccaa.png"},48024:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/Screenshot 2025-01-14 at 15.25.18-1da-61271158d61b0d1867bd138b34410183.png"},58736:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/Screenshot 2025-01-14 at 15.33.35-4dd-19c777c311d6ce2bb23113b7b532f940.png"},76274:()=>{},82337:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/EarthROt-ezgif.com-optimize-add7dfdd44d4a9efa965b92415031ca1.gif"},87307:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/Screenshot 2025-01-14 at 15.32.15-c5f-a567764a57ea72eb1112d3efedbd4f02.png"},91771:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"085f9062de5d6b29d3c3a04db12eb62e.txt"},96227:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/Screenshot 2025-01-14 at 15.28.23-2f6-fb979e9118feecbba73e9079b9fc0a31.png"},98056:(e,s,a)=>{"use strict";a.d(s,{A:()=>n});const n=a.p+"assets/images/earth-97b-d9c65a0d5c8f2ceeb2bcf745b499983a.png"}}]);