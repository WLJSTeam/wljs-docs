"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[81309],{28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var c=s(96540);const i={},t=c.createContext(i);function r(e){const n=c.useContext(t);return c.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),c.createElement(t.Provider,{value:n},e.children)}},87534:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>l,toc:()=>o});var c=s(74848),i=s(28453);const t={},r=void 0,l={id:"frontend/Reference/Misc/Async",title:"Async",description:"Utils",source:"@site/docs/frontend/Reference/Misc/Async.md",sourceDirName:"frontend/Reference/Misc",slug:"/frontend/Reference/Misc/Async",permalink:"/frontend/Reference/Misc/Async",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1749492433e3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Assert",permalink:"/frontend/Reference/Misc/Assert"},next:{title:"Events",permalink:"/frontend/Reference/Misc/Events"}},a={},o=[{value:"Utils",id:"utils",level:2},{value:"<code>SetTimeout</code>",id:"settimeout",level:3},{value:"<code>SetInterval</code>",id:"setinterval",level:3},{value:"<code>PauseAsync</code>",id:"pauseasync",level:3},{value:"Asynchronous Functions",id:"asynchronous-functions",level:2},{value:"<code>AsyncFunction</code>",id:"asyncfunction",level:3},{value:"<code>Await</code>",id:"await",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h2,{id:"utils",children:"Utils"}),"\n",(0,c.jsx)(n.h3,{id:"settimeout",children:(0,c.jsx)(n.code,{children:"SetTimeout"})}),"\n",(0,c.jsxs)(n.p,{children:["Spawns an asynchronous task (a wrapper over ",(0,c.jsx)(n.code,{children:"SchelduleTask"}),"), that evaluates an expression once"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-mathematica",children:"SetTimeout[expr_, interval_Real] _TaskObject\n"})}),"\n",(0,c.jsxs)(n.p,{children:["A symbol has ",(0,c.jsx)(n.code,{children:"HoldFirst"})," attribute. An ",(0,c.jsx)(n.code,{children:"interval"})," is in ",(0,c.jsx)(n.strong,{children:"milliseconds"}),". To cancel it, use"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-mathematica",children:"CancelTimeout[_TaskObject]\n"})}),"\n",(0,c.jsx)(n.h3,{id:"setinterval",children:(0,c.jsx)(n.code,{children:"SetInterval"})}),"\n",(0,c.jsxs)(n.p,{children:["Spawns an asynchronous task (a wrapper over ",(0,c.jsx)(n.code,{children:"SchelduleTask"}),"), that evaluates an expression every ",(0,c.jsx)(n.code,{children:"interval"})," ",(0,c.jsx)(n.strong,{children:"milliseconds"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-mathematica",children:"SetInterval[expr_, interval_Real] _TaskObject\n"})}),"\n",(0,c.jsxs)(n.p,{children:["A symbol has ",(0,c.jsx)(n.code,{children:"HoldFirst"})," attribute. To cancel this task use"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-mathematica",children:"TaskRemove[_TaskObject]\n"})}),"\n",(0,c.jsx)(n.p,{children:"or"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-mathematica",children:"CancelInterval[_TaskObject]\n"})}),"\n",(0,c.jsx)(n.h3,{id:"pauseasync",children:(0,c.jsx)(n.code,{children:"PauseAsync"})}),"\n",(0,c.jsxs)(n.p,{children:["Works similar to ",(0,c.jsx)(n.code,{children:"Pause"}),", but returns ",(0,c.jsx)(n.a,{href:"/frontend/Reference/Misc/Promise",children:"Promise"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-mathematica",children:"Then[PauseAsync[3], Beep];\n"})}),"\n",(0,c.jsx)(n.h2,{id:"asynchronous-functions",children:"Asynchronous Functions"}),"\n",(0,c.jsx)(n.h3,{id:"asyncfunction",children:(0,c.jsx)(n.code,{children:"AsyncFunction"})}),"\n",(0,c.jsxs)(n.p,{children:["It works similar to ",(0,c.jsx)(n.code,{children:"Function"})]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-mathematica",children:"AsyncFunction[args, body] _Promise\n"})}),"\n",(0,c.jsxs)(n.p,{children:["One can use it as normal function, but utilizing ",(0,c.jsx)(n.a,{href:"#%60Await%60",children:(0,c.jsx)(n.code,{children:"Await"})})," keyword. On the background it restructures ",(0,c.jsx)(n.code,{children:"body"})," in the runtime."]}),"\n",(0,c.jsx)(n.h3,{id:"await",children:(0,c.jsx)(n.code,{children:"Await"})}),"\n",(0,c.jsx)(n.p,{children:"Holds the execution (non blocking to threads) until the promise is resolved and returns the result"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-mathematica",children:"Await[_ | _Promise] _\n"})}),"\n",(0,c.jsxs)(n.p,{children:["If the argument is not ",(0,c.jsx)(n.code,{children:"Promise"})," it won't pause the execution and return the result without changes."]}),"\n",(0,c.jsxs)(n.p,{children:["The following constructions are supported with ",(0,c.jsx)(n.code,{children:"Await"}),":"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"Set"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"CompoundExpression"})}),"\n",(0,c.jsx)(n.li,{children:(0,c.jsx)(n.code,{children:"If"})}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"Module"}),", ",(0,c.jsx)(n.code,{children:"With"})]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.code,{children:"_Symbol"})," or any other singular expressions"]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"What is not supported"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:["Loops: ",(0,c.jsx)(n.code,{children:"While"}),", ",(0,c.jsx)(n.code,{children:"For"}),", ",(0,c.jsx)(n.code,{children:"Do"})]}),"\n",(0,c.jsxs)(n.li,{children:["Tables and maps: ",(0,c.jsx)(n.code,{children:"Map"}),", ",(0,c.jsx)(n.code,{children:"Table"})]}),"\n"]}),"\n",(0,c.jsx)(n.p,{children:"For example:"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{className:"language-mathematica",children:'btn = InputButton[]\n\nThen[AsyncFunction[x, Module[{res},\n  Speak["Click to start"];\n  btn // Await;\n  Speak["Choose"];\n  res = ChoiceDialogAsync["Add 10?"] // Await;\n  If[res, x + 10, x] \n]][10], Speak];\n\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}}}]);