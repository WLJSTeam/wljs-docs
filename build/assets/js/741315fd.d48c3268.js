"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[65858],{4592:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/aniamtion_dummy-ezgif.com-optimize-3bbed0df2b3ce2440b75744649cc99d3.gif"},24622:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>r});var a=t(74848),i=t(28453);const s={sidebar_position:3},l="Animated Graphics",d={id:"frontend/Advanced/Slides/animations",title:"Animated Graphics",description:"Interactive Plots",source:"@site/docs/frontend/Advanced/Slides/animations.md",sourceDirName:"frontend/Advanced/Slides",slug:"/frontend/Advanced/Slides/animations",permalink:"/frontend/Advanced/Slides/animations",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1743582564e3,sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Widgets on slides",permalink:"/frontend/Advanced/Slides/Widgets on slides"},next:{title:"Animated equations",permalink:"/frontend/Advanced/Slides/Animated equations"}},o={},r=[{value:"Interactive Plots",id:"interactive-plots",level:2},{value:"Animation",id:"animation",level:2},{value:"Example 1 \ud83d\uddd2\ufe0f Dynamic Plot, Local Event Routing",id:"example-1-\ufe0f-dynamic-plot-local-event-routing",level:3},{value:"Example 2 \ud83d\udd0e Zoom",id:"example-2--zoom",level:3},{value:"Example 3 \ud83d\udd04 Simple Stat Counter",id:"example-3--simple-stat-counter",level:3},{value:"Append Graphics to a Slide",id:"append-graphics-to-a-slide",level:2},{value:"Buttons, Sliders, etc.",id:"buttons-sliders-etc",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"animated-graphics",children:"Animated Graphics"}),"\n",(0,a.jsx)(n.h2,{id:"interactive-plots",children:"Interactive Plots"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"By default"}),", everything you plot using ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Plotting%20Functions/Plot",children:"Plot"}),", ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Graphics/",children:"Graphics"}),", or ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Graphics3D/",children:"Graphics3D"})," can be dragged, panned, or rotated. This behavior is controlled by options and can be disabled if necessary. For example:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"Figure = Plot[{x, Sin[x], Sin[x]^2}, {x, 0, 2Pi}];\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:".slide\n\n# Simple plot\n\n<Figure/>\n\nTry dragging it with your mouse\n"})}),"\n",(0,a.jsx)(n.p,{children:"The result will look like the following:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(48154).A+"",width:"600",height:"401"})}),"\n",(0,a.jsx)(n.h2,{id:"animation",children:"Animation"}),"\n",(0,a.jsx)(n.p,{children:"In general, all visuals can be created in the same way as in regular cells, since the same components are used."}),"\n",(0,a.jsxs)(n.p,{children:["When a slide becomes visible or a fragment is revealed (see ",(0,a.jsx)(n.a,{href:"/frontend/Advanced/Slides/#Transitions%20and%20fragments",children:"Transitions and Fragments"}),"), it fires an event where all information is encoded. To enable this, use ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Slides/SlideEventListener",children:"SlideEventListener"}),"."]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["Place ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Slides/SlideEventListener",children:"SlideEventListener"})," anywhere on the slide to hook up the WL Kernel to all events associated with it."]})}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["Keep the dynamic variables scoped using ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Misc/Language#%60LeakyModule%60",children:(0,a.jsx)(n.code,{children:"LeakyModule"})})," and use explicit event routing as shown in ",(0,a.jsx)(n.a,{href:"/frontend/Advanced/Events%20system/routing",children:"routing"}),". This will make it easier to reuse your components on other slides."]})}),"\n",(0,a.jsx)(n.h3,{id:"example-1-\ufe0f-dynamic-plot-local-event-routing",children:"Example 1 \ud83d\uddd2\ufe0f Dynamic Plot, Local Event Routing"}),"\n",(0,a.jsxs)(n.p,{children:["Here is an example of a widget that plots a 2D dataset and updates the content on the next click using ",(0,a.jsx)(n.a,{href:"/frontend/Advanced/Slides/Fragments",children:"Fragments"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'.wlx\n\nPlotWidget[OptionsPattern[]] := Module[{\n  data = OptionValue["DataA"]\n},\n\n  With[{\n    Canvas = Graphics[{\n      ColorData[97][1], Line[data // Offload]\n    }, Axes -> True, ImageSize -> 500, TransitionDuration -> 1000],\n\n    uid = CreateUUID[],\n\n    dataA = OptionValue["DataA"],\n    dataB = OptionValue["DataB"]\n  },\n\n    EventHandler[uid, {\n      "fragment-1" -> Function[Null,\n        data = dataB\n      ],\n\n      ("Left" | "Destroy" | "Slide") -> Function[Null,\n        data = dataA\n      ]\n    }];\n\n    <div class="flex flex-col gap-y-2">\n      <Canvas/>\n      <div class="fragment">Dummy text</div>\n      <SlideEventListener Id={uid}/>\n    </div>\n  ]\n]\n\nOptions[PlotWidget] = {"DataA" -> {}, "DataB" -> {}};\n'})}),"\n",(0,a.jsx)(n.p,{children:"Now generate a dummy dataset:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",children:"{dataA, dataB} = {\n  Table[{x, Sin[x]}, {x, 0, 5Pi, 0.1}],\n  Table[{x, Tan[x]}, {x, 0, 5Pi, 0.1}]\n};\n"})}),"\n",(0,a.jsx)(n.p,{children:"And place it anywhere on a slide:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:".slide\n\n# Title\n\n<PlotWidget DataA={dataA} DataB={dataB}/>\n\n---\n\nGo back?\n"})}),"\n",(0,a.jsx)(n.p,{children:"The result:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(4592).A+"",width:"800",height:"456"})}),"\n",(0,a.jsx)(n.h3,{id:"example-2--zoom",children:"Example 2 \ud83d\udd0e Zoom"}),"\n",(0,a.jsx)(n.p,{children:"Zoom into the graph:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-mathematica",metastring:'title="cell 1"',children:'Plt[OptionsPattern[]] := With[{ev = OptionValue["Zoom"], scene = FrontInstanceReference[]},\n  EventHandler[ev, {\n    "Slide" -> Function[Null,\n      FrontSubmit[ZoomAt[1], scene]\n    ],\n\n    "fragment-1" -> Function[Null,\n      FrontSubmit[ZoomAt[2], scene]\n    ]\n  }];\n  \n  Plot[Sinc[x], {x, -10, 10}, Epilog -> {scene}]\n]\n\nOptions[Plt] = {"Zoom" -> ""}\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",metastring:'title="cell 2"',children:'.slide\n\n# Zoom in\n\n---\n\n<Plt Zoom={"vslide"}/>\n\nZoom \x3c!-- .element: class="fragment fade-in" data-fragment-index="1" --\x3e \n\n<SlideEventListener Id={"vslide"}/>\n'})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(57374).A+"",width:"800",height:"378"})}),"\n",(0,a.jsx)(n.h3,{id:"example-3--simple-stat-counter",children:"Example 3 \ud83d\udd04 Simple Stat Counter"}),"\n",(0,a.jsx)(n.p,{children:"What if you need to add some dynamic stats to your presentation? You can create an independent component for that:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'.wlx\n\nStat[Text_, OptionsPattern[]] := LeakyModule[{\n  cnt = 0, \n  task\n}, With[{\n  ev = CreateUUID[],\n  HTMLCounter = HTMLView[cnt // Offload],\n  max = OptionValue["Count"]\n},\n  EventHandler[ev, {\n    "Destroy" -> Function[Null,\n      EventRemove[ev]; \n      If[task["TaskStatus"] === "Running", TaskRemove[task]];\n      ClearAll[task];\n    ],\n\n    "Left" -> Function[Null,\n      cnt = 0;\n    ],\n\n    "Slide" -> Function[Null,\n      If[task["TaskStatus"] === "Running", TaskRemove[task]];\n      task = SetInterval[\n        If[cnt < max, cnt = cnt + 1,\n          TaskRemove[task];\n        ];\n      , 15];\n    ]\n  }];\n\n  <div class="text-center text-gray-600 m-4 p-4 rounded bg-gray-100 flex flex-col">\n    <HTMLCounter/>\n    <span class="text-md"><Text/></span>\n    <SlideEventListener Id={ev}/>\n  </div>\n] ]\n\nOptions[Stat] = {"Count" -> 1};\n'})}),"\n",(0,a.jsx)(n.p,{children:"You can place them on any slide (as many as you want):"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'.slide\n\n# Dynamic Stats\nHere is our data\n\n<div class="justify-center flex flex-row ml-auto mr-auto">\n\n<Stat Count={128}>Label 1</Stat>\n<Stat Count={256}>Label 2</Stat>\n\n</div>\n'})}),"\n",(0,a.jsx)(n.p,{children:"Here is the result:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(93887).A+"",width:"800",height:"313"})}),"\n",(0,a.jsx)(n.h2,{id:"append-graphics-to-a-slide",children:"Append Graphics to a Slide"}),"\n",(0,a.jsxs)(n.p,{children:["Use ",(0,a.jsx)(n.a,{href:"/frontend/Reference/Frontend%20IO/FrontInstanceReference",children:"FrontInstanceReference"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"buttons-sliders-etc",children:"Buttons, Sliders, etc."}),"\n",(0,a.jsxs)(n.p,{children:["See examples in ",(0,a.jsx)(n.a,{href:"/frontend/Reference/GUI/InputRange",children:"InputRange"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>d});var a=t(96540);const i={},s=a.createContext(i);function l(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),a.createElement(s.Provider,{value:n},e.children)}},48154:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/ezgif.com-optimize 1-15bea37613ccb30c3df8c4bfa4db1f5a.gif"},57374:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/ZoomIn video to gif-ae93b6a3aa56851f320253d991ed9a81.gif"},93887:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/dynamicstats-ezgif.com-video-to-gif-converter-13d823691347f3aaccfa0df001852a7e.gif"}}]);