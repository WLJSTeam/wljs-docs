"use strict";(self.webpackChunkwljs_docs=self.webpackChunkwljs_docs||[]).push([[360],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),p=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=p(a),u=r,h=c["".concat(s,".").concat(u)]||c[u]||d[u]||o;return a?n.createElement(h,l(l({ref:t},m),{},{components:a})):n.createElement(h,l({ref:t},m))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,l=new Array(o);l[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:r,l[1]=i;for(var p=2;p<o;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},7271:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const o={},l="Frontend Objects",i={unversionedId:"frontend/Advanced/frontend-objects",id:"frontend/Advanced/frontend-objects",title:"Frontend Objects",description:"Is in development",source:"@site/docs/frontend/Advanced/frontend-objects.md",sourceDirName:"frontend/Advanced",slug:"/frontend/Advanced/frontend-objects",permalink:"/wljs-docs/docs/frontend/Advanced/frontend-objects",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"frontendSidebar",previous:{title:"Event generators",permalink:"/wljs-docs/docs/frontend/Advanced/Event-generators"},next:{title:"Exporting formats",permalink:"/wljs-docs/docs/category/exporting-formats"}},s={},p=[{value:"As a decoration",id:"as-a-decoration",level:2},{value:"As a pointer",id:"as-a-pointer",level:2},{value:"Mutabillity",id:"mutabillity",level:3},{value:"Direct update (the fastest)",id:"direct-update-the-fastest",level:4},{value:"Nesting",id:"nesting",level:3},{value:"Dynamic binding",id:"dynamic-binding",level:3},{value:"Instancing",id:"instancing",level:3},{value:"\ud83d\udea7 Applying | Injection arguments",id:"-applying--injection-arguments",level:3},{value:"Cheat-sheet",id:"cheat-sheet",level:2},{value:"Summary | TLDR",id:"summary--tldr",level:2},{value:"How to create",id:"how-to-create",level:3},{value:"How to get the data",id:"how-to-get-the-data",level:3},{value:"How to update",id:"how-to-update",level:3},{value:"Data and view separation | Nesting",id:"data-and-view-separation--nesting",level:3},{value:"Inline frontend objects",id:"inline-frontend-objects",level:2}],m={toc:p},c="wrapper";function d(e){let{components:t,...o}=e;return(0,r.kt)(c,(0,n.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"frontend-objects"},"Frontend Objects"),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Is in development")),(0,r.kt)("p",null,"This is one of the key-element of the interpreter and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wolfram-js-frontend"},"frontend"),". In general it can be decribed as"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"a pointer to the sharable storage for the WL expressions on frontend/server"),(0,r.kt)("li",{parentName:"ul"},"a [","[../Decorations]","]  - (possibly) displayable interactive object in the notebook cell")),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"general definition")," will be"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("em",{parentName:"p"},"an isolated container, where the ",(0,r.kt)("a",{parentName:"em",href:"Frontend%20functions.md"},"frontend functions")," can be executed")),(0,r.kt)("blockquote",{parentName:"blockquote"},(0,r.kt)("p",{parentName:"blockquote"},"one can also use virtual containers see [","[Frontend functions#Virtual containers]","]"))),(0,r.kt)("p",null,"In this regard all graphics are frontend objects. Any code you want to ",(0,r.kt)("em",{parentName:"p"},"store and compute")," purely on frontend are frontend objects."),(0,r.kt)("p",null,"To have an overview of all function - see ",(0,r.kt)("a",{parentName:"p",href:"Docs/Reference.md"},"Reference")),(0,r.kt)("h2",{id:"as-a-decoration"},"As a decoration"),(0,r.kt)("p",null,"The direct representation of it is"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutable["uid"]\n')),(0,r.kt)("p",null,"CodeMirror 6 finds this pattern and replace it with a corresponding frontend object as a [","[../Decorations]","] and executes it immediately using ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wljs-interpreter"},"WLJS Interpreter"),". For example, on the server ==WL Kernel converts before sending to the frontend the result== to"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'Graphics3D[...] <-> FrontEndExecutable["uid"]\n')),(0,r.kt)("p",null,"To define your own function like this see - [","[Writting WebObject]","]. ",(0,r.kt)("strong",{parentName:"p"},"I.e. registered graphics objects (2D, 3D, sliders...) automatically create frontened objects of themself"),". "),(0,r.kt)("p",null,"The process happends in ",(0,r.kt)("inlineCode",{parentName:"p"},"Kernel/Evaluator.wl")," on the secondary kernel only according to the tables generated by ",(0,r.kt)("inlineCode",{parentName:"p"},"Kernel/WebObjects.wl"),".  "),(0,r.kt)("p",null,"More information about the evalution cycle - ",(0,r.kt)("a",{parentName:"p",href:"Evaluation.md"},"Evaluation"),"."),(0,r.kt)("p",null,"In principle it looks quite simmilar to Mathematica's ",(0,r.kt)("inlineCode",{parentName:"p"},"MakeBoxes")," feature, where you can define a view for the any arbitary object. For example, ",(0,r.kt)("inlineCode",{parentName:"p"},"EventObject")," uses quite simmilar approach (see [","[Events]","], ",(0,r.kt)("a",{parentName:"p",href:"Evaluation.md"},"Evaluation"),"), where there is an upvalues definition"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CM6Form[EventObject[assoc_]] ^:= CreateFrontEndObject[assoc["view"]] \n')),(0,r.kt)("p",null,"where ",(0,r.kt)("inlineCode",{parentName:"p"},"CM6Form")," is applied at any visible cell's output. That's why if you create a slider and just print it it will show a real slider you can drag. "),(0,r.kt)("p",null,"The replaced function is stored separately in objects storage in ExpressionJSON format. After the evaluation ",(0,r.kt)("inlineCode",{parentName:"p"},"Kernel/Evaluator.wl")," returns ",(0,r.kt)("inlineCode",{parentName:"p"},"ExtendDefinitions[Global'$NewDefinitions]")," to the master kenrel, that extends the object storage in the given notebook"),(0,r.kt)("p",null,"It can also hapend in the opposite direction, where the a new kernel is looking for some objects, it will ask the master kernel to provide one."),(0,r.kt)("p",null,"Our frontened (in a browser) can ask for those object using ",(0,r.kt)("inlineCode",{parentName:"p"},'NotebookGetObject["uid"]'),", that happends automatically, when the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wljs-interpreter"},"WLJS Interpreter")," executes ",(0,r.kt)("inlineCode",{parentName:"p"},'FrontEndExecutable["uid"]')," invoked by CodeMirror editor in a cell. Each call returns JS promise object, which makes the whole process fully asynchronious."),(0,r.kt)("p",null,"In general, one has to write a JS representation of any symbol, which appears inside the ",(0,r.kt)("inlineCode",{parentName:"p"},'FrontEndExecutable["uid"]'),", otherwise frontened causes an exception. "),(0,r.kt)("p",null,"One can force Wolfram to threat an expression as frontend object by calling inside the cell"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[\n    Graphics3D[...],\n    "uid"\n]\n')),(0,r.kt)("p",null,"The result will be the same."),(0,r.kt)("h2",{id:"as-a-pointer"},"As a pointer"),(0,r.kt)("p",null,"It acts as a pointer to the data on frontend, which is mutable by the server. There a some key features"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"syncs ",(0,r.kt)("inlineCode",{parentName:"li"},"WL/server")," ",(0,r.kt)("span",{parentName:"li",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mo",{parentName:"mrow"},"\u2192")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\rightarrow")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.3669em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"\u2192")))))," ",(0,r.kt)("inlineCode",{parentName:"li"},"frontend/browser"),"  automatically, when called for the first time"),(0,r.kt)("li",{parentName:"ul"},"mutable by the server on every cell evaluation (slow)"),(0,r.kt)("li",{parentName:"ul"},"mutable by the server directly (the fastest)",(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"use frontened function ",(0,r.kt)("inlineCode",{parentName:"p"},"SetFrontEndObject")," "))),(0,r.kt)("li",{parentName:"ul"},"mutable by the frontend",(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"this one is still questinable, but can be implemented later")))),(0,r.kt)("p",null,"To check the available method of transfering the data between JS frontend and WL see [","[Advanced data transfering and visualisation]","]"),(0,r.kt)("p",null,"An object can be created manually by calling inside cell as it was done in [","[#As a decoration]","]"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[\n    Table[i^2, {i,1,10}],\n    "uid"\n]\n')),(0,r.kt)("p",null,"You can check the data inside by just calling"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'> FrontEndExecutable["uid"]\n> {1,4,9,...}\n')),(0,r.kt)("p",null,"Then, you can use it as a reference in some other frontened object like"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[FrontEndOnly[\n    ListLinePlotly@FrontEndExecutable["uid"]\n]]\n')),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[\n    ListLinePlotly@FrontEndRef["uid"]\n]\n')),(0,r.kt)("p",null,"or even like this"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[\n    ListLinePlotly@FrontEndRef[FrontEndExecutable["uid"]]\n]\n')),(0,r.kt)("p",null,"and since ",(0,r.kt)("inlineCode",{parentName:"p"},"ListLinePlotly")," is a registered object"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'ListLinePlotly@FrontEndRef[FrontEndExecutable["uid"]]\n')),(0,r.kt)("p",null,"Here we wrapped the given data into ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndOnly"),", that holds the expressions for WL and prevents evaluation of server, leaving the code to be executed on frontend. The latest example instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndOnly")," we used ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndRef"),", that basically holds ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndExecutable")," and prevents it from the evaluation."),(0,r.kt)("p",null,"If you do not want CodeMirror to replace it with a decorations use non-executable synonym "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutable["uid"] -> FrontEndRef["uid"]\n')),(0,r.kt)("p",null,"More about computations like this - see [","[../Heterogenesis computation/Basics]","]\nAlso check out the tutorial [","[Working with frontend objects]","]"),(0,r.kt)("h3",{id:"mutabillity"},"Mutabillity"),(0,r.kt)("p",null,"Each time you reevaluate the cell content, where the object was created - an Evaluator (",(0,r.kt)("inlineCode",{parentName:"p"},"Kernel/Evaluator.wl"),") fires ",(0,r.kt)("inlineCode",{parentName:"p"},"ExtendDefinitions")," on a master kernel. It compares the new objects to the old data in the Notebook object property and shares the changed objects across all connected clients (associated with the given notebook)."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"See ",(0,r.kt)("inlineCode",{parentName:"p"},"NotebookExtendDefinitions")," function in ",(0,r.kt)("inlineCode",{parentName:"p"},"Kernel/Notebook.wl"),".")),(0,r.kt)("h4",{id:"direct-update-the-fastest"},"Direct update (the fastest)"),(0,r.kt)("p",null,"Sends the data directly to the frontened leaving out the master kernel (see [","[Evaluation]","])"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'SetFrontEndObject["uid",\n    Table[i^3, {i,1,10}]\n]//SendToFrontEnd;\n')),(0,r.kt)("p",null,"or in the same fashion, but prettier "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'SetFrontEndObject[FrontEndExecutable["uid"],\n    Table[i^3, {i,1,10}]\n]//SendToFrontEnd;\n')),(0,r.kt)("p",null,"or even better (WOW)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutable["uid"] = Table[i^3, {i,1,10}]\n')),(0,r.kt)("p",null,"or if you do not want CM6 to draw it"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndRef["uid"] = Table[i^3, {i,1,10}]\n')),(0,r.kt)("p",null,"In principle one can send any command and call any function of the frontened by using ",(0,r.kt)("inlineCode",{parentName:"p"},"SendToFrontEnd"),". More info - see [","[Advanced data transfering and visualisation]","]"),(0,r.kt)("h3",{id:"nesting"},"Nesting"),(0,r.kt)("p",null,"One can create a frontend object, that has a reference to another one and etc. The benifits of this approach you will see in ",(0,r.kt)("a",{parentName:"p",href:"#Dynamic%20binding"},"Dynamic binding")," section"),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(8257).Z,width:"1164",height:"656"})),(0,r.kt)("p",null,"in the example above it shows how typical ",(0,r.kt)("inlineCode",{parentName:"p"},"Manipulate")," function can be imlemented. In the simples case it has three parts"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"a slider to control the variables"),(0,r.kt)("li",{parentName:"ul"},"a graphical object (Plot) that shows the results"),(0,r.kt)("li",{parentName:"ul"},"the data, that is provided to the plotting function")),(0,r.kt)("p",null,"and actaully there is a forth one - ",(0,r.kt)("inlineCode",{parentName:"p"},"Panel"),", which holds the first two. All of them are frontend objects. Of course this contruction can be generated automatically"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'slider = Slider[];\n...\nWith[{plot = CreateFrontEndObject[ListLinePlotly[FrontEndRef["data"]], "plot"]},\n    With[{slider = CreateFrontEndObject[slider, "slider"]},\n        CreateFrontEndObject[FrontEndOnly@Panel[{slider, plot}], "panel"]\n    ]\n]\n')),(0,r.kt)("p",null,"or it can be rewritten in a more compact way (if you want to use IDs)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'slider = Slider[];\n...\nCreateFrontEndObject[slider, "slider"];\nCreateFrontEndObject[ListLinePlotly[FrontEndRef["data"]], "plot"];\n\nCreateFrontEndObject[Panel[{FrontEndRef["slider"], FrontEndRef["plot"]}]]\n')),(0,r.kt)("p",null,"the last one goes to the output cell. But sure, you will also need to define a handler for a slider on Wolfram Kernel's side to update ",(0,r.kt)("inlineCode",{parentName:"p"},"data")," object."),(0,r.kt)("h3",{id:"dynamic-binding"},"Dynamic binding"),(0,r.kt)("p",null,"The ideas for WLJS Frontened were inspired by an amazing project ",(0,r.kt)("a",{parentName:"p",href:"https://observablehq.com/@jerryi"},"Observable")," - JS notebook interface working in the browser, where the dynamics was polished perfectly."),(0,r.kt)("p",null,"In Observable all expressions are ",(0,r.kt)("inlineCode",{parentName:"p"},"Dynamic")," in terms of Mathematica by the default. Me, as a maintener (@JerryI) tried to bring it as close as possible to such behaviour, leaving out laggs as possible of Mathematica's frontened."),(0,r.kt)("p",null,"Therefore, ==all frontened objects aka ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndExecutable")," are dynamic by the default==. The change in one will cause the updates to ones, which depends on it. This behaviuor is achived by collecting all calls of frontened functions and storing them to special handlers assigned to each frontend object. In principle we do not even need WL Kernel to update the content."),(0,r.kt)("p",null,"Let us try to explain it in following example"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"create such an object")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[ Table[Sin[i]//N, {i,0,2Pi,0.1}] , "myObject"]\n')),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"create a visualiser for it")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[FrontEndOnly[\n  ListLinePlotly[FrontEndExecutable["myObject"]]\n], "visualiser"]\n')),(0,r.kt)("p",null,"The last cell creates another frontend object ",(0,r.kt)("inlineCode",{parentName:"p"},'"visualiser"'),", which depends on the ",(0,r.kt)("inlineCode",{parentName:"p"},'"myObject"'),". ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wljs-interpreter"},"WLJS Interpreter"),' creates a straightforward "link" between them\n',(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"m"),(0,r.kt)("mi",{parentName:"mrow"},"y"),(0,r.kt)("mi",{parentName:"mrow"},"O"),(0,r.kt)("mi",{parentName:"mrow"},"b"),(0,r.kt)("mi",{parentName:"mrow"},"j"),(0,r.kt)("mi",{parentName:"mrow"},"e"),(0,r.kt)("mi",{parentName:"mrow"},"c"),(0,r.kt)("mi",{parentName:"mrow"},"t"),(0,r.kt)("mo",{parentName:"mrow"},"\u2192"),(0,r.kt)("mi",{parentName:"mrow"},"v"),(0,r.kt)("mi",{parentName:"mrow"},"i"),(0,r.kt)("mi",{parentName:"mrow"},"s"),(0,r.kt)("mi",{parentName:"mrow"},"u"),(0,r.kt)("mi",{parentName:"mrow"},"a"),(0,r.kt)("mi",{parentName:"mrow"},"l"),(0,r.kt)("mi",{parentName:"mrow"},"i"),(0,r.kt)("mi",{parentName:"mrow"},"s"),(0,r.kt)("mi",{parentName:"mrow"},"e"),(0,r.kt)("mi",{parentName:"mrow"},"r")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"myObject \\rightarrow visualiser")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8889em",verticalAlign:"-0.1944em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"m"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"y"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"O"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05724em"}},"bj"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"ec"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"t"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"\u2192"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2778em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.6944em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"s"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"u"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"a"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.01968em"}},"l"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"i"),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.02778em"}},"ser"))))),"\nwhere any changes to ",(0,r.kt)("inlineCode",{parentName:"p"},'"myObject"')," will lead to internal reavaluation (on frontend's side!) of ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndOnly")," function and its content, i.e. call somewhere the following"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"make changes directly")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'Do[SetFrontEndObject[FrontEndExecutable["myObject"],\n\n  Table[Sin[i*j]//N, {i,0, 2Pi, 0.1}]\n  \n] // SendToFrontEnd; Pause[0.3];, {j, 1,10}];\n')),(0,r.kt)("p",null,"or with a bit of a syntax sugar available"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'Do[\n    FrontEndExecutable["myObject"] = Table[Sin[i*j]//N, {i,0, 2Pi, 0.1}];\n    Pause[0.3];\n, {j, 10}];\n')),(0,r.kt)("p",null,"After than you will see a nice animation of the output of second cell without actual reevaluation"),(0,r.kt)("p",null,"![","[../../imgs/plotly-dynamic.gif]","]"),(0,r.kt)("p",null,"One could argue that this is an actual reevaluation, which might be quite slow. However, during this process ==an additional information to the whole stack of called functions is provided regaring of a type of an update, i.e. restyling, data update, data append and etc==. Therefore, each WLJS function can optimise its behaviour to gain perfomance - see section ",(0,r.kt)("inlineCode",{parentName:"p"},"Methods")," in ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/JerryI/wljs-interpreter"},"WLJS Interpreter")," and ",(0,r.kt)("a",{parentName:"p",href:"Frontend%20functions.md"},"Frontend functions")),(0,r.kt)("p",null,"This is a just a top of the surface, the things you can do with it are quite bigger..."),(0,r.kt)("h3",{id:"instancing"},"Instancing"),(0,r.kt)("p",null,"Each call of ",(0,r.kt)("inlineCode",{parentName:"p"},'FrontEndExecutable["uid"]')," creates an instance of the corresponding object with its local memory (see more ",(0,r.kt)("a",{parentName:"p",href:"Frontend%20functions.md"},"Frontend functions"),"). So copying and pasting"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutable["myId"] FrontEndExecutable["myId"] FrontEndExecutable["myId"]\n')),(0,r.kt)("p",null,"you will create separate objects connected to the same storage item with ",(0,r.kt)("inlineCode",{parentName:"p"},"uid")," as an identifier."),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(6280).Z,width:"1002",height:"499"})),(0,r.kt)("h3",{id:"-applying--injection-arguments"},"\ud83d\udea7 Applying | Injection arguments"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"This feature is still in development"),", however the idea is that sometimes we do not need to create separate ",(0,r.kt)("inlineCode",{parentName:"p"},"FrontEndExecutable")," s to modify one slightly. Therefore one could pass an extra information for the instance"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutable["uid", extra arguments...]\n')),(0,r.kt)("p",null,"If it would be possible, one could also add support ",(0,r.kt)("inlineCode",{parentName:"p"},"Function")," symbol to the frontend. And then, we can for sure perform recalculations directly on the frontend! See more in ",(0,r.kt)("a",{parentName:"p",href:"Frontend%20functions.md"},"Frontend functions")),(0,r.kt)("h2",{id:"cheat-sheet"},"Cheat-sheet"),(0,r.kt)("p",null,"for the brief explanation"),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(9645).Z,width:"1772",height:"1412"})),(0,r.kt)("h2",{id:"summary--tldr"},"Summary | TLDR"),(0,r.kt)("p",null,"For the best experience - check the tutorial [","[How to work with ]","], which is a real notebook exported from the frontend to a standalone ",(0,r.kt)("inlineCode",{parentName:"p"},".html")," file."),(0,r.kt)("h3",{id:"how-to-create"},"How to create"),(0,r.kt)("p",null,"For the registered types (see ",(0,r.kt)("a",{parentName:"p",href:"Writting%20WebObject.md"},"Writting WebObject"),")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},"ListLinePlotly[{1,2,3,4,5}]\n")),(0,r.kt)("p",null,"or explicitly assigning a custom id"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[\n    ListLinePlotly[{1,2,3,4,5}],\n    "myId"\n]\n')),(0,r.kt)("p",null,"for you data"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[\n    {1,2,3,4,5},\n    "myDataId"\n]\n')),(0,r.kt)("p",null,"In the all cases it returns"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'> FrontEndExecutable["myId"]\n> FrontEndExecutable["myDataId"]\n')),(0,r.kt)("h3",{id:"how-to-get-the-data"},"How to get the data"),(0,r.kt)("p",null,"On WL's side it works if there was no wrapper around"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutable["myDataId"][[1]]\n> 1\n')),(0,r.kt)("h3",{id:"how-to-update"},"How to update"),(0,r.kt)("p",null,"Explicitly it can be done by reevaluating the corresponding cell"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'CreateFrontEndObject[\n    ListLinePlotly[{1,2,3,4,5}//Reverse],\n    "myId"\n]\n')),(0,r.kt)("p",null,"after the evaluating, all instances of ",(0,r.kt)("inlineCode",{parentName:"p"},'FrontEndExecutable["myId"]')," shown on the screen in any cell will be updated. Check the tutorial ","[W]"," to see it in a better way."),(0,r.kt)("p",null,"But this is slow, direct update is faster"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'SetFrontEndObject["myId", ListLinePlotly[{1,2,3,4,5}//Reverse]] // SendToFrontEnd;\n')),(0,r.kt)("p",null,"this is also valid"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'SetFrontEndObject[FrontEndExecutable["myId"], ListLinePlotly[{1,2,3,4,5}//Reverse]] // SendToFrontEnd;\n')),(0,r.kt)("p",null,"and this is too"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutable["myId"] = ListLinePlotly[{1,2,3,4,5}//Reverse];\n')),(0,r.kt)("p",null,"and this is too"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndRef["myId"] = ListLinePlotly[{1,2,3,4,5}//Reverse];\n')),(0,r.kt)("h3",{id:"data-and-view-separation--nesting"},"Data and view separation | Nesting"),(0,r.kt)("p",null,"To update the data separately from the plotting function"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'ListLinePlotly[FrontEndRef[FrontEndExecutable["myDataId"]]]\n')),(0,r.kt)("p",null,"or"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'ListLinePlotly[FrontEndRef["myDataId"]]\n')),(0,r.kt)("p",null,"Then you can update the data only"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutable["myDataId"] = RandomReal[{-1,1}, 4];\n')),(0,r.kt)("p",null,"or attach a slider to it"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'slider = Slider[0,1,0.1];\nFunction[x, FrontEndExecutable["myDataId"] = x RandomReal[{-1,1}, 4]] // slider;\n\nslider\n')),(0,r.kt)("h2",{id:"inline-frontend-objects"},"Inline frontend objects"),(0,r.kt)("p",null,"One can compress small FE objects in way like"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mathematica"},'FrontEndExecutableInline["JSON expression"]\n')))}d.isMDXComponent=!0},6280:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/intancing.excalidraw-740bed8824dbb7180e90d9efbd8c61d7.svg"},8257:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/manipulate-frontend-example.excalidraw-44cc6f3f8daedf7cf172282b0046ab97.svg"},9645:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/working-with-frontend-object.excalidraw-5f40e4d2dcb9d18814023e021aaf1ead.svg"}}]);