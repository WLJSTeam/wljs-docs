"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[8722],{22554:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});var o=r(74848),t=r(28453);const s={},i=void 0,a={id:"frontend/Development/Expressions rendering",title:"Expressions rendering",description:"What you see in the cell below",source:"@site/docs/frontend/Development/Expressions rendering.md",sourceDirName:"frontend/Development",slug:"/frontend/Development/Expressions rendering",permalink:"/frontend/Development/Expressions rendering",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1739462254e3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Contexts",permalink:"/frontend/Development/Contexts"},next:{title:"Structure",permalink:"/frontend/Development/Plugins/Structure"}},c={},l=[{value:"Large Expressions",id:"large-expressions",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components},{CodeMirror:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CodeMirror",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"What you see in the cell below"}),"\n",(0,o.jsx)(r,{children:"(*FB[*)((1)(*,*)/(*,*)(2))(*]FB*)"}),"\n",(0,o.jsx)(n.p,{children:"or"}),"\n",(0,o.jsx)(r,{children:'(*VB[*)(Graphics[{RGBColor[0.87, 0.94, 1], Disk[{0, 0}, 1], RGBColor[1, 0.5, 0.5], Disk[{0, 0}, 0.6]}])(*,*)(*"1:eJxTTMoPSmNkYGAoZgESHvk5KRAeB5BwL0osyMhMLk5jgcn7ZBaXpDHD5IPcnZzzc/KLiq4vLrDluv7avkhknfvDKpF39pkgM9KYYNpcMouzETyQIZlAmgFCgJVimAkWLmIAgwf2cAZxZhYZg8FjewCvfy0F"*)(*]VB*)'}),"\n",(0,o.jsxs)(n.p,{children:["is called ",(0,o.jsx)(n.a,{href:"/frontend/Reference/Formatting/StandardForm",children:"StandardForm"}),". It is still valid for evaluation and can be copied and pasted. If you look on the underlying text using any text-editor you will see"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mathematica",children:"(*FB[*)((1)(*,*)/(*,*)(2))(*]FB*)\n"})}),"\n",(0,o.jsx)(n.p,{children:"and"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mathematica",children:'(*VB[*)(Graphics[{RGBColor[0.87, 0.94, 1], Disk[{0, 0}, 1], RGBColor[1, 0.5, 0.5], Disk[{0, 0}, 0.6]}])(*,*)(*"1:eJxTTMoPSmNkYGAoZgESHvk5KRAeB5BwL0osyMhMLk5jgcn7ZBaXpDHD5IPcnZzzc/KLiq4vLrDluv7avkhknfvDKpF39pkgM9KYYNpcMouzETyQIZlAmgFCgJVimAkWLmIAgwf2cAZxZhYZg8FjewCvfy0F"*)(*]VB*)\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Looking closely at it, we can see that it is still a normal ",(0,o.jsx)(n.code,{children:"(1/2)"})," expression as well as a normal ",(0,o.jsx)(n.a,{href:"/frontend/Reference/Graphics/",children:"Graphics"})," expression. If you remove all comments, it becomes a valid ",(0,o.jsx)(n.a,{href:"/frontend/Reference/Formatting/InputForm",children:"InputForm"}),". Here comes a ",(0,o.jsx)(n.strong,{children:"rule"}),":"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["Any ",(0,o.jsx)(n.code,{children:"StandardForm"})," output is a decorated ",(0,o.jsx)(n.code,{children:"InputForm"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["These ",(0,o.jsx)(n.em,{children:"special"})," comment blocks instruct an editor on how to render the content. For many common decorations, such as fractions or powers, we use a specialized shorthand notation. For arbitrary blocks (such as ",(0,o.jsx)(n.code,{children:"Graphics"})," or ",(0,o.jsx)(n.code,{children:"DateObject"}),"), we provide a base64-encoded string containing Wolfram Expressions, which are displayed instead of the original input. You can read more about this in ",(0,o.jsx)(n.a,{href:"/frontend/Reference/Formatting/Low-level/ViewBox",children:"ViewBox"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"large-expressions",children:"Large Expressions"}),"\n",(0,o.jsxs)(n.p,{children:["Storing an entire ",(0,o.jsx)(n.code,{children:"Plot"})," inside a cell can be problematic for a standard text editor. To handle this, we use a compromise: if a displayable expression exceeds a certain threshold, we convert it into a ",(0,o.jsx)(n.a,{href:"/frontend/Advanced/Frontend%20interpretation/Frontend%20Objects",children:"Frontend Object"}),". For example, the output of:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mathematica",children:"Plot[x, {x,0,1}]\n"})}),"\n",(0,o.jsx)(n.p,{children:"is actually stored as:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mathematica",children:'(*VB[*)(FrontEndRef["ad6334f1-31ea-40c2-bf53-7a18320bc17e"])(*,*)(*"1:eJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKJ6aYGRubpBnqGhumJuqaGCQb6SalmRrrmicaWhgbGSQlG5qnAgCDbBWK"*)(*]VB*)\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Here, ",(0,o.jsx)(n.code,{children:'"ad6334f1-31ea-40c2-bf53-7a18320bc17e"'})," is a unique identifier for the Wolfram Expression, which is stored separately in a JSON database. This process does not alter the expression and remains entirely controllable (determining what and when to convert)."]}),"\n",(0,o.jsxs)(n.p,{children:["Such JSON objects are automatically retrieved from the memory of either the ",(0,o.jsx)(n.em,{children:"main kernel"})," or the ",(0,o.jsx)(n.em,{children:"evaluation kernel"}),", depending on which is available first. Typically, they are created on the ",(0,o.jsx)(n.em,{children:"evaluation kernel"}),' and then fetched by a browser. When you save a notebook, all "used" objects on the page are synchronized with the ',(0,o.jsx)(n.em,{children:"main kernel"})," and serialized into the notebook file. This mechanism ensures that unused expressions do not accumulate in the ",(0,o.jsx)(n.em,{children:"main kernel"})," memory."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>a});var o=r(96540);const t={},s=o.createContext(t);function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);