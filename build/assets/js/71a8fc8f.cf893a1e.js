"use strict";(self.webpackChunkwljs_docs=self.webpackChunkwljs_docs||[]).push([[7100],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),l=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return r.createElement(c.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(n),m=a,h=d["".concat(c,".").concat(m)]||d[m]||u[m]||i;return n?r.createElement(h,o(o({ref:t},p),{},{components:n})):r.createElement(h,o({ref:t},p))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9128:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var r=n(7462),a=(n(7294),n(3905));const i={sidebar_position:2},o="Containers",s={unversionedId:"interpreter/Advanced/containers",id:"interpreter/Advanced/containers",title:"Containers",description:"The general definition will be",source:"@site/docs/interpreter/Advanced/containers.md",sourceDirName:"interpreter/Advanced",slug:"/interpreter/Advanced/containers",permalink:"/wljs-docs/docs/interpreter/Advanced/containers",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"interpreterSidebar",previous:{title:"Architecture of symbols",permalink:"/wljs-docs/docs/interpreter/Advanced/architecture"},next:{title:"Definitions",permalink:"/wljs-docs/docs/interpreter/Advanced/symbols"}},c={},l=[{value:"Dynamic binding",id:"dynamic-binding",level:3}],p={toc:l},d="wrapper";function u(e){let{components:t,...i}=e;return(0,a.kt)(d,(0,r.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"containers"},"Containers"),(0,a.kt)("p",null,"The ",(0,a.kt)("strong",{parentName:"p"},"general definition")," will be"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("em",{parentName:"p"},"an isolated container, where the ",(0,a.kt)("a",{parentName:"em",href:"/wljs-docs/docs/interpreter/Advanced/symbols"},"defined functions")," can be executed"))),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"All dynamic variables and graphics expressions like ",(0,a.kt)("inlineCode",{parentName:"p"},"Graphics"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"Graphics3D")," has to be executed inside the container, since it provides an identifier, local memory to the expression, that was called (for each call). ")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"first key feature, why we need containers")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"core.MyFunction = async (args, env) => {\n    env.local  = {} //pointer to the local memory of the instance\n    env.global = {} //pointer to the global memory of the call tree\n    env //sharable memory (isolated by Lists)\n}\n")),(0,a.kt)("p",null,"Containers help to work with the data more efficiently. For example, if we plot a graph using the data that changes with the time, it order to update the graph ",(0,a.kt)("strong",{parentName:"p"},"without reevaluation")," one can find an instance of this executed plotting function and provide a new data to it."),(0,a.kt)("h3",{id:"dynamic-binding"},"Dynamic binding"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"second key feature, why we need containers"),"\nThe ideas for WLJS Frontend were inspired by an amazing project ",(0,a.kt)("a",{parentName:"p",href:"https://observablehq.com/@jerryi"},"Observable")," - JavaScript notebook interface working in the browser, where the dynamics was polished perfectly."),(0,a.kt)("p",null,"In Observable all expressions are ",(0,a.kt)("inlineCode",{parentName:"p"},"Dynamic")," in terms of Mathematica by the default. Me, as a maintainer (@JerryI) I tried to bring it as close as possible to such behaviour, leaving out lags of Mathematica's frontend and functions overhead as mush as possible."),(0,a.kt)("p",null,"Therefore, ",(0,a.kt)("strong",{parentName:"p"},"all user's defined symbols are containers"),", ",(0,a.kt)("strong",{parentName:"p"},"all graphics objects should also be containers"),", and all containers are dynamic by default. "),(0,a.kt)("p",null,(0,a.kt)("img",{src:n(2406).Z,width:"915",height:"822"})),(0,a.kt)("p",null,"The change in one will cause the updates to ones, which depends on it. This behaviuor is achieved by collecting all calls of front-end functions and storing them to special handlers assigned to each object. In principle we do not even need WL Kernel to update the content, just WLJS interpreter is already enough. "),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Update event propagates only to the first nearest parent")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Update event is fired on the instance on a container, not on the inner expressions. After that the container reevaluates itself with a method ",(0,a.kt)("inlineCode",{parentName:"p"},"update")," applied to all nested expressions")),(0,a.kt)("p",null,"We just scratched a top of the surface, the things you can do with it are quite bigger..."))}u.isMDXComponent=!0},2406:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/FE data binding.excalidraw 1-85570bba6d3369dcd0dfe88d72a92aa6.svg"}}]);