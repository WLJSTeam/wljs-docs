"use strict";(self.webpackChunkwlx_docs=self.webpackChunkwlx_docs||[]).push([[36288],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var o=t(96540);const r={},i=o.createContext(r);function a(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(i.Provider,{value:n},e.children)}},33989:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>f,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var o=t(74848),r=t(28453);const i={env:["Wolfram Kernel","WLJS"],source:"https://github.com/JerryI/wljs-interpreter/blob/dev/src/Definitions.wl",package:"wljs-interpreter"},a=void 0,l={id:"frontend/Reference/Interpreter/Offload",title:"Offload",description:"Holds (or offloads) an expression to be evaluated on frontend (WLJS)",source:"@site/docs/frontend/Reference/Interpreter/Offload.md",sourceDirName:"frontend/Reference/Interpreter",slug:"/frontend/Reference/Interpreter/Offload",permalink:"/frontend/Reference/Interpreter/Offload",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1749492433e3,frontMatter:{env:["Wolfram Kernel","WLJS"],source:"https://github.com/JerryI/wljs-interpreter/blob/dev/src/Definitions.wl",package:"wljs-interpreter"},sidebar:"tutorialSidebar",previous:{title:"FrontEditorSelected",permalink:"/frontend/Reference/Interpreter/FrontEditorSelected"},next:{title:"OffloadFromEventObject",permalink:"/frontend/Reference/Interpreter/OffloadFromEventObject"}},s={},d=[{value:"Options",id:"options",level:2},{value:"<code>&quot;Volatile&quot;</code>",id:"volatile",level:3},{value:"<code>&quot;Static&quot;</code>",id:"static",level:3},{value:"Related",id:"related",level:2},{value:"Examples",id:"examples",level:2},{value:"Symbols tracking and deferred evaluation",id:"symbols-tracking-and-deferred-evaluation",level:3},{value:"Force WL Kernel to offload an expression",id:"force-wl-kernel-to-offload-an-expression",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components},{Wl:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Wl",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Holds (or offloads) an expression to be evaluated on frontend (WLJS)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mathematica",children:"Offload[expr_, opts___]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["It has ",(0,o.jsx)(n.code,{children:"HoldFirst"})," attribute."]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["Please, see the tutorial ",(0,o.jsx)(n.a,{href:"/frontend/Dynamics",children:"Dynamics"})]})}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["Nested ",(0,o.jsx)(n.code,{children:"Offload"})," is allowed"]})}),"\n",(0,o.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,o.jsx)(n.h3,{id:"volatile",children:(0,o.jsx)(n.code,{children:'"Volatile"'})}),"\n",(0,o.jsxs)(n.p,{children:["Blocks or allows updates. Only normal evaluation will be allowed if it is set to ",(0,o.jsx)(n.code,{children:"False"}),". The default values is ",(0,o.jsx)(n.code,{children:"True"})]}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsxs)(n.p,{children:["In such case an expression will not be evaluated during the updates and will return undefined value. Use it only in constructions like ",(0,o.jsx)(n.code,{children:"CompoundExpression"})]})}),"\n",(0,o.jsx)(n.h3,{id:"static",children:(0,o.jsx)(n.code,{children:'"Static"'})}),"\n",(0,o.jsxs)(n.p,{children:["Prevents or allows a parent instance to listen changes of an inner expression. The default value is ",(0,o.jsx)(n.code,{children:"False"}),"."]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:"The typical case scenario is you don't want to create extra bondings between an objects and other dynamic symbols."})}),"\n",(0,o.jsx)(n.h2,{id:"related",children:"Related"}),"\n",(0,o.jsxs)(n.p,{children:["See also ",(0,o.jsx)(n.a,{href:"/frontend/Reference/Interpreter/OffloadFromEventObject",children:"OffloadFromEventObject"})]}),"\n",(0,o.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,o.jsx)(n.h3,{id:"symbols-tracking-and-deferred-evaluation",children:"Symbols tracking and deferred evaluation"}),"\n",(0,o.jsx)(n.p,{children:"Typical example for the dynamic evaluation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mathematica",children:"pts = RandomReal[{-1,1}, {64, 2}];\nGraphics[{PointSize[0.02], Point[pts // Offload]}, ImageSize->500]\n"})}),"\n",(0,o.jsx)(t,{children:"Graphics[{PointSize[0.02], Point[RandomReal[{-1,1}, {64, 2}] // Offload]}, ImageSize->500]"}),"\n",(0,o.jsx)(n.p,{children:"Now the symbol was actually evaluated on the frontend (browser/ client) using fetched data from the server."}),"\n",(0,o.jsx)(n.p,{children:"And then, change the variable from the separate task"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mathematica",children:"task = SetInterval[With[{},\n  pts = (# + 0.001 Sum[\n    (i - #)/(Norm[i - #]^3 + 0.1) - (i - #)/(Norm[i - #]^5 + 0.1)\n  , {i, pts}]) &/@ pts;\n], 100]\n"})}),"\n",(0,o.jsx)(n.p,{children:"Don't forget to remove it afterwards"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mathematica",children:"TaskRemove[task]\n"})}),"\n",(0,o.jsx)(n.h3,{id:"force-wl-kernel-to-offload-an-expression",children:"Force WL Kernel to offload an expression"}),"\n",(0,o.jsxs)(n.p,{children:["Looking back to the previous example, the function  ",(0,o.jsx)(n.code,{children:"RandomReal"})," implemented on both sides. If you offload it to the ",(0,o.jsx)(n.code,{children:"Point"})," expression"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-mathematica",children:"Graphics[{PointSize[0.02], Point[RandomReal[{-1,1}, {64, 2}] // Offload]}]\n"})}),"\n",(0,o.jsx)(n.p,{children:"Each time you load a notebook the distribution of the point will be different, since it reevaluate it on frontend's side each time."})]})}function f(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);