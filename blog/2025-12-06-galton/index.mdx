---
tags:
  - showcase
enableComments: true
authors: jerryi
---


# Galton Board
Adapted example by [Gabriel Lemieux](https://www.wolframcloud.com/obj/gabriel.lemieux/Published/GaltonBoard.nb) (2025)

> The Galton Board notebook simulates the behavior of a physical Galton boardâ€”a device that demonstrates the Central Limit Theorem using a grid of pegs and falling balls that bounce randomly to form a bell-shaped distribution.

<!--truncate-->

import { WLJSHTML, WLJSEditor, WLJSStore } from "@site/src/components/wljs-notebook-react";


<WLJSStore kernel={require('./attachments/kernel-6289452430049027080.txt').default} json={require('./attachments/28c0ba06-969e-4e5d-9785-71449ca60130.txt').default} notebook={require('./attachments/notebook-28c.wln').default}/>




<WLJSEditor display={"codemirror"} nid={"28c0ba06-969e-4e5d-9785-71449ca60130"} id={"88209729-1045-41cf-b3f8-d757c0fa9fb7"} type={"Input"} opts={{"InitGroup":true,"Fade":true}} >{`%28%2ABB%5B%2A%29%28%2A%20Initialization%20%2A%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNhYGAo5gcSAUX5ZZkpqSn%2BBSWZ%2BXnFaYwgCS4g4Zyfm5uaV%2BKUXxEMUqxsbm6exgSSBPGCSnNSg9mAjOCSosy8dLBYSFFpKpoKkDkeqYkpEFXBILO1sCgJSczMQVYCAOFrJEU%3D%22%2A%29%28%2A%5DBB%2A%29%0AClearAll%5Bball%2C%20pos%2C%20mom%2C%20bins%2C%20peg%5D%3B%0A%0Aball%20%3D%20%3C%7C%0A%20%20r%20-%3E%200.1%2C%20%20%20%20%20%20%20%20%20%28%2A%20Radius%20of%20the%20ball%20%2A%29%0A%20%20n%20-%3E%2050%20%20%20%20%20%20%20%20%20%20%28%2A%20Number%20of%20simultaneous%20balls%20%2A%29%0A%7C%3E%3B%0A%0Apeg%20%3D%20%3C%7C%0A%20%20r%20-%3E%200.25%20%20%20%20%20%20%20%20%20%28%2A%20Radius%20of%20the%20pegs%20%2A%29%0A%7C%3E%3B%0A%0Asim%20%3D%20%3C%7C%0A%20%20%5C%5BCapitalDelta%5Dt%20-%3E%200.05%2C%20%20%20%20%28%2A%20Higher%20Value%20need%20to%20correct%20collision%20positions%20%2A%29%0A%20%20%5C%5BEpsilon%5D%20-%3E%200.4%2C%20%20%20%20%20%20%20%20%20%20%20%28%2A%201.0%20means%20all%20energy%20back%20in%20the%20ball%20%2A%29%0A%20%20g%20-%3E%20%7B0%2C%20-9.81%7D%2C%20%20%20%20%20%20%20%20%20%20%20%20%20%28%2A%20You%20can%20tilt%20the%20board%20%2A%29%0A%20%20n%20-%3E%20300%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%2A%20Total%20Number%20of%20Balls%20%2A%29%0A%7C%3E%3B%0A%0A%28%2A%20Initialize%20Position%20and%20Momentum%20Matrices%20%2A%29%0ArandomBall%20%3A%3D%20%7BRandomReal%5B%7B-0.05%2C%200.05%7D%5D%2C%20RandomReal%5B%7B0%2C%201%7D%5D%20%2B%2010%7D%3B%0Aball%5Bpos%5D%20%3D%20Table%5BrandomBall%2C%20ball%5Bn%5D%5D%3B%0Aball%5Bmom%5D%20%3D%20Table%5B0%2C%20ball%5Bn%5D%2C%202%5D%3B%0Aball%5Bbins%5D%20%3D%20%7B%7D%3B%0A%0A%28%2A%20positions%20of%20bin%20rectangles%20%3A%20only%20for%20visualizaiton%20%2A%29%0ArectangleBins%20%3D%20Table%5B0.01%2C%20%7Bi%2C-8%2C8%2C1%7D%5D%3B%0A%0A%28%2A%20Peg%20position%20%2A%29%0Apeg%5Bpos%5D%20%3D%20Flatten%5BTable%5B%7Bii%20%2B%200.5%20jj%2C%20jj%7D%2C%20%7Bii%2C%20-15%2C%2010%7D%2C%20%7Bjj%2C%200%2C%208%7D%5D%2C%201%5D%3B%0A%0AvisPositions%20%3D%20ball%5Bpos%5D%3B%0A%0AsimulateNext%5B%5D%20%3A%3D%20With%5B%7B%7D%2C%0A%20%20%28%2A%20Step%20%2A%29%0A%20%20%28%2A%20Scheme%3A%20Backward%20Euler%20%2A%29%0A%0A%20%20%28%2A%20Next%20Step%20Momentum%20%2A%29%0A%20%20ball%5Bmom%5D%20%2B%3D%20Threaded%5Bsim%5B%5C%5BCapitalDelta%5Dt%5D%20sim%5Bg%5D%5D%3B%0A%0A%20%20%28%2A%20Next%20Position%20Prediction%20%2A%29%0A%20%20next%20%3D%20ball%5Bpos%5D%20%2B%20sim%5B%5C%5BCapitalDelta%5Dt%5D%20ball%5Bmom%5D%3B%0A%0A%20%20%28%2A%20Distance%3A%20Do%20not%20parallelize%2C%20it%27s%20already%20in%20the%20algo.%20%2A%29%0A%20%20dist%20%3D%20DistanceMatrix%5Bnext%2C%20peg%5Bpos%5D%5D%3B%0A%0A%20%20%28%2A%20Collisions%20between%20current%20and%20future%20step%20%2A%29%0A%20%20col%20%3D%20MapIndexed%5B%0A%20%20%20%20%7Bv%2C%20i%7D%20%7C-%3E%20%7B%0A%20%20%20%20%20%20SelectFirst%5Bv%2C%20%28%23%20%3C%20ball%5Br%5D%20%2B%20peg%5Br%5D%29%20%26%20-%3E%20%22Index%22%5D%2C%20i%5B%5B1%5D%5D%0A%20%20%20%20%7D%20%2F.%20%28%7BMissing%5B_%5D%2C%20_%7D%20-%3E%20Nothing%29%2C%0A%20%20%20%20dist%0A%20%20%5D%3B%0A%0A%20%20%28%2A%20Correct%20Momentum%20to%20include%20collisions%20%2A%29%0A%20%20If%5BLength%5Bcol%5D%20%3E%201%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20up%2C%20val%0A%20%20%20%20%7D%20%3D%20Transpose%5B%0A%20%20%20%20%20%20%20MapApply%5B%0A%20%20%20%20%20%20%20%20%7Bp%2C%20b%7D%20%7C-%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20b%2C%0A%20%20%20%20%20%20%20%20%20%20sim%5B%5C%5BEpsilon%5D%5D%20%2A%20Norm%5Bball%5Bmom%5D%5B%5Bb%5D%5D%5D%20Normalize%5Bnext%5B%5Bb%5D%5D%20-%20peg%5Bpos%5D%5B%5Bp%5D%5D%5D%0A%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20col%0A%20%20%20%20%20%20%5D%0A%20%20%20%20%5D%3B%0A%20%20%20%20momt%20%3D%20ball%5Bmom%5D%3B%0A%20%20%20%20momt%5B%5Bup%5D%5D%20%3D%20val%3B%0A%20%20%20%20ball%5Bmom%5D%20%3D%20momt%3B%0A%20%20%5D%3B%0A%0A%20%20%28%2A%20Update%20pos%20with%20corrected%20momentum%20%2A%29%0A%20%20ball%5Bpos%5D%20%2B%3D%20sim%5B%5C%5BCapitalDelta%5Dt%5D%20ball%5Bmom%5D%3B%0A%0A%20%20%28%2A%20Filter%20through%20the%20balls%2C%20remove%2Freset%20and%20register%20those%20exiting%20%2A%29%0A%20%20exited%20%3D%20Select%5Bball%5Bpos%5D%2C%20%23%5B%5B2%5D%5D%20%3C%200%20%26%20-%3E%20%22Index%22%5D%3B%0A%20%20ingame%20%3D%20Select%5Bball%5Bpos%5D%2C%20%23%5B%5B2%5D%5D%20%3E%200%20%26%20-%3E%20%22Index%22%5D%3B%0A%20%20%0A%20%20If%5BLength%5Bexited%5D%20%3E%200%2C%0A%20%20%20%20ball%5Bbins%5D%20%3D%20Join%5Bball%5Bbins%5D%2C%20ball%5Bpos%5D%5B%5Bexited%2C%201%5D%5D%5D%0A%20%20%5D%3B%0A%0A%20%20%28%2A%20Remove%20them%20from%20the%20pos%20and%20mom%20matrices%20%2A%29%20%0A%20%20ball%5Bpos%5D%20%3D%20ball%5Bpos%5D%5B%5Bingame%5D%5D%3B%0A%20%20ball%5Bmom%5D%20%3D%20ball%5Bmom%5D%5B%5Bingame%5D%5D%3B%0A%0A%20%20%28%2A%20Insert%20new%20ball%20%2A%29%0A%20%20left%20%3D%20sim%5Bn%5D%20-%20Length%5Bball%5Bbins%5D%5D%20-%20Length%5Bball%5Bpos%5D%5D%3B%0A%20%20toAdd%20%3D%20Min%5Bleft%2C%20ball%5Bn%5D%20-%20Length%5Bball%5Bpos%5D%5D%5D%3B%0A%20%20Do%5B%0A%20%20%20%20AppendTo%5Bball%5Bpos%5D%2C%20randomBall%5D%3B%0A%20%20%20%20AppendTo%5Bball%5Bmom%5D%2C%20%7B0%2C%200%7D%5D%2C%0A%20%20%20%20toAdd%0A%20%20%5D%3B%0A%0A%20%20%28%2A%20Update%20visible%20positions%20%2A%29%0A%20%20visPositions%20%3D%20ball%5Bpos%5D%3B%0A%0A%20%20%28%2A%20Update%20bins%20%2A%29%0A%20%20If%5BLength%5Bball%5Bbins%5D%5D%20%3E%205%2C%20%20With%5B%7Bh%20%3D%20HistogramList%5Bball%5Bbins%5D%2C%20%7B-8%2C%208%2C%201%7D%5D%7D%2C%0A%20%20%20%20rectangleBins%20%3D%20Rescale%20%40%20ReplacePart%5B%0A%20%20%20%20%20%20%20%20ConstantArray%5B0.01%2C%20Length%40h%5B%5B1%5D%5D%5D%2C%20%20%20%20%20%20%20%20%20%20%20%28%2A%2017%20entries%20at%20.01%20%2A%29%0A%20%20%20%20%20%20%20%20Thread%5BMost%40h%5B%5B1%5D%5D%20%2B%209%20-%3E%20h%5B%5B2%5D%5D%5D%20%20%20%20%20%20%20%20%20%20%20%20%20%20%28%2A%20now%20integers%201%2C2%2C%E2%80%A616%20%2A%29%0A%20%20%20%20%20%20%5D%0A%20%20%5D%5D%3B%0A%5D%3B`}</WLJSEditor>

Display function:

<WLJSEditor display={"codemirror"} nid={"28c0ba06-969e-4e5d-9785-71449ca60130"} id={"992d09f6-e667-4d59-be49-7ee2e4820446"} type={"Input"} opts={{}} >{`Graphics%5B%7B%0A%0A%20%20%7BOrange%2C%20Table%5BWith%5B%7Bi%3Di%2C%20j%3Di%2B9%7D%2C%0A%20%20%20%20Rectangle%5B%7Bi%2C0%7D%2C%20%7Bi%2B1%2C%202.0%20rectangleBins%5B%5Bj%5D%5D%20%2F%2F%20Offload%7D%5D%0A%20%20%5D%2C%20%7Bi%2C-8%2C8%2C1%7D%5D%7D%2C%0A%0A%20%20%7BLightGray%2C%20EdgeForm%5BGray%5D%2C%20Disk%5B%7B%231%2C%20%232%7D%2C%20peg%5Br%5D%5D%7D%20%26%20%40%40%40%20peg%5Bpos%5D%2C%0A%20%20%7BPointSize%5B0.02%5D%2C%20Opacity%5B0.8%5D%2C%20Blue%2C%20Point%5BvisPositions%20%2F%2F%20Offload%5D%7D%2C%0A%20%20%0A%20%20AnimationFrameListener%5BvisPositions%20%2F%2F%20Offload%2C%20%22Event%22-%3E%22frameEvent%22%5D%0A%7D%2C%0A%20%20AspectRatio%20-%3E%200.5%2C%0A%20%20PlotRange%20-%3E%20%7B10%20%7B-1%2C%201%7D%2C%2010%20%7B0%2C%201%7D%7D%2C%0A%20%20PlotRangeClipping%20-%3E%20True%2C%0A%20%20ImageSize%20-%3E%20Large%2C%0A%20%20TransitionType-%3ENone%0A%5D%0A%0AEventHandler%5B%22frameEvent%22%2C%20Function%5BNull%2C%0A%20%20If%5BLength%5Bball%5Bpos%5D%5D%20%3E%200%2C%20simulateNext%5B%5D%20%5D%3B%0A%5D%5D%3B`}</WLJSEditor>

<WLJSEditor display={"codemirror"} nid={"28c0ba06-969e-4e5d-9785-71449ca60130"} id={"3dafaa51-6b5e-44c7-a44e-dacb7ac19d9c"} type={"Output"} opts={{}} >{`%28%2AVB%5B%2A%29%28FrontEndRef%5B%225923fdb1-4965-4c18-880e-848cf2ab7064%22%5D%29%28%2A%2C%2A%29%28%2A%221%3AeJxTTMoPSmNkYGAoZgESHvk5KRCeEJBwK8rPK3HNS3GtSE0uLUlMykkNVgEKm1oaGaelJBnqmliameqaJBta6FpYGKTqWphYJKcZJSaZG5iZAAB5%2FRUj%22%2A%29%28%2A%5DVB%2A%29`}</WLJSEditor>

To reset the model run:

<WLJSEditor display={"codemirror"} nid={"28c0ba06-969e-4e5d-9785-71449ca60130"} id={"47fc9d66-787c-43b2-a1df-8a198ed93598"} type={"Input"} opts={{}} >{`randomBall%20%3A%3D%20%7BRandomReal%5B%7B-0.05%2C%200.05%7D%5D%2C%20RandomReal%5B%7B0%2C%201%7D%5D%20%2B%2010%7D%3B%0Aball%5Bpos%5D%20%3D%20Table%5BrandomBall%2C%20ball%5Bn%5D%5D%3B%0Aball%5Bmom%5D%20%3D%20Table%5B0%2C%20ball%5Bn%5D%2C%202%5D%3B%0Aball%5Bbins%5D%20%3D%20%7B%7D%3B%0AvisPositions%20%3D%20ball%5Bpos%5D%3B%0A%0ArectangleBins%20%3D%20Table%5B0.01%2C%20%7Bi%2C-8%2C8%2C1%7D%5D%3B`}</WLJSEditor>