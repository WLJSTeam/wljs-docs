---
sidebar_position: 4
---
import Component from '@site/src/components/wljs-notebook-react/includes';
import Notebook from '@site/src/components/wljs-notebook-react';

<Component></Component>

__[Github repo](https://github.com/JerryI/wljs-js-support)__
Javascript code is evaluated as a module, i.e. __all defined variables are isolated to the cell__.

:::tip
To define global variables, use `window` or `core` object.
```js
window.variable = 1
```
:::

## Output cell
The returned value from the function can be a Javascript object or DOM element. The last one will be displayed in the output cell

<Notebook code="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" name="pusillanimous-88281">pusillanimous-88281</Notebook>


## Handlers
There is a few quite useful built-in objects accesable from the cell. 

### this.ondestroy
This object is called when a cell has been destroyed. Assign any clean-up function to the given object

```js
this.ondestroy = () => {
	//clean up the stuff
}
```

:::danger
Always clean up any timers using `this.ondestroy` variable. Otherwise those timers and animation loops will continue to work even after reevaluating the cell.
:::

### requestAnimationFrame
It is well-common method used in Javascript to synchronize with a framerate of the browser and render some graphics

<Notebook code="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" name="blood-b8070">blood-b8070</Notebook>

:::danger
Do not forget to `cancelAnimationFrame` using `this.ondestroy` method
:::

## Communication with Wolfram Kernel
In general one can define any function for WLJS Interpreter using Javascript cells, please see guide here [js-access](../../interpreter/Basics/js-access.md). 

For the most applications event-based system is used, see [Dynamic](../Evaluation/Dynamic.md)

WSP Template engine is also working.
