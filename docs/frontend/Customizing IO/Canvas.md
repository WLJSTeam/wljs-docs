---
sidebar_position: 1
---
The first powerful component we have is  `canvas`. It supports WebGL renderer, i.e. one can run graphics shaders and use GPU to accelerate the rendering.

:::note
`Graphics3D` implementation also uses `canvas` to render 3D models
:::

However the tutorial is focused on the simples possible API, that uses mostly CPU, but still good enough for simple graphics

import Component from '@site/src/components/wljs-notebook-react/includes';
import Notebook from '@site/src/components/wljs-notebook-react';

<Component></Component>

Let's try the simples approach we can have

## Preliminary steps
<Notebook code="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" name="detonator-b8357">detonator-b8357</Notebook>

:::info
Javascript cell can return `string`, `Object` or DOM element, that will be shown on the output cell
:::

:::info
Inside Javascript cells all defined variables are scoped to this cell. Therefore use DOM `id`s to manipulate created elements from other cells.
:::

## Binding to Wolfram Language
The next step is to use a bridge between Wolfram Language and Javascript maintained by [WLJS interpreter](../../../interpreter/intro.md) 

<Notebook code="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" name="brat-3cdc9">brat-3cdc9</Notebook>

:::info
To call any JavaScript function defined in `core` context, use `FrontSubmit` expression on on the desired Wolfram Expression. There is 1:1 correspondence with respect to Wolfram Language symbols, please see [WLJS interpreter](../../../interpreter/intro.md) for more information.
:::

:::info
`core` context basically is a synonym to `Global` in Wolfram Language. Most symbols are parts of this object.
:::

:::tip
Always apply `await interpretate` to the arguments of defined function. It converts all Wolfram expressions being passed to the function to a plain javascript types. I.e. try to do any computing using native Javascript functions to minimize an overhead.
:::

## Plotting an array of data
Before our external function could take only one pair of numbers. This is boring, let us try to create something more useful and pretty

<Notebook code="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" name="reconsider-e6ec5">reconsider-e6ec5</Notebook>

Here it is animated without involving Wolfram Kernel, we only provide a new set of data every `0.1` seconds to the frontend.

:::danger
Working in `.js` cells, always clean up the handlers, timers using `this.ondestroy` variable. Otherwise those timers and animation loops will continue to work even after reevaluating the cell.
:::

Download this notebook via a link
__[CanvasStepByStep](../Tutorial/files/CanvasStepByStep.wl)__

## Making a native Wolfram frontend object
There is no need in having just one canvas, we can go further and implement sort of a native function, that will behave like `Graphics`, `Plot`.

Firstly, we can utilize the property of functions executed inside [containers](../../../interpreter/Advanced/containers.md), and place all variables to the instance's local memory

<Notebook code="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" name="duly-67b8d">duly-67b8d</Notebook>

:::tip
Use `env.local` object to store any variables related to that particular call of a function. `env.local` is unique for each call, but the same for `update`, `destroy` methods. Please see [architecture](../../../interpreter/Advanced/architecture.md).
:::

:::tip
Use `env.element` to access to a DOM element provided by an editor for the function. This you will see as an inset inside the output cell.
::: 

Now one can execute it in a normal way, where the result is a symbol-like representation to which we got used to using `Plot` functions

<Notebook code="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" name="widowed-f8ac1">widowed-f8ac1</Notebook>

:::tip
Use `CreateFrontEndObject` to call JavaScript (WLJS) function inside a container
:::

### Clean-up methods
In a case if you remove a widget from the output cell, DOM elements no longer exists, therefore you need manually remove event loops and etc. Like we did in a plain `.js` cell, there is similar method 

<Notebook code="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" name="trivial-3b8d0">trivial-3b8d0</Notebook>

:::note
More about methods - see [architecture](../../../interpreter/Advanced/architecture.md)
:::

### Update methods
This is a __one of the key-features__ implemented in this project. 
:::info
In order to optimize the dynamic evaluation and updates of graphs for each expression, that implies dynamic binding to the changing symbols, there must be an `update` method defined. 
:::
You can think about it if it was an `UpValue` for a symbol, which is called when a change to the nested structure happens. The dynamic binding happens between the nearest [containerized](../../../interpreter/Advanced/containers.md) expressions. See an explanation here [Dynamics](../Tutorial/Dynamics.md).

<Notebook code="H4sIAG2DjWQAA+1abW+jSBL+K335kmQVMHQDDfMS6da7pzkpex/2TvPhktEIQ9smi8ECHCd72v9+TzU02I6dSXK72rmR45lAdVdV19tT4O5cX1+fJHFxF9cnF9cnf62q+OGHKl4TcZXVzXB1Lxz9cfWnvd+l8Pm0R2BjeucD4UHAsA4a94puCuwyPRbYWsFo3qd3w6dtk2jikED3f3eFnZg89mjXh0PROej0HjcP5eFJvcP9tsBTSduT6cMOD8bt5GE3xx3Txt2ePAxx35uRp0zarK7+bp/T+/PdCW2X92OBR4L78rDfgz2lsRmbQWxH8HF5HyoQEyX8QKZFvRWvmvIR9D+UeXpycTIp4yo9afmvT/5WlUXzY5GOKxU3aqzyHCyn72qVNFlZsCSP6/r9zUmCCWtdxculqtiUZFSRWkWZqpsTxurmIVfgKpdxkjUPb5j79ubk8l2a3fUKmrIcFJCcVaumyYoZjNVL1YNa4q2hN9F0o9KsiSd6gWmc11jx8qZg3Q8tskGaoe11MbAl1HNOVk0DL5uHJWlvqacW7tVOmmLXizTdu4ZeJ1vM2DpLmzlEXR965iqbzRtD1VWC21F9NxtBjY0rqH32jloTn3DlsIHzTCfr2b4e8gXWsbtMrb8v78HsMIdxD/+gKq6ymJZJVUGRr1abEcuwUDeJ0WmW51RWq6rC4uMyLyuM3i/ygnjnTbN8Mxqt12t7Leyymo244zgUnw2FaRXPPmPo8+d/Uvmlf8cC38e1slQcrfJby2EDR7b6x8/llCLdVapOBuo0XN6/7ZJhqISMecOq2SQ+8/0L5osL5skL5tjinMp6f1h0aJZxM++XaKq4qKdltXjD6iTO1Rm3HVLAUkz+FNgOl8JjoR3ixhsHNpeuFxqaBbYn3YBoGiY6CLjrgvZdL/CvXMfmoSOYZ4dccG8M2uPg9+xA4sNA+yC8KHAiQ/DQ5T5x+kzYoe/6mk2rFxiLbMlFIOh+HNm+E8qoGxdO6Ov7UIYRaNfnMF3Y0oscfgVXBOcCJkZBEF5xO3Ik52Z6zHElI4w4t33fkaFWzW0hXIfMgV2Qc4XU4y54vIBkOjM7uvehpzsH7YDLiKLReW9L6Xmuic6Vb4uI+xRNHb2x39lC0Y2kYL4tw9DZjP5Wdv5N3WxE2d2f/XdUmi/E618s68uYpQr+EzD7DaPT2Dd4WZQF+axRicjMuXfHvQ/OR+fXL2R9v1atB0B1w8RBHbqWjZK3OOO1xXGPX5zRpR3ELX7xXxcYDxML/MzpGep2kj6dlk6BBQHHCl7EHzAv0ez9ZN3P9ho6c8gg8L3MHvYie14V22NrPbbW3dZqWa/urr/nG1H/dhdsvd0Rtd14XYSQRre7jzHytr63RIikSslD9OfLFgPEbFUrbYy6U3ADL5sQypaPR9sGRKVC2RO2E4TBGLTAD9GBH6I7Ic0czwAX/1C0PhWC9wGl+dHlH7qRMZgcFBFzOfELh5hcO/Rc6HVtGKnHg9AFRqhMAqn1oqLpikLV8zzw9LWjP5J24m9pYI1TVYEWjktAiRwfdnKAh0Vkt49SEZEMwSxsDspcxz3NgWgYI+0gEgHZS8LShsFSe6FVow0A54MpKEzJPSzV0/7HwTAPQn6oZ7VjBAfX0w5qxz1buGGgHdeB8YDcNq46ZENYdVSv8J9tBVZHH8Z0ecFFh7VLGy7CFWAUtgcnCLiIqk5fZx2i6sKajoblFFRD4SL9dtbj5LnrcanjF7m+rxugdHX8ogiLowGiQ6IAbCcSNC090dJcoA8GQLqUyAV8DtDE0IxcGEfzfhRKhoV8Jj9qBj0APzrWyHZCRKlXhf4GC13i1EtFSGDAdZlqS9APZUeSoYga5yHXjpEjEXoWcNG7TdWDHG7SKGCoNzSlHr3JhJEKBYr7MHfoQA8ycNz7XjG0qAGNh3lfDlZYEUUEsg6swGgQSJjZgRW1J3U+PaTWox8Ca9CCtRsZe/oRQWCgVh15lKAOrEgLAKRpDVYkRwq0YANWJEdKPDYMWAe6BWtPd2Cl6ouwlAErPUqiCDQsH9CKhxOBs73Qo4ooMHAyxUDViBqwGtUGrGZpA9aBJrAayoDVOGbAahw3YDWB6cBqQjaEVUcVT10C6xDYNvr02G3z0oHVpM2AFa3KIywbsPLeuhashm7B2lMdWEH79Nw0YMUrTejBBwNW0E6A56kBKyo48IIBrLYMIuLusGoHQsDUHqu2hzcANEXmMnkFJIGjHdFPeM3bg7VV1WO1W8lg1RjSYdXYabBq/DBYNX4arG7QGqs93WHVRNFgdQccX3pfeMULw7vR9h7SJm3ub4qtXaXuFcFsaAHIGSE5dKWa4mlhxb4SlpdOQisOpLRk4E4jEYlpKNyUC5nE+sm+vbu2jPGFCPrQX8xG2DCkOfrdE/rqNNvZmXqhAZZlZcVy1bThfGoHLS/jVFVWnhWKbdxbWZrTO9Fu9HbvzDzy0u4pXp7qncm6LpMspgEif0ZjpI3HLMXsyenz/Tg9oW1PI15ns0IrmGWLpIqTXyzUbBRuM9H7nmbSAdieS+MGKnFjL9Kb4l9zVSmW1XhvZIVSKWtKVil1F+crbJayZq50YlhWsLJCYGh+tYSObk5vxl6wtWLz+E6xmNVLBadztlDNvEwZvsKAMd6xIZlneRuG7m5zEiWBwtOz5nZzulD37WR7syVZqbtWTt9sT5XL+qm0tJUHDtogaHea+4hl9TKPH1p78Xq9yKqqrHbS0iAkbchRNJjTGg5sPb8EFuWqQQotYnwKFrE/iZOpI63AV7Hl4SFoRXhSWNM0TP1IJYmHEctqtfWIuCGHv1Spz1H9v9Roa9OBIj1W6OMK1Yk/XKKLuPolLdfgfHWBHs9Gjmcjv+/ZyLe95XrctTvu2h0PRL5WdB4PRI4HIsfW+g211uOByPFA5HggcjwQOR6IHA9EjgcixwORP/NAJIqjaZjwwEq5TC3PSbk1CWJhBROPx5EfTYIIY685EHlqu/f5q37dpyDP9+MPOwW5rW+KpKyU3f8lud1tH79ncf1QJOwsrmbYQVbF3Tl7f8n+Q/6ORpWqG4i1m8yUvPuGJnLVGBIKIGPnJb6v2Elz/5bmMVc32KwuVPUDbNji6Uc152g0g65CrRkZO8jGZCcZt44z0tSoCrvJtL2rDb3GX9ZrW7WSQUy/rZIYidu5KmYgN0xqX2ANA7R0PJ0tbUzovlWAr2I/xsn87Kwq1xcsGyLDGEaGaarzC3a7Oc9YNmV6gr1j7jl285tVVWAdMz2ifdDec9rQpyDrGOH7IILe6zEBs5eren7W6yefcBiQFTC5fsOuf0LvsKc5xs4y9h07E9i70PE4P7fcC7YxfWum23A8mt8Qtdzzx1OdGOY+XQzW5NlUNdlCYUejH/2NEjR4nGcLZJP8LFaLCXbJyylblsguynMI2uBwl8BLJpzvhHO+EYp6nk2bszb93TLd5bdv5ozjaz2GmzgRD6eeZwWB61ueEqEVhpGwkknKozSUsUjlK4/hnqP6DzyGa0HKTk9RR8d2eWyXx3b5f9Qub6HlC23y06f/AubFK/RTOwAA" name="gimcrack-25698">gimcrack-25698</Notebook>

As one can see, full reevaluation of the `ArrayDraw` does not happen. Since `ArrawDraw.update` is a dedicated function, we can optimize the updates leaving out all unnecessary steps (recreating DOM, drawing supplementary stuff).

It allows us to simplify the final code a lot

<Notebook code="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" name="intern-030ff">intern-030ff</Notebook>

Now `board` automatically binds to `ArrayDraw` instance, by setting `baord` to a new value, it redraws (using `update` method) our plot.

### Final touch
There is one more thing to improve. 

<Notebook code="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" name="primal-074dc">primal-074dc</Notebook>

:::info
Apply `RegisterWebObject` to any expression you want to be executed on frontend [WLJS interpreter](../../../interpreter/intro.md) inside a [container](../../../interpreter/Advanced/containers.md). 
:::

Download this notebook
__[ArrayPlotterAdvanced](../Tutorial/files/ArrayPlotterAdvanced.wl)__

## Wrapping up into a package
If you are writing a library it is better to ship it as a package. The package system is a bit different compared to Mathematica's, since it involves at least two languages

Firstly, __clone a sample package__ into `wolfram-js-frontend/Packages` folder
```bash
cd Packages
git clone https://github.com/JerryI/wljs-template

mv wljs-template wljs-name-of-my-plugin
cd wljs-name-of-my-plugin
rm -r .git
```

Now you can work and test you future package without any troubles. Wolfram Frontend will detect a new package and load it after next startup. 

__Open `package.json` file and remove unnecessary lines in `wljs-meta`__, we only need
```js
  "wljs-meta": {
    "jsmodule": "src/kernel.js",
    "wlkernel": "src/kernel.wl",
    "autocomplete": "src/autocomplete.js"
  }
```

:::note
Usually `jsmodule` is located in `dist` directory for most plugins. However, our example does not require any building or compilation (since no external libraries involved).
:::

__Now open `src/kernel.js`__ and write our Javascript code we stored in cells
```js
const getRandomInt = (max) => {
  return Math.floor(Math.random() * max);
}

core.ArrayDraw = async (args, env) => {
  const canvas = document.createElement('canvas');
  canvas.width = 300;
  canvas.height = 300;
  
  //append our canvas to the provided DOM
  env.element.appendChild(canvas);
  
  let context = canvas.getContext("2d");
  
  //use local memory to store the canvas
  env.local.ctx = context;

  //store the data in JS
  const innerData = [];
  env.local.innerData = innerData;

  const array = await interpretate(args[0], env);
  
  const width = array.length ;
  const height = array[0].length;
  
  array.forEach((row, i) => {
    row.forEach((cell, j) => {
      if (cell < 1) return;

      //add new data to the local store
      innerData.push({
        coordinates: [Math.floor(i * (300/width))-1, Math.floor(j * (300/height))-1, Math.floor((300/width)-1), Math.floor((300/height)-1)],
        lifetime: 1,
      });

      //limit the number of points
      if (innerData.length > 30*30) innerData.shift();
    });
  });

  //animation function
  function animate() {
    context.fillStyle = "white";
    context.fillRect(0, 0, 300, 300);

    //draw all data from the store and fade it based on the lifetime
    for (let i=0; i<innerData.length; ++i) {
      context.fillStyle = `rgba(${255/innerData[i].lifetime},0,${255 - 255/innerData[i].lifetime}, ${1/innerData[i].lifetime}`;
      context.fillRect(...innerData[i].coordinates);
      //a rectangle gets older
      innerData[i].lifetime = innerData[i].lifetime + 0.2;
    }

    //sync to the browser's frame rate
    env.local.uid = requestAnimationFrame(animate);
  }

  requestAnimationFrame(animate);
}

core.ArrayDraw.destroy = async (args, env) => {
  //remove animation loop
  cancelAnimationFrame(env.local.uid);
  //make shure that all other nested object will do the same
  interpretate(args[0], env);
}

core.ArrayDraw.update = async (args, env) => {
  //restore the context
  let context = env.local.ctx;
  const innerData = env.local.innerData;
  //get new data
  const array = await interpretate(args[0], env);
  
  const width = array.length ;
  const height = array[0].length;
  //update
  array.forEach((row, i) => {
    row.forEach((cell, j) => {
      if (cell < 1) return;

      //add new data to the local store
      innerData.push({
        coordinates: [Math.floor(i * (300/width))-1, Math.floor(j * (300/height))-1, Math.floor((300/width)-1), Math.floor((300/height)-1)],
        lifetime: 1,
      });

      //limit the number of points
      if (innerData.length > 30*30) innerData.shift();
    });
  });
}
```

Now we need to register a function. __Open a file `src/wlkernel.wl`__
```mathematica
RegisterWebObject[ArrayDraw]
```

And for the final touch - __add a new line into `src/autocomplete.js`__
```js
    {
        "label": "ArrayDraw",
        "type": "keyword",
        "info": "ArrayDraw[{{...}, {...}}] draws 2D binary lists"  
    }
```

Now restart Wolfram Frontend as well as Local Kernel to see the result.
Type in any notebook 

```mathematica
ArrayDraw[Table[RandomInteger[1], {i,20}, {j,20}]]
```